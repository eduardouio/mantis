(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function zo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const he={},Xt=[],it=()=>{},yr=()=>!1,to=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Jo=e=>e.startsWith("onUpdate:"),De=Object.assign,Qo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ri=Object.prototype.hasOwnProperty,ue=(e,t)=>ri.call(e,t),G=Array.isArray,Zt=e=>Is(e)==="[object Map]",ls=e=>Is(e)==="[object Set]",wn=e=>Is(e)==="[object Date]",X=e=>typeof e=="function",$e=e=>typeof e=="string",Xe=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object",xr=e=>(be(e)||X(e))&&X(e.then)&&X(e.catch),wr=Object.prototype.toString,Is=e=>wr.call(e),li=e=>Is(e).slice(8,-1),Cr=e=>Is(e)==="[object Object]",Yo=e=>$e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=zo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),so=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},ii=/-\w/g,Tt=so(e=>e.replace(ii,t=>t.slice(1).toUpperCase())),ai=/\B([A-Z])/g,Ht=so(e=>e.replace(ai,"-$1").toLowerCase()),Er=so(e=>e.charAt(0).toUpperCase()+e.slice(1)),mo=so(e=>e?`on${Er(e)}`:""),It=(e,t)=>!Object.is(e,t),Us=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Sr=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},oo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Cn;const no=()=>Cn||(Cn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xo(e){if(G(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=$e(n)?fi(n):Xo(n);if(r)for(const l in r)t[l]=r[l]}return t}else if($e(e)||be(e))return e}const ci=/;(?![^(]*\))/g,di=/:([^]+)/,ui=/\/\*[^]*?\*\//g;function fi(e){const t={};return e.replace(ui,"").split(ci).forEach(s=>{if(s){const n=s.split(di);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function fe(e){let t="";if($e(e))t=e;else if(G(e))for(let s=0;s<e.length;s++){const n=fe(e[s]);n&&(t+=n+" ")}else if(be(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const pi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hi=zo(pi);function $r(e){return!!e||e===""}function bi(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=ks(e[n],t[n]);return s}function ks(e,t){if(e===t)return!0;let s=wn(e),n=wn(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Xe(e),n=Xe(t),s||n)return e===t;if(s=G(e),n=G(t),s||n)return s&&n?bi(e,t):!1;if(s=be(e),n=be(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,l=Object.keys(t).length;if(r!==l)return!1;for(const a in e){const i=e.hasOwnProperty(a),d=t.hasOwnProperty(a);if(i&&!d||!i&&d||!ks(e[a],t[a]))return!1}}return String(e)===String(t)}function Zo(e,t){return e.findIndex(s=>ks(s,t))}const Rr=e=>!!(e&&e.__v_isRef===!0),g=e=>$e(e)?e:e==null?"":G(e)||be(e)&&(e.toString===wr||!X(e.toString))?Rr(e)?g(e.value):JSON.stringify(e,Ar,2):String(e),Ar=(e,t)=>Rr(t)?Ar(e,t.value):Zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],l)=>(s[go(n,l)+" =>"]=r,s),{})}:ls(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>go(s))}:Xe(t)?go(t):be(t)&&!G(t)&&!Cr(t)?String(t):t,go=(e,t="")=>{var s;return Xe(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let ke;class Pr{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!t&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ke;try{return ke=this,t()}finally{ke=s}}}on(){++this._on===1&&(this.prevScope=ke,ke=this)}off(){this._on>0&&--this._on===0&&(ke=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ir(e){return new Pr(e)}function kr(){return ke}function mi(e,t=!1){ke&&ke.cleanups.push(e)}let _e;const _o=new WeakSet;class Tr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_o.has(this)&&(_o.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Dr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,En(this),Nr(this);const t=_e,s=Ye;_e=this,Ye=!0;try{return this.fn()}finally{jr(this),_e=t,Ye=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)sn(t);this.deps=this.depsTail=void 0,En(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_o.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Io(this)&&this.run()}get dirty(){return Io(this)}}let Or=0,ps,hs;function Dr(e,t=!1){if(e.flags|=8,t){e.next=hs,hs=e;return}e.next=ps,ps=e}function en(){Or++}function tn(){if(--Or>0)return;if(hs){let t=hs;for(hs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ps;){let t=ps;for(ps=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Nr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function jr(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),sn(n),gi(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Io(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Mr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Mr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ys)||(e.globalVersion=ys,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Io(e))))return;e.flags|=2;const t=e.dep,s=_e,n=Ye;_e=e,Ye=!0;try{Nr(e);const r=e.fn(e._value);(t.version===0||It(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{_e=s,Ye=n,jr(e),e.flags&=-3}}function sn(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)sn(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function gi(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ye=!0;const Fr=[];function _t(){Fr.push(Ye),Ye=!1}function vt(){const e=Fr.pop();Ye=e===void 0?!0:e}function En(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=_e;_e=void 0;try{t()}finally{_e=s}}}let ys=0;class _i{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class on{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!_e||!Ye||_e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==_e)s=this.activeLink=new _i(_e,this),_e.deps?(s.prevDep=_e.depsTail,_e.depsTail.nextDep=s,_e.depsTail=s):_e.deps=_e.depsTail=s,Vr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=_e.depsTail,s.nextDep=void 0,_e.depsTail.nextDep=s,_e.depsTail=s,_e.deps===s&&(_e.deps=n)}return s}trigger(t){this.version++,ys++,this.notify(t)}notify(t){en();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{tn()}}}function Vr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Vr(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const qs=new WeakMap,Ut=Symbol(""),ko=Symbol(""),xs=Symbol("");function Te(e,t,s){if(Ye&&_e){let n=qs.get(e);n||qs.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new on),r.map=n,r.key=s),r.track()}}function ht(e,t,s,n,r,l){const a=qs.get(e);if(!a){ys++;return}const i=d=>{d&&d.trigger()};if(en(),t==="clear")a.forEach(i);else{const d=G(e),u=d&&Yo(s);if(d&&s==="length"){const c=Number(n);a.forEach((f,_)=>{(_==="length"||_===xs||!Xe(_)&&_>=c)&&i(f)})}else switch((s!==void 0||a.has(void 0))&&i(a.get(s)),u&&i(a.get(xs)),t){case"add":d?u&&i(a.get("length")):(i(a.get(Ut)),Zt(e)&&i(a.get(ko)));break;case"delete":d||(i(a.get(Ut)),Zt(e)&&i(a.get(ko)));break;case"set":Zt(e)&&i(a.get(Ut));break}}tn()}function vi(e,t){const s=qs.get(e);return s&&s.get(t)}function zt(e){const t=ae(e);return t===e?t:(Te(t,"iterate",xs),Je(e)?t:t.map(Pe))}function ro(e){return Te(e=ae(e),"iterate",xs),e}const yi={__proto__:null,[Symbol.iterator](){return vo(this,Symbol.iterator,Pe)},concat(...e){return zt(this).concat(...e.map(t=>G(t)?zt(t):t))},entries(){return vo(this,"entries",e=>(e[1]=Pe(e[1]),e))},every(e,t){return ut(this,"every",e,t,void 0,arguments)},filter(e,t){return ut(this,"filter",e,t,s=>s.map(Pe),arguments)},find(e,t){return ut(this,"find",e,t,Pe,arguments)},findIndex(e,t){return ut(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ut(this,"findLast",e,t,Pe,arguments)},findLastIndex(e,t){return ut(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ut(this,"forEach",e,t,void 0,arguments)},includes(...e){return yo(this,"includes",e)},indexOf(...e){return yo(this,"indexOf",e)},join(e){return zt(this).join(e)},lastIndexOf(...e){return yo(this,"lastIndexOf",e)},map(e,t){return ut(this,"map",e,t,void 0,arguments)},pop(){return as(this,"pop")},push(...e){return as(this,"push",e)},reduce(e,...t){return Sn(this,"reduce",e,t)},reduceRight(e,...t){return Sn(this,"reduceRight",e,t)},shift(){return as(this,"shift")},some(e,t){return ut(this,"some",e,t,void 0,arguments)},splice(...e){return as(this,"splice",e)},toReversed(){return zt(this).toReversed()},toSorted(e){return zt(this).toSorted(e)},toSpliced(...e){return zt(this).toSpliced(...e)},unshift(...e){return as(this,"unshift",e)},values(){return vo(this,"values",Pe)}};function vo(e,t,s){const n=ro(e),r=n[t]();return n!==e&&!Je(e)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.done||(l.value=s(l.value)),l}),r}const xi=Array.prototype;function ut(e,t,s,n,r,l){const a=ro(e),i=a!==e&&!Je(e),d=a[t];if(d!==xi[t]){const f=d.apply(e,l);return i?Pe(f):f}let u=s;a!==e&&(i?u=function(f,_){return s.call(this,Pe(f),_,e)}:s.length>2&&(u=function(f,_){return s.call(this,f,_,e)}));const c=d.call(a,u,n);return i&&r?r(c):c}function Sn(e,t,s,n){const r=ro(e);let l=s;return r!==e&&(Je(e)?s.length>3&&(l=function(a,i,d){return s.call(this,a,i,d,e)}):l=function(a,i,d){return s.call(this,a,Pe(i),d,e)}),r[t](l,...n)}function yo(e,t,s){const n=ae(e);Te(n,"iterate",xs);const r=n[t](...s);return(r===-1||r===!1)&&ln(s[0])?(s[0]=ae(s[0]),n[t](...s)):r}function as(e,t,s=[]){_t(),en();const n=ae(e)[t].apply(e,s);return tn(),vt(),n}const wi=zo("__proto__,__v_isRef,__isVue"),Lr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xe));function Ci(e){Xe(e)||(e=String(e));const t=ae(this);return Te(t,"has",e),t.hasOwnProperty(e)}class Ur{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return l;if(s==="__v_raw")return n===(r?l?Oi:Wr:l?Gr:Hr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=G(t);if(!r){let d;if(a&&(d=yi[s]))return d;if(s==="hasOwnProperty")return Ci}const i=Reflect.get(t,s,Se(t)?t:n);if((Xe(s)?Lr.has(s):wi(s))||(r||Te(t,"get",s),l))return i;if(Se(i)){const d=a&&Yo(s)?i:i.value;return r&&be(d)?Oo(d):d}return be(i)?r?Oo(i):Ts(i):i}}class Br extends Ur{constructor(t=!1){super(!1,t)}set(t,s,n,r){let l=t[s];if(!this._isShallow){const d=Ot(l);if(!Je(n)&&!Ot(n)&&(l=ae(l),n=ae(n)),!G(t)&&Se(l)&&!Se(n))return d||(l.value=n),!0}const a=G(t)&&Yo(s)?Number(s)<t.length:ue(t,s),i=Reflect.set(t,s,n,Se(t)?t:r);return t===ae(r)&&(a?It(n,l)&&ht(t,"set",s,n):ht(t,"add",s,n)),i}deleteProperty(t,s){const n=ue(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&ht(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!Xe(s)||!Lr.has(s))&&Te(t,"has",s),n}ownKeys(t){return Te(t,"iterate",G(t)?"length":Ut),Reflect.ownKeys(t)}}class Ei extends Ur{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Si=new Br,$i=new Ei,Ri=new Br(!0);const To=e=>e,Ms=e=>Reflect.getPrototypeOf(e);function Ai(e,t,s){return function(...n){const r=this.__v_raw,l=ae(r),a=Zt(l),i=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,u=r[e](...n),c=s?To:t?Ks:Pe;return!t&&Te(l,"iterate",d?ko:Ut),{next(){const{value:f,done:_}=u.next();return _?{value:f,done:_}:{value:i?[c(f[0]),c(f[1])]:c(f),done:_}},[Symbol.iterator](){return this}}}}function Fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Pi(e,t){const s={get(r){const l=this.__v_raw,a=ae(l),i=ae(r);e||(It(r,i)&&Te(a,"get",r),Te(a,"get",i));const{has:d}=Ms(a),u=t?To:e?Ks:Pe;if(d.call(a,r))return u(l.get(r));if(d.call(a,i))return u(l.get(i));l!==a&&l.get(r)},get size(){const r=this.__v_raw;return!e&&Te(ae(r),"iterate",Ut),r.size},has(r){const l=this.__v_raw,a=ae(l),i=ae(r);return e||(It(r,i)&&Te(a,"has",r),Te(a,"has",i)),r===i?l.has(r):l.has(r)||l.has(i)},forEach(r,l){const a=this,i=a.__v_raw,d=ae(i),u=t?To:e?Ks:Pe;return!e&&Te(d,"iterate",Ut),i.forEach((c,f)=>r.call(l,u(c),u(f),a))}};return De(s,e?{add:Fs("add"),set:Fs("set"),delete:Fs("delete"),clear:Fs("clear")}:{add(r){!t&&!Je(r)&&!Ot(r)&&(r=ae(r));const l=ae(this);return Ms(l).has.call(l,r)||(l.add(r),ht(l,"add",r,r)),this},set(r,l){!t&&!Je(l)&&!Ot(l)&&(l=ae(l));const a=ae(this),{has:i,get:d}=Ms(a);let u=i.call(a,r);u||(r=ae(r),u=i.call(a,r));const c=d.call(a,r);return a.set(r,l),u?It(l,c)&&ht(a,"set",r,l):ht(a,"add",r,l),this},delete(r){const l=ae(this),{has:a,get:i}=Ms(l);let d=a.call(l,r);d||(r=ae(r),d=a.call(l,r)),i&&i.call(l,r);const u=l.delete(r);return d&&ht(l,"delete",r,void 0),u},clear(){const r=ae(this),l=r.size!==0,a=r.clear();return l&&ht(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Ai(r,e,t)}),s}function nn(e,t){const s=Pi(e,t);return(n,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ue(s,r)&&r in n?s:n,r,l)}const Ii={get:nn(!1,!1)},ki={get:nn(!1,!0)},Ti={get:nn(!0,!1)};const Hr=new WeakMap,Gr=new WeakMap,Wr=new WeakMap,Oi=new WeakMap;function Di(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ni(e){return e.__v_skip||!Object.isExtensible(e)?0:Di(li(e))}function Ts(e){return Ot(e)?e:rn(e,!1,Si,Ii,Hr)}function qr(e){return rn(e,!1,Ri,ki,Gr)}function Oo(e){return rn(e,!0,$i,Ti,Wr)}function rn(e,t,s,n,r){if(!be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Ni(e);if(l===0)return e;const a=r.get(e);if(a)return a;const i=new Proxy(e,l===2?n:s);return r.set(e,i),i}function kt(e){return Ot(e)?kt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ot(e){return!!(e&&e.__v_isReadonly)}function Je(e){return!!(e&&e.__v_isShallow)}function ln(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function an(e){return!ue(e,"__v_skip")&&Object.isExtensible(e)&&Sr(e,"__v_skip",!0),e}const Pe=e=>be(e)?Ts(e):e,Ks=e=>be(e)?Oo(e):e;function Se(e){return e?e.__v_isRef===!0:!1}function ie(e){return Kr(e,!1)}function ji(e){return Kr(e,!0)}function Kr(e,t){return Se(e)?e:new Mi(e,t)}class Mi{constructor(t,s){this.dep=new on,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ae(t),this._value=s?t:Pe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Je(t)||Ot(t);t=n?t:ae(t),It(t,s)&&(this._rawValue=t,this._value=n?t:Pe(t),this.dep.trigger())}}function we(e){return Se(e)?e.value:e}const Fi={get:(e,t,s)=>t==="__v_raw"?e:we(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Se(r)&&!Se(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function zr(e){return kt(e)?e:new Proxy(e,Fi)}function Vi(e){const t=G(e)?new Array(e.length):{};for(const s in e)t[s]=Ui(e,s);return t}class Li{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return vi(ae(this._object),this._key)}}function Ui(e,t,s){const n=e[t];return Se(n)?n:new Li(e,t,s)}class Bi{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new on(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ys-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return Dr(this,!0),!0}get value(){const t=this.dep.track();return Mr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hi(e,t,s=!1){let n,r;return X(e)?n=e:(n=e.get,r=e.set),new Bi(n,r,s)}const Vs={},zs=new WeakMap;let Vt;function Gi(e,t=!1,s=Vt){if(s){let n=zs.get(s);n||zs.set(s,n=[]),n.push(e)}}function Wi(e,t,s=he){const{immediate:n,deep:r,once:l,scheduler:a,augmentJob:i,call:d}=s,u=O=>r?O:Je(O)||r===!1||r===0?bt(O,1):bt(O);let c,f,_,y,E=!1,p=!1;if(Se(e)?(f=()=>e.value,E=Je(e)):kt(e)?(f=()=>u(e),E=!0):G(e)?(p=!0,E=e.some(O=>kt(O)||Je(O)),f=()=>e.map(O=>{if(Se(O))return O.value;if(kt(O))return u(O);if(X(O))return d?d(O,2):O()})):X(e)?t?f=d?()=>d(e,2):e:f=()=>{if(_){_t();try{_()}finally{vt()}}const O=Vt;Vt=c;try{return d?d(e,3,[y]):e(y)}finally{Vt=O}}:f=it,t&&r){const O=f,ee=r===!0?1/0:r;f=()=>bt(O(),ee)}const w=kr(),b=()=>{c.stop(),w&&w.active&&Qo(w.effects,c)};if(l&&t){const O=t;t=(...ee)=>{O(...ee),b()}}let $=p?new Array(e.length).fill(Vs):Vs;const j=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(t){const ee=c.run();if(r||E||(p?ee.some((me,se)=>It(me,$[se])):It(ee,$))){_&&_();const me=Vt;Vt=c;try{const se=[ee,$===Vs?void 0:p&&$[0]===Vs?[]:$,y];$=ee,d?d(t,3,se):t(...se)}finally{Vt=me}}}else c.run()};return i&&i(j),c=new Tr(f),c.scheduler=a?()=>a(j,!1):j,y=O=>Gi(O,!1,c),_=c.onStop=()=>{const O=zs.get(c);if(O){if(d)d(O,4);else for(const ee of O)ee();zs.delete(c)}},t?n?j(!0):$=c.run():a?a(j.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function bt(e,t=1/0,s){if(t<=0||!be(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Se(e))bt(e.value,t,s);else if(G(e))for(let n=0;n<e.length;n++)bt(e[n],t,s);else if(ls(e)||Zt(e))e.forEach(n=>{bt(n,t,s)});else if(Cr(e)){for(const n in e)bt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&bt(e[n],t,s)}return e}function Os(e,t,s,n){try{return n?e(...n):e()}catch(r){lo(r,t,s)}}function at(e,t,s,n){if(X(e)){const r=Os(e,t,s,n);return r&&xr(r)&&r.catch(l=>{lo(l,t,s)}),r}if(G(e)){const r=[];for(let l=0;l<e.length;l++)r.push(at(e[l],t,s,n));return r}}function lo(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||he;if(t){let i=t.parent;const d=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const c=i.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,d,u)===!1)return}i=i.parent}if(l){_t(),Os(l,null,10,[e,d,u]),vt();return}}qi(e,s,r,n,a)}function qi(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const Fe=[];let rt=-1;const es=[];let St=null,Qt=0;const Jr=Promise.resolve();let Js=null;function io(e){const t=Js||Jr;return e?t.then(this?e.bind(this):e):t}function Ki(e){let t=rt+1,s=Fe.length;for(;t<s;){const n=t+s>>>1,r=Fe[n],l=ws(r);l<e||l===e&&r.flags&2?t=n+1:s=n}return t}function cn(e){if(!(e.flags&1)){const t=ws(e),s=Fe[Fe.length-1];!s||!(e.flags&2)&&t>=ws(s)?Fe.push(e):Fe.splice(Ki(t),0,e),e.flags|=1,Qr()}}function Qr(){Js||(Js=Jr.then(Xr))}function zi(e){G(e)?es.push(...e):St&&e.id===-1?St.splice(Qt+1,0,e):e.flags&1||(es.push(e),e.flags|=1),Qr()}function $n(e,t,s=rt+1){for(;s<Fe.length;s++){const n=Fe[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Fe.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Yr(e){if(es.length){const t=[...new Set(es)].sort((s,n)=>ws(s)-ws(n));if(es.length=0,St){St.push(...t);return}for(St=t,Qt=0;Qt<St.length;Qt++){const s=St[Qt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}St=null,Qt=0}}const ws=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Xr(e){try{for(rt=0;rt<Fe.length;rt++){const t=Fe[rt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Os(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;rt<Fe.length;rt++){const t=Fe[rt];t&&(t.flags&=-2)}rt=-1,Fe.length=0,Yr(),Js=null,(Fe.length||es.length)&&Xr()}}let Oe=null,Zr=null;function Qs(e){const t=Oe;return Oe=e,Zr=e&&e.type.__scopeId||null,t}function Dt(e,t=Oe,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Zs(-1);const l=Qs(t);let a;try{a=e(...r)}finally{Qs(l),n._d&&Zs(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function te(e,t){if(Oe===null)return e;const s=fo(Oe),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[l,a,i,d=he]=t[r];l&&(X(l)&&(l={mounted:l,updated:l}),l.deep&&bt(a),n.push({dir:l,instance:s,value:a,oldValue:void 0,arg:i,modifiers:d}))}return e}function Mt(e,t,s,n){const r=e.dirs,l=t&&t.dirs;for(let a=0;a<r.length;a++){const i=r[a];l&&(i.oldValue=l[a].value);let d=i.dir[n];d&&(_t(),at(d,s,8,[e.el,i,e,t]),vt())}}const Ji=Symbol("_vte"),Qi=e=>e.__isTeleport,Yi=Symbol("_leaveCb");function dn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,dn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function el(e,t){return X(e)?De({name:e.name},t,{setup:e}):e}function tl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ys=new WeakMap;function bs(e,t,s,n,r=!1){if(G(e)){e.forEach((E,p)=>bs(E,t&&(G(t)?t[p]:t),s,n,r));return}if(ts(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&bs(e,t,s,n.component.subTree);return}const l=n.shapeFlag&4?fo(n.component):n.el,a=r?null:l,{i,r:d}=e,u=t&&t.r,c=i.refs===he?i.refs={}:i.refs,f=i.setupState,_=ae(f),y=f===he?yr:E=>ue(_,E);if(u!=null&&u!==d){if(Rn(t),$e(u))c[u]=null,y(u)&&(f[u]=null);else if(Se(u)){u.value=null;const E=t;E.k&&(c[E.k]=null)}}if(X(d))Os(d,i,12,[a,c]);else{const E=$e(d),p=Se(d);if(E||p){const w=()=>{if(e.f){const b=E?y(d)?f[d]:c[d]:d.value;if(r)G(b)&&Qo(b,l);else if(G(b))b.includes(l)||b.push(l);else if(E)c[d]=[l],y(d)&&(f[d]=c[d]);else{const $=[l];d.value=$,e.k&&(c[e.k]=$)}}else E?(c[d]=a,y(d)&&(f[d]=a)):p&&(d.value=a,e.k&&(c[e.k]=a))};if(a){const b=()=>{w(),Ys.delete(e)};b.id=-1,Ys.set(e,b),We(b,s)}else Rn(e),w()}}}function Rn(e){const t=Ys.get(e);t&&(t.flags|=8,Ys.delete(e))}no().requestIdleCallback;no().cancelIdleCallback;const ts=e=>!!e.type.__asyncLoader,sl=e=>e.type.__isKeepAlive;function Xi(e,t){ol(e,"a",t)}function Zi(e,t){ol(e,"da",t)}function ol(e,t,s=Ve){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ao(t,n,s),s){let r=s.parent;for(;r&&r.parent;)sl(r.parent.vnode)&&ea(n,t,s,r),r=r.parent}}function ea(e,t,s,n){const r=ao(t,e,n,!0);nl(()=>{Qo(n[t],r)},s)}function ao(e,t,s=Ve,n=!1){if(s){const r=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...a)=>{_t();const i=Ds(s),d=at(t,s,e,a);return i(),vt(),d});return n?r.unshift(l):r.push(l),l}}const xt=e=>(t,s=Ve)=>{(!Ss||e==="sp")&&ao(e,(...n)=>t(...n),s)},ta=xt("bm"),Nt=xt("m"),sa=xt("bu"),oa=xt("u"),na=xt("bum"),nl=xt("um"),ra=xt("sp"),la=xt("rtg"),ia=xt("rtc");function aa(e,t=Ve){ao("ec",e,t)}const ca=Symbol.for("v-ndc");function Ee(e,t,s,n){let r;const l=s,a=G(e);if(a||$e(e)){const i=a&&kt(e);let d=!1,u=!1;i&&(d=!Je(e),u=Ot(e),e=ro(e)),r=new Array(e.length);for(let c=0,f=e.length;c<f;c++)r[c]=t(d?u?Ks(Pe(e[c])):Pe(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,l)}else if(be(e))if(e[Symbol.iterator])r=Array.from(e,(i,d)=>t(i,d,void 0,l));else{const i=Object.keys(e);r=new Array(i.length);for(let d=0,u=i.length;d<u;d++){const c=i[d];r[d]=t(e[c],c,d,l)}}else r=[];return r}function da(e,t,s={},n,r){if(Oe.ce||Oe.parent&&ts(Oe.parent)&&Oe.parent.ce){const u=Object.keys(s).length>0;return S(),ct(re,null,[ve("slot",s,n)],u?-2:64)}let l=e[t];l&&l._c&&(l._d=!1),S();const a=l&&rl(l(s)),i=s.key||a&&a.key,d=ct(re,{key:(i&&!Xe(i)?i:`_${t}`)+(!a&&n?"_fb":"")},a||[],a&&e._===1?64:-2);return d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),l&&l._c&&(l._d=!0),d}function rl(e){return e.some(t=>Es(t)?!(t.type===yt||t.type===re&&!rl(t.children)):!0)?e:null}const Do=e=>e?$l(e)?fo(e):Do(e.parent):null,ms=De(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Do(e.parent),$root:e=>Do(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>{cn(e.update)}),$nextTick:e=>e.n||(e.n=io.bind(e.proxy)),$watch:e=>Ta.bind(e)}),xo=(e,t)=>e!==he&&!e.__isScriptSetup&&ue(e,t),ua={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:l,accessCache:a,type:i,appContext:d}=e;let u;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return l[t]}else{if(xo(n,t))return a[t]=1,n[t];if(r!==he&&ue(r,t))return a[t]=2,r[t];if((u=e.propsOptions[0])&&ue(u,t))return a[t]=3,l[t];if(s!==he&&ue(s,t))return a[t]=4,s[t];No&&(a[t]=0)}}const c=ms[t];let f,_;if(c)return t==="$attrs"&&Te(e.attrs,"get",""),c(e);if((f=i.__cssModules)&&(f=f[t]))return f;if(s!==he&&ue(s,t))return a[t]=4,s[t];if(_=d.config.globalProperties,ue(_,t))return _[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:l}=e;return xo(r,t)?(r[t]=s,!0):n!==he&&ue(n,t)?(n[t]=s,!0):ue(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:l,type:a}},i){let d,u;return!!(s[i]||e!==he&&i[0]!=="$"&&ue(e,i)||xo(t,i)||(d=l[0])&&ue(d,i)||ue(n,i)||ue(ms,i)||ue(r.config.globalProperties,i)||(u=a.__cssModules)&&u[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ue(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function An(e){return G(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let No=!0;function fa(e){const t=il(e),s=e.proxy,n=e.ctx;No=!1,t.beforeCreate&&Pn(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:a,watch:i,provide:d,inject:u,created:c,beforeMount:f,mounted:_,beforeUpdate:y,updated:E,activated:p,deactivated:w,beforeDestroy:b,beforeUnmount:$,destroyed:j,unmounted:O,render:ee,renderTracked:me,renderTriggered:se,errorCaptured:K,serverPrefetch:z,expose:ye,inheritAttrs:xe,components:Ne,directives:Ie,filters:dt}=t;if(u&&pa(u,n,null),a)for(const C in a){const Z=a[C];X(Z)&&(n[C]=Z.bind(s))}if(r){const C=r.call(s,s);be(C)&&(e.data=Ts(C))}if(No=!0,l)for(const C in l){const Z=l[C],Le=X(Z)?Z.bind(s,s):X(Z.get)?Z.get.bind(s,s):it,wt=!X(Z)&&X(Z.set)?Z.set.bind(s):it,et=Y({get:Le,set:wt});Object.defineProperty(n,C,{enumerable:!0,configurable:!0,get:()=>et.value,set:Ue=>et.value=Ue})}if(i)for(const C in i)ll(i[C],n,s,C);if(d){const C=X(d)?d.call(s):d;Reflect.ownKeys(C).forEach(Z=>{Bs(Z,C[Z])})}c&&Pn(c,e,"c");function v(C,Z){G(Z)?Z.forEach(Le=>C(Le.bind(s))):Z&&C(Z.bind(s))}if(v(ta,f),v(Nt,_),v(sa,y),v(oa,E),v(Xi,p),v(Zi,w),v(aa,K),v(ia,me),v(la,se),v(na,$),v(nl,O),v(ra,z),G(ye))if(ye.length){const C=e.exposed||(e.exposed={});ye.forEach(Z=>{Object.defineProperty(C,Z,{get:()=>s[Z],set:Le=>s[Z]=Le,enumerable:!0})})}else e.exposed||(e.exposed={});ee&&e.render===it&&(e.render=ee),xe!=null&&(e.inheritAttrs=xe),Ne&&(e.components=Ne),Ie&&(e.directives=Ie),z&&tl(e)}function pa(e,t,s=it){G(e)&&(e=jo(e));for(const n in e){const r=e[n];let l;be(r)?"default"in r?l=Qe(r.from||n,r.default,!0):l=Qe(r.from||n):l=Qe(r),Se(l)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):t[n]=l}}function Pn(e,t,s){at(G(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function ll(e,t,s,n){let r=n.includes(".")?yl(s,n):()=>s[n];if($e(e)){const l=t[e];X(l)&&qe(r,l)}else if(X(e))qe(r,e.bind(s));else if(be(e))if(G(e))e.forEach(l=>ll(l,t,s,n));else{const l=X(e.handler)?e.handler.bind(s):t[e.handler];X(l)&&qe(r,l,e)}}function il(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,i=l.get(t);let d;return i?d=i:!r.length&&!s&&!n?d=t:(d={},r.length&&r.forEach(u=>Xs(d,u,a,!0)),Xs(d,t,a)),be(t)&&l.set(t,d),d}function Xs(e,t,s,n=!1){const{mixins:r,extends:l}=t;l&&Xs(e,l,s,!0),r&&r.forEach(a=>Xs(e,a,s,!0));for(const a in t)if(!(n&&a==="expose")){const i=ha[a]||s&&s[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const ha={data:In,props:kn,emits:kn,methods:us,computed:us,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:us,directives:us,watch:ma,provide:In,inject:ba};function In(e,t){return t?e?function(){return De(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function ba(e,t){return us(jo(e),jo(t))}function jo(e){if(G(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function je(e,t){return e?[...new Set([].concat(e,t))]:t}function us(e,t){return e?De(Object.create(null),e,t):t}function kn(e,t){return e?G(e)&&G(t)?[...new Set([...e,...t])]:De(Object.create(null),An(e),An(t??{})):t}function ma(e,t){if(!e)return t;if(!t)return e;const s=De(Object.create(null),e);for(const n in t)s[n]=je(e[n],t[n]);return s}function al(){return{app:null,config:{isNativeTag:yr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ga=0;function _a(e,t){return function(n,r=null){X(n)||(n=De({},n)),r!=null&&!be(r)&&(r=null);const l=al(),a=new WeakSet,i=[];let d=!1;const u=l.app={_uid:ga++,_component:n,_props:r,_container:null,_context:l,_instance:null,version:Za,get config(){return l.config},set config(c){},use(c,...f){return a.has(c)||(c&&X(c.install)?(a.add(c),c.install(u,...f)):X(c)&&(a.add(c),c(u,...f))),u},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),u},component(c,f){return f?(l.components[c]=f,u):l.components[c]},directive(c,f){return f?(l.directives[c]=f,u):l.directives[c]},mount(c,f,_){if(!d){const y=u._ceVNode||ve(n,r);return y.appContext=l,_===!0?_="svg":_===!1&&(_=void 0),e(y,c,_),d=!0,u._container=c,c.__vue_app__=u,fo(y.component)}},onUnmount(c){i.push(c)},unmount(){d&&(at(i,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return l.provides[c]=f,u},runWithContext(c){const f=Bt;Bt=u;try{return c()}finally{Bt=f}}};return u}}let Bt=null;function Bs(e,t){if(Ve){let s=Ve.provides;const n=Ve.parent&&Ve.parent.provides;n===s&&(s=Ve.provides=Object.create(n)),s[e]=t}}function Qe(e,t,s=!1){const n=Sl();if(n||Bt){let r=Bt?Bt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&X(t)?t.call(n&&n.proxy):t}}function va(){return!!(Sl()||Bt)}const cl={},dl=()=>Object.create(cl),ul=e=>Object.getPrototypeOf(e)===cl;function ya(e,t,s,n=!1){const r={},l=dl();e.propsDefaults=Object.create(null),fl(e,t,r,l);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);s?e.props=n?r:qr(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function xa(e,t,s,n){const{props:r,attrs:l,vnode:{patchFlag:a}}=e,i=ae(r),[d]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let _=c[f];if(co(e.emitsOptions,_))continue;const y=t[_];if(d)if(ue(l,_))y!==l[_]&&(l[_]=y,u=!0);else{const E=Tt(_);r[E]=Mo(d,i,E,y,e,!1)}else y!==l[_]&&(l[_]=y,u=!0)}}}else{fl(e,t,r,l)&&(u=!0);let c;for(const f in i)(!t||!ue(t,f)&&((c=Ht(f))===f||!ue(t,c)))&&(d?s&&(s[f]!==void 0||s[c]!==void 0)&&(r[f]=Mo(d,i,f,void 0,e,!0)):delete r[f]);if(l!==i)for(const f in l)(!t||!ue(t,f))&&(delete l[f],u=!0)}u&&ht(e.attrs,"set","")}function fl(e,t,s,n){const[r,l]=e.propsOptions;let a=!1,i;if(t)for(let d in t){if(fs(d))continue;const u=t[d];let c;r&&ue(r,c=Tt(d))?!l||!l.includes(c)?s[c]=u:(i||(i={}))[c]=u:co(e.emitsOptions,d)||(!(d in n)||u!==n[d])&&(n[d]=u,a=!0)}if(l){const d=ae(s),u=i||he;for(let c=0;c<l.length;c++){const f=l[c];s[f]=Mo(r,d,f,u[f],e,!ue(u,f))}}return a}function Mo(e,t,s,n,r,l){const a=e[s];if(a!=null){const i=ue(a,"default");if(i&&n===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&X(d)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=Ds(r);n=u[s]=d.call(null,t),c()}}else n=d;r.ce&&r.ce._setProp(s,n)}a[0]&&(l&&!i?n=!1:a[1]&&(n===""||n===Ht(s))&&(n=!0))}return n}const wa=new WeakMap;function pl(e,t,s=!1){const n=s?wa:t.propsCache,r=n.get(e);if(r)return r;const l=e.props,a={},i=[];let d=!1;if(!X(e)){const c=f=>{d=!0;const[_,y]=pl(f,t,!0);De(a,_),y&&i.push(...y)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!d)return be(e)&&n.set(e,Xt),Xt;if(G(l))for(let c=0;c<l.length;c++){const f=Tt(l[c]);Tn(f)&&(a[f]=he)}else if(l)for(const c in l){const f=Tt(c);if(Tn(f)){const _=l[c],y=a[f]=G(_)||X(_)?{type:_}:De({},_),E=y.type;let p=!1,w=!0;if(G(E))for(let b=0;b<E.length;++b){const $=E[b],j=X($)&&$.name;if(j==="Boolean"){p=!0;break}else j==="String"&&(w=!1)}else p=X(E)&&E.name==="Boolean";y[0]=p,y[1]=w,(p||ue(y,"default"))&&i.push(f)}}const u=[a,i];return be(e)&&n.set(e,u),u}function Tn(e){return e[0]!=="$"&&!fs(e)}const un=e=>e==="_"||e==="_ctx"||e==="$stable",fn=e=>G(e)?e.map(lt):[lt(e)],Ca=(e,t,s)=>{if(t._n)return t;const n=Dt((...r)=>fn(t(...r)),s);return n._c=!1,n},hl=(e,t,s)=>{const n=e._ctx;for(const r in e){if(un(r))continue;const l=e[r];if(X(l))t[r]=Ca(r,l,n);else if(l!=null){const a=fn(l);t[r]=()=>a}}},bl=(e,t)=>{const s=fn(t);e.slots.default=()=>s},ml=(e,t,s)=>{for(const n in t)(s||!un(n))&&(e[n]=t[n])},Ea=(e,t,s)=>{const n=e.slots=dl();if(e.vnode.shapeFlag&32){const r=t._;r?(ml(n,t,s),s&&Sr(n,"_",r,!0)):hl(t,n)}else t&&bl(e,t)},Sa=(e,t,s)=>{const{vnode:n,slots:r}=e;let l=!0,a=he;if(n.shapeFlag&32){const i=t._;i?s&&i===1?l=!1:ml(r,t,s):(l=!t.$stable,hl(t,r)),a=t}else t&&(bl(e,t),a={default:1});if(l)for(const i in r)!un(i)&&a[i]==null&&delete r[i]},We=La;function $a(e){return Ra(e)}function Ra(e,t){const s=no();s.__VUE__=!0;const{insert:n,remove:r,patchProp:l,createElement:a,createText:i,createComment:d,setText:u,setElementText:c,parentNode:f,nextSibling:_,setScopeId:y=it,insertStaticContent:E}=e,p=(h,m,x,P=null,k=null,A=null,M=void 0,N=null,D=!!m.dynamicChildren)=>{if(h===m)return;h&&!cs(h,m)&&(P=I(h),Ue(h,k,A,!0),h=null),m.patchFlag===-2&&(D=!1,m.dynamicChildren=null);const{type:T,ref:W,shapeFlag:V}=m;switch(T){case uo:w(h,m,x,P);break;case yt:b(h,m,x,P);break;case Hs:h==null&&$(m,x,P,M);break;case re:Ne(h,m,x,P,k,A,M,N,D);break;default:V&1?ee(h,m,x,P,k,A,M,N,D):V&6?Ie(h,m,x,P,k,A,M,N,D):(V&64||V&128)&&T.process(h,m,x,P,k,A,M,N,D,B)}W!=null&&k?bs(W,h&&h.ref,A,m||h,!m):W==null&&h&&h.ref!=null&&bs(h.ref,null,A,h,!0)},w=(h,m,x,P)=>{if(h==null)n(m.el=i(m.children),x,P);else{const k=m.el=h.el;m.children!==h.children&&u(k,m.children)}},b=(h,m,x,P)=>{h==null?n(m.el=d(m.children||""),x,P):m.el=h.el},$=(h,m,x,P)=>{[h.el,h.anchor]=E(h.children,m,x,P,h.el,h.anchor)},j=({el:h,anchor:m},x,P)=>{let k;for(;h&&h!==m;)k=_(h),n(h,x,P),h=k;n(m,x,P)},O=({el:h,anchor:m})=>{let x;for(;h&&h!==m;)x=_(h),r(h),h=x;r(m)},ee=(h,m,x,P,k,A,M,N,D)=>{if(m.type==="svg"?M="svg":m.type==="math"&&(M="mathml"),h==null)me(m,x,P,k,A,M,N,D);else{const T=h.el&&h.el._isVueCE?h.el:null;try{T&&T._beginPatch(),z(h,m,k,A,M,N,D)}finally{T&&T._endPatch()}}},me=(h,m,x,P,k,A,M,N)=>{let D,T;const{props:W,shapeFlag:V,transition:H,dirs:J}=h;if(D=h.el=a(h.type,A,W&&W.is,W),V&8?c(D,h.children):V&16&&K(h.children,D,null,P,k,wo(h,A),M,N),J&&Mt(h,null,P,"created"),se(D,h,h.scopeId,M,P),W){for(const ge in W)ge!=="value"&&!fs(ge)&&l(D,ge,null,W[ge],A,P);"value"in W&&l(D,"value",null,W.value,A),(T=W.onVnodeBeforeMount)&&nt(T,P,h)}J&&Mt(h,null,P,"beforeMount");const ne=Aa(k,H);ne&&H.beforeEnter(D),n(D,m,x),((T=W&&W.onVnodeMounted)||ne||J)&&We(()=>{T&&nt(T,P,h),ne&&H.enter(D),J&&Mt(h,null,P,"mounted")},k)},se=(h,m,x,P,k)=>{if(x&&y(h,x),P)for(let A=0;A<P.length;A++)y(h,P[A]);if(k){let A=k.subTree;if(m===A||wl(A.type)&&(A.ssContent===m||A.ssFallback===m)){const M=k.vnode;se(h,M,M.scopeId,M.slotScopeIds,k.parent)}}},K=(h,m,x,P,k,A,M,N,D=0)=>{for(let T=D;T<h.length;T++){const W=h[T]=N?$t(h[T]):lt(h[T]);p(null,W,m,x,P,k,A,M,N)}},z=(h,m,x,P,k,A,M)=>{const N=m.el=h.el;let{patchFlag:D,dynamicChildren:T,dirs:W}=m;D|=h.patchFlag&16;const V=h.props||he,H=m.props||he;let J;if(x&&Ft(x,!1),(J=H.onVnodeBeforeUpdate)&&nt(J,x,m,h),W&&Mt(m,h,x,"beforeUpdate"),x&&Ft(x,!0),(V.innerHTML&&H.innerHTML==null||V.textContent&&H.textContent==null)&&c(N,""),T?ye(h.dynamicChildren,T,N,x,P,wo(m,k),A):M||Z(h,m,N,null,x,P,wo(m,k),A,!1),D>0){if(D&16)xe(N,V,H,x,k);else if(D&2&&V.class!==H.class&&l(N,"class",null,H.class,k),D&4&&l(N,"style",V.style,H.style,k),D&8){const ne=m.dynamicProps;for(let ge=0;ge<ne.length;ge++){const pe=ne[ge],Be=V[pe],He=H[pe];(He!==Be||pe==="value")&&l(N,pe,Be,He,k,x)}}D&1&&h.children!==m.children&&c(N,m.children)}else!M&&T==null&&xe(N,V,H,x,k);((J=H.onVnodeUpdated)||W)&&We(()=>{J&&nt(J,x,m,h),W&&Mt(m,h,x,"updated")},P)},ye=(h,m,x,P,k,A,M)=>{for(let N=0;N<m.length;N++){const D=h[N],T=m[N],W=D.el&&(D.type===re||!cs(D,T)||D.shapeFlag&198)?f(D.el):x;p(D,T,W,null,P,k,A,M,!0)}},xe=(h,m,x,P,k)=>{if(m!==x){if(m!==he)for(const A in m)!fs(A)&&!(A in x)&&l(h,A,m[A],null,k,P);for(const A in x){if(fs(A))continue;const M=x[A],N=m[A];M!==N&&A!=="value"&&l(h,A,N,M,k,P)}"value"in x&&l(h,"value",m.value,x.value,k)}},Ne=(h,m,x,P,k,A,M,N,D)=>{const T=m.el=h?h.el:i(""),W=m.anchor=h?h.anchor:i("");let{patchFlag:V,dynamicChildren:H,slotScopeIds:J}=m;J&&(N=N?N.concat(J):J),h==null?(n(T,x,P),n(W,x,P),K(m.children||[],x,W,k,A,M,N,D)):V>0&&V&64&&H&&h.dynamicChildren?(ye(h.dynamicChildren,H,x,k,A,M,N),(m.key!=null||k&&m===k.subTree)&&gl(h,m,!0)):Z(h,m,x,W,k,A,M,N,D)},Ie=(h,m,x,P,k,A,M,N,D)=>{m.slotScopeIds=N,h==null?m.shapeFlag&512?k.ctx.activate(m,x,P,M,D):dt(m,x,P,k,A,M,D):U(h,m,D)},dt=(h,m,x,P,k,A,M)=>{const N=h.component=Ka(h,P,k);if(sl(h)&&(N.ctx.renderer=B),za(N,!1,M),N.asyncDep){if(k&&k.registerDep(N,v,M),!h.el){const D=N.subTree=ve(yt);b(null,D,m,x),h.placeholder=D.el}}else v(N,h,m,x,k,A,M)},U=(h,m,x)=>{const P=m.component=h.component;if(Fa(h,m,x))if(P.asyncDep&&!P.asyncResolved){C(P,m,x);return}else P.next=m,P.update();else m.el=h.el,P.vnode=m},v=(h,m,x,P,k,A,M)=>{const N=()=>{if(h.isMounted){let{next:V,bu:H,u:J,parent:ne,vnode:ge}=h;{const st=_l(h);if(st){V&&(V.el=ge.el,C(h,V,M)),st.asyncDep.then(()=>{h.isUnmounted||N()});return}}let pe=V,Be;Ft(h,!1),V?(V.el=ge.el,C(h,V,M)):V=ge,H&&Us(H),(Be=V.props&&V.props.onVnodeBeforeUpdate)&&nt(Be,ne,V,ge),Ft(h,!0);const He=Dn(h),tt=h.subTree;h.subTree=He,p(tt,He,f(tt.el),I(tt),h,k,A),V.el=He.el,pe===null&&Va(h,He.el),J&&We(J,k),(Be=V.props&&V.props.onVnodeUpdated)&&We(()=>nt(Be,ne,V,ge),k)}else{let V;const{el:H,props:J}=m,{bm:ne,m:ge,parent:pe,root:Be,type:He}=h,tt=ts(m);Ft(h,!1),ne&&Us(ne),!tt&&(V=J&&J.onVnodeBeforeMount)&&nt(V,pe,m),Ft(h,!0);{Be.ce&&Be.ce._def.shadowRoot!==!1&&Be.ce._injectChildStyle(He);const st=h.subTree=Dn(h);p(null,st,x,P,h,k,A),m.el=st.el}if(ge&&We(ge,k),!tt&&(V=J&&J.onVnodeMounted)){const st=m;We(()=>nt(V,pe,st),k)}(m.shapeFlag&256||pe&&ts(pe.vnode)&&pe.vnode.shapeFlag&256)&&h.a&&We(h.a,k),h.isMounted=!0,m=x=P=null}};h.scope.on();const D=h.effect=new Tr(N);h.scope.off();const T=h.update=D.run.bind(D),W=h.job=D.runIfDirty.bind(D);W.i=h,W.id=h.uid,D.scheduler=()=>cn(W),Ft(h,!0),T()},C=(h,m,x)=>{m.component=h;const P=h.vnode.props;h.vnode=m,h.next=null,xa(h,m.props,P,x),Sa(h,m.children,x),_t(),$n(h),vt()},Z=(h,m,x,P,k,A,M,N,D=!1)=>{const T=h&&h.children,W=h?h.shapeFlag:0,V=m.children,{patchFlag:H,shapeFlag:J}=m;if(H>0){if(H&128){wt(T,V,x,P,k,A,M,N,D);return}else if(H&256){Le(T,V,x,P,k,A,M,N,D);return}}J&8?(W&16&&ze(T,k,A),V!==T&&c(x,V)):W&16?J&16?wt(T,V,x,P,k,A,M,N,D):ze(T,k,A,!0):(W&8&&c(x,""),J&16&&K(V,x,P,k,A,M,N,D))},Le=(h,m,x,P,k,A,M,N,D)=>{h=h||Xt,m=m||Xt;const T=h.length,W=m.length,V=Math.min(T,W);let H;for(H=0;H<V;H++){const J=m[H]=D?$t(m[H]):lt(m[H]);p(h[H],J,x,null,k,A,M,N,D)}T>W?ze(h,k,A,!0,!1,V):K(m,x,P,k,A,M,N,D,V)},wt=(h,m,x,P,k,A,M,N,D)=>{let T=0;const W=m.length;let V=h.length-1,H=W-1;for(;T<=V&&T<=H;){const J=h[T],ne=m[T]=D?$t(m[T]):lt(m[T]);if(cs(J,ne))p(J,ne,x,null,k,A,M,N,D);else break;T++}for(;T<=V&&T<=H;){const J=h[V],ne=m[H]=D?$t(m[H]):lt(m[H]);if(cs(J,ne))p(J,ne,x,null,k,A,M,N,D);else break;V--,H--}if(T>V){if(T<=H){const J=H+1,ne=J<W?m[J].el:P;for(;T<=H;)p(null,m[T]=D?$t(m[T]):lt(m[T]),x,ne,k,A,M,N,D),T++}}else if(T>H)for(;T<=V;)Ue(h[T],k,A,!0),T++;else{const J=T,ne=T,ge=new Map;for(T=ne;T<=H;T++){const Ge=m[T]=D?$t(m[T]):lt(m[T]);Ge.key!=null&&ge.set(Ge.key,T)}let pe,Be=0;const He=H-ne+1;let tt=!1,st=0;const is=new Array(He);for(T=0;T<He;T++)is[T]=0;for(T=J;T<=V;T++){const Ge=h[T];if(Be>=He){Ue(Ge,k,A,!0);continue}let ot;if(Ge.key!=null)ot=ge.get(Ge.key);else for(pe=ne;pe<=H;pe++)if(is[pe-ne]===0&&cs(Ge,m[pe])){ot=pe;break}ot===void 0?Ue(Ge,k,A,!0):(is[ot-ne]=T+1,ot>=st?st=ot:tt=!0,p(Ge,m[ot],x,null,k,A,M,N,D),Be++)}const vn=tt?Pa(is):Xt;for(pe=vn.length-1,T=He-1;T>=0;T--){const Ge=ne+T,ot=m[Ge],yn=m[Ge+1],xn=Ge+1<W?yn.el||yn.placeholder:P;is[T]===0?p(null,ot,x,xn,k,A,M,N,D):tt&&(pe<0||T!==vn[pe]?et(ot,x,xn,2):pe--)}}},et=(h,m,x,P,k=null)=>{const{el:A,type:M,transition:N,children:D,shapeFlag:T}=h;if(T&6){et(h.component.subTree,m,x,P);return}if(T&128){h.suspense.move(m,x,P);return}if(T&64){M.move(h,m,x,B);return}if(M===re){n(A,m,x);for(let V=0;V<D.length;V++)et(D[V],m,x,P);n(h.anchor,m,x);return}if(M===Hs){j(h,m,x);return}if(P!==2&&T&1&&N)if(P===0)N.beforeEnter(A),n(A,m,x),We(()=>N.enter(A),k);else{const{leave:V,delayLeave:H,afterLeave:J}=N,ne=()=>{h.ctx.isUnmounted?r(A):n(A,m,x)},ge=()=>{A._isLeaving&&A[Yi](!0),V(A,()=>{ne(),J&&J()})};H?H(A,ne,ge):ge()}else n(A,m,x)},Ue=(h,m,x,P=!1,k=!1)=>{const{type:A,props:M,ref:N,children:D,dynamicChildren:T,shapeFlag:W,patchFlag:V,dirs:H,cacheIndex:J}=h;if(V===-2&&(k=!1),N!=null&&(_t(),bs(N,null,x,h,!0),vt()),J!=null&&(m.renderCache[J]=void 0),W&256){m.ctx.deactivate(h);return}const ne=W&1&&H,ge=!ts(h);let pe;if(ge&&(pe=M&&M.onVnodeBeforeUnmount)&&nt(pe,m,h),W&6)jt(h.component,x,P);else{if(W&128){h.suspense.unmount(x,P);return}ne&&Mt(h,null,m,"beforeUnmount"),W&64?h.type.remove(h,m,x,B,P):T&&!T.hasOnce&&(A!==re||V>0&&V&64)?ze(T,m,x,!1,!0):(A===re&&V&384||!k&&W&16)&&ze(D,m,x),P&&qt(h)}(ge&&(pe=M&&M.onVnodeUnmounted)||ne)&&We(()=>{pe&&nt(pe,m,h),ne&&Mt(h,null,m,"unmounted")},x)},qt=h=>{const{type:m,el:x,anchor:P,transition:k}=h;if(m===re){Kt(x,P);return}if(m===Hs){O(h);return}const A=()=>{r(x),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(h.shapeFlag&1&&k&&!k.persisted){const{leave:M,delayLeave:N}=k,D=()=>M(x,A);N?N(h.el,A,D):D()}else A()},Kt=(h,m)=>{let x;for(;h!==m;)x=_(h),r(h),h=x;r(m)},jt=(h,m,x)=>{const{bum:P,scope:k,job:A,subTree:M,um:N,m:D,a:T}=h;On(D),On(T),P&&Us(P),k.stop(),A&&(A.flags|=8,Ue(M,h,m,x)),N&&We(N,m),We(()=>{h.isUnmounted=!0},m)},ze=(h,m,x,P=!1,k=!1,A=0)=>{for(let M=A;M<h.length;M++)Ue(h[M],m,x,P,k)},I=h=>{if(h.shapeFlag&6)return I(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const m=_(h.anchor||h.el),x=m&&m[Ji];return x?_(x):m};let L=!1;const F=(h,m,x)=>{h==null?m._vnode&&Ue(m._vnode,null,null,!0):p(m._vnode||null,h,m,null,null,null,x),m._vnode=h,L||(L=!0,$n(),Yr(),L=!1)},B={p,um:Ue,m:et,r:qt,mt:dt,mc:K,pc:Z,pbc:ye,n:I,o:e};return{render:F,hydrate:void 0,createApp:_a(F)}}function wo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ft({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Aa(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gl(e,t,s=!1){const n=e.children,r=t.children;if(G(n)&&G(r))for(let l=0;l<n.length;l++){const a=n[l];let i=r[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[l]=$t(r[l]),i.el=a.el),!s&&i.patchFlag!==-2&&gl(a,i)),i.type===uo&&i.patchFlag!==-1&&(i.el=a.el),i.type===yt&&!i.el&&(i.el=a.el)}}function Pa(e){const t=e.slice(),s=[0];let n,r,l,a,i;const d=e.length;for(n=0;n<d;n++){const u=e[n];if(u!==0){if(r=s[s.length-1],e[r]<u){t[n]=r,s.push(n);continue}for(l=0,a=s.length-1;l<a;)i=l+a>>1,e[s[i]]<u?l=i+1:a=i;u<e[s[l]]&&(l>0&&(t[n]=s[l-1]),s[l]=n)}}for(l=s.length,a=s[l-1];l-- >0;)s[l]=a,a=t[a];return s}function _l(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_l(t)}function On(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ia=Symbol.for("v-scx"),ka=()=>Qe(Ia);function qe(e,t,s){return vl(e,t,s)}function vl(e,t,s=he){const{immediate:n,deep:r,flush:l,once:a}=s,i=De({},s),d=t&&n||!t&&l!=="post";let u;if(Ss){if(l==="sync"){const y=ka();u=y.__watcherHandles||(y.__watcherHandles=[])}else if(!d){const y=()=>{};return y.stop=it,y.resume=it,y.pause=it,y}}const c=Ve;i.call=(y,E,p)=>at(y,c,E,p);let f=!1;l==="post"?i.scheduler=y=>{We(y,c&&c.suspense)}:l!=="sync"&&(f=!0,i.scheduler=(y,E)=>{E?y():cn(y)}),i.augmentJob=y=>{t&&(y.flags|=4),f&&(y.flags|=2,c&&(y.id=c.uid,y.i=c))};const _=Wi(e,t,i);return Ss&&(u?u.push(_):d&&_()),_}function Ta(e,t,s){const n=this.proxy,r=$e(e)?e.includes(".")?yl(n,e):()=>n[e]:e.bind(n,n);let l;X(t)?l=t:(l=t.handler,s=t);const a=Ds(this),i=vl(r,l.bind(n),s);return a(),i}function yl(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Oa=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Tt(t)}Modifiers`]||e[`${Ht(t)}Modifiers`];function Da(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||he;let r=s;const l=t.startsWith("update:"),a=l&&Oa(n,t.slice(7));a&&(a.trim&&(r=s.map(c=>$e(c)?c.trim():c)),a.number&&(r=s.map(oo)));let i,d=n[i=mo(t)]||n[i=mo(Tt(t))];!d&&l&&(d=n[i=mo(Ht(t))]),d&&at(d,e,6,r);const u=n[i+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,at(u,e,6,r)}}const Na=new WeakMap;function xl(e,t,s=!1){const n=s?Na:t.emitsCache,r=n.get(e);if(r!==void 0)return r;const l=e.emits;let a={},i=!1;if(!X(e)){const d=u=>{const c=xl(u,t,!0);c&&(i=!0,De(a,c))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!i?(be(e)&&n.set(e,null),null):(G(l)?l.forEach(d=>a[d]=null):De(a,l),be(e)&&n.set(e,a),a)}function co(e,t){return!e||!to(t)?!1:(t=t.slice(2).replace(/Once$/,""),ue(e,t[0].toLowerCase()+t.slice(1))||ue(e,Ht(t))||ue(e,t))}function Dn(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[l],slots:a,attrs:i,emit:d,render:u,renderCache:c,props:f,data:_,setupState:y,ctx:E,inheritAttrs:p}=e,w=Qs(e);let b,$;try{if(s.shapeFlag&4){const O=r||n,ee=O;b=lt(u.call(ee,O,c,f,y,_,E)),$=i}else{const O=t;b=lt(O.length>1?O(f,{attrs:i,slots:a,emit:d}):O(f,null)),$=t.props?i:ja(i)}}catch(O){gs.length=0,lo(O,e,1),b=ve(yt)}let j=b;if($&&p!==!1){const O=Object.keys($),{shapeFlag:ee}=j;O.length&&ee&7&&(l&&O.some(Jo)&&($=Ma($,l)),j=ss(j,$,!1,!0))}return s.dirs&&(j=ss(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(s.dirs):s.dirs),s.transition&&dn(j,s.transition),b=j,Qs(w),b}const ja=e=>{let t;for(const s in e)(s==="class"||s==="style"||to(s))&&((t||(t={}))[s]=e[s]);return t},Ma=(e,t)=>{const s={};for(const n in e)(!Jo(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Fa(e,t,s){const{props:n,children:r,component:l}=e,{props:a,children:i,patchFlag:d}=t,u=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return n?Nn(n,a,u):!!a;if(d&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const _=c[f];if(a[_]!==n[_]&&!co(u,_))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:n===a?!1:n?a?Nn(n,a,u):!0:!!a;return!1}function Nn(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const l=n[r];if(t[l]!==e[l]&&!co(s,l))return!0}return!1}function Va({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const wl=e=>e.__isSuspense;function La(e,t){t&&t.pendingBranch?G(e)?t.effects.push(...e):t.effects.push(e):zi(e)}const re=Symbol.for("v-fgt"),uo=Symbol.for("v-txt"),yt=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),gs=[];let Ke=null;function S(e=!1){gs.push(Ke=e?null:[])}function Ua(){gs.pop(),Ke=gs[gs.length-1]||null}let Cs=1;function Zs(e,t=!1){Cs+=e,e<0&&Ke&&t&&(Ke.hasOnce=!0)}function Cl(e){return e.dynamicChildren=Cs>0?Ke||Xt:null,Ua(),Cs>0&&Ke&&Ke.push(e),e}function R(e,t,s,n,r,l){return Cl(o(e,t,s,n,r,l,!0))}function ct(e,t,s,n,r){return Cl(ve(e,t,s,n,r,!0))}function Es(e){return e?e.__v_isVNode===!0:!1}function cs(e,t){return e.type===t.type&&e.key===t.key}const El=({key:e})=>e??null,Gs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?$e(e)||Se(e)||X(e)?{i:Oe,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,n=0,r=null,l=e===re?0:1,a=!1,i=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&El(t),ref:t&&Gs(t),scopeId:Zr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Oe};return i?(pn(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=$e(s)?8:16),Cs>0&&!a&&Ke&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&Ke.push(d),d}const ve=Ba;function Ba(e,t=null,s=null,n=0,r=null,l=!1){if((!e||e===ca)&&(e=yt),Es(e)){const i=ss(e,t,!0);return s&&pn(i,s),Cs>0&&!l&&Ke&&(i.shapeFlag&6?Ke[Ke.indexOf(e)]=i:Ke.push(i)),i.patchFlag=-2,i}if(Xa(e)&&(e=e.__vccOpts),t){t=Ha(t);let{class:i,style:d}=t;i&&!$e(i)&&(t.class=fe(i)),be(d)&&(ln(d)&&!G(d)&&(d=De({},d)),t.style=Xo(d))}const a=$e(e)?1:wl(e)?128:Qi(e)?64:be(e)?4:X(e)?2:0;return o(e,t,s,n,r,a,l,!0)}function Ha(e){return e?ln(e)||ul(e)?De({},e):e:null}function ss(e,t,s=!1,n=!1){const{props:r,ref:l,patchFlag:a,children:i,transition:d}=e,u=t?Ga(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&El(u),ref:t&&t.ref?s&&l?G(l)?l.concat(Gs(t)):[l,Gs(t)]:Gs(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ss(e.ssContent),ssFallback:e.ssFallback&&ss(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&n&&dn(c,d.clone(c)),c}function Q(e=" ",t=0){return ve(uo,null,e,t)}function jn(e,t){const s=ve(Hs,null,e);return s.staticCount=t,s}function q(e="",t=!1){return t?(S(),ct(yt,null,e)):ve(yt,null,e)}function lt(e){return e==null||typeof e=="boolean"?ve(yt):G(e)?ve(re,null,e.slice()):Es(e)?$t(e):ve(uo,null,String(e))}function $t(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ss(e)}function pn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(G(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),pn(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!ul(t)?t._ctx=Oe:r===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:Oe},s=32):(t=String(t),n&64?(s=16,t=[Q(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ga(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=fe([t.class,n.class]));else if(r==="style")t.style=Xo([t.style,n.style]);else if(to(r)){const l=t[r],a=n[r];a&&l!==a&&!(G(l)&&l.includes(a))&&(t[r]=l?[].concat(l,a):a)}else r!==""&&(t[r]=n[r])}return t}function nt(e,t,s,n=null){at(e,t,7,[s,n])}const Wa=al();let qa=0;function Ka(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Wa,l={uid:qa++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pl(n,r),emitsOptions:xl(n,r),emit:null,emitted:null,propsDefaults:he,inheritAttrs:n.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Da.bind(null,l),e.ce&&e.ce(l),l}let Ve=null;const Sl=()=>Ve||Oe;let eo,Fo;{const e=no(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),l=>{r.length>1?r.forEach(a=>a(l)):r[0](l)}};eo=t("__VUE_INSTANCE_SETTERS__",s=>Ve=s),Fo=t("__VUE_SSR_SETTERS__",s=>Ss=s)}const Ds=e=>{const t=Ve;return eo(e),e.scope.on(),()=>{e.scope.off(),eo(t)}},Mn=()=>{Ve&&Ve.scope.off(),eo(null)};function $l(e){return e.vnode.shapeFlag&4}let Ss=!1;function za(e,t=!1,s=!1){t&&Fo(t);const{props:n,children:r}=e.vnode,l=$l(e);ya(e,n,l,t),Ea(e,r,s||t);const a=l?Ja(e,t):void 0;return t&&Fo(!1),a}function Ja(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ua);const{setup:n}=s;if(n){_t();const r=e.setupContext=n.length>1?Ya(e):null,l=Ds(e),a=Os(n,e,0,[e.props,r]),i=xr(a);if(vt(),l(),(i||e.sp)&&!ts(e)&&tl(e),i){if(a.then(Mn,Mn),t)return a.then(d=>{Fn(e,d)}).catch(d=>{lo(d,e,0)});e.asyncDep=a}else Fn(e,a)}else Rl(e)}function Fn(e,t,s){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:be(t)&&(e.setupState=zr(t)),Rl(e)}function Rl(e,t,s){const n=e.type;e.render||(e.render=n.render||it);{const r=Ds(e);_t();try{fa(e)}finally{vt(),r()}}}const Qa={get(e,t){return Te(e,"get",""),e[t]}};function Ya(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Qa),slots:e.slots,emit:e.emit,expose:t}}function fo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(zr(an(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ms)return ms[s](e)},has(t,s){return s in t||s in ms}})):e.proxy}function Xa(e){return X(e)&&"__vccOpts"in e}const Y=(e,t)=>Hi(e,t,Ss);function Al(e,t,s){try{Zs(-1);const n=arguments.length;return n===2?be(t)&&!G(t)?Es(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Es(s)&&(s=[s]),ve(e,t,s))}finally{Zs(1)}}const Za="3.5.24";let Vo;const Vn=typeof window<"u"&&window.trustedTypes;if(Vn)try{Vo=Vn.createPolicy("vue",{createHTML:e=>e})}catch{}const Pl=Vo?e=>Vo.createHTML(e):e=>e,ec="http://www.w3.org/2000/svg",tc="http://www.w3.org/1998/Math/MathML",pt=typeof document<"u"?document:null,Ln=pt&&pt.createElement("template"),sc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?pt.createElementNS(ec,e):t==="mathml"?pt.createElementNS(tc,e):s?pt.createElement(e,{is:s}):pt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>pt.createTextNode(e),createComment:e=>pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,l){const a=s?s.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{Ln.innerHTML=Pl(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=Ln.content;if(n==="svg"||n==="mathml"){const d=i.firstChild;for(;d.firstChild;)i.appendChild(d.firstChild);i.removeChild(d)}t.insertBefore(i,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},oc=Symbol("_vtc");function nc(e,t,s){const n=e[oc];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Un=Symbol("_vod"),rc=Symbol("_vsh"),lc=Symbol(""),ic=/(?:^|;)\s*display\s*:/;function ac(e,t,s){const n=e.style,r=$e(s);let l=!1;if(s&&!r){if(t)if($e(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();s[i]==null&&Ws(n,i,"")}else for(const a in t)s[a]==null&&Ws(n,a,"");for(const a in s)a==="display"&&(l=!0),Ws(n,a,s[a])}else if(r){if(t!==s){const a=n[lc];a&&(s+=";"+a),n.cssText=s,l=ic.test(s)}}else t&&e.removeAttribute("style");Un in e&&(e[Un]=l?n.display:"",e[rc]&&(n.display="none"))}const Bn=/\s*!important$/;function Ws(e,t,s){if(G(s))s.forEach(n=>Ws(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=cc(e,t);Bn.test(s)?e.setProperty(Ht(n),s.replace(Bn,""),"important"):e[n]=s}}const Hn=["Webkit","Moz","ms"],Co={};function cc(e,t){const s=Co[t];if(s)return s;let n=Tt(t);if(n!=="filter"&&n in e)return Co[t]=n;n=Er(n);for(let r=0;r<Hn.length;r++){const l=Hn[r]+n;if(l in e)return Co[t]=l}return t}const Gn="http://www.w3.org/1999/xlink";function Wn(e,t,s,n,r,l=hi(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Gn,t.slice(6,t.length)):e.setAttributeNS(Gn,t,s):s==null||l&&!$r(s)?e.removeAttribute(t):e.setAttribute(t,l?"":Xe(s)?String(s):s)}function qn(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Pl(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const i=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(i!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=$r(s):s==null&&i==="string"?(s="",a=!0):i==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(r||t)}function At(e,t,s,n){e.addEventListener(t,s,n)}function dc(e,t,s,n){e.removeEventListener(t,s,n)}const Kn=Symbol("_vei");function uc(e,t,s,n,r=null){const l=e[Kn]||(e[Kn]={}),a=l[t];if(n&&a)a.value=n;else{const[i,d]=fc(t);if(n){const u=l[t]=bc(n,r);At(e,i,u,d)}else a&&(dc(e,i,a,d),l[t]=void 0)}}const zn=/(?:Once|Passive|Capture)$/;function fc(e){let t;if(zn.test(e)){t={};let n;for(;n=e.match(zn);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ht(e.slice(2)),t]}let Eo=0;const pc=Promise.resolve(),hc=()=>Eo||(pc.then(()=>Eo=0),Eo=Date.now());function bc(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;at(mc(n,s.value),t,5,[n])};return s.value=e,s.attached=hc(),s}function mc(e,t){if(G(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Jn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gc=(e,t,s,n,r,l)=>{const a=r==="svg";t==="class"?nc(e,n,a):t==="style"?ac(e,s,n):to(t)?Jo(t)||uc(e,t,s,n,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_c(e,t,n,a))?(qn(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wn(e,t,n,a,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!$e(n))?qn(e,Tt(t),n,l,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Wn(e,t,n,a))};function _c(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Jn(t)&&X(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Jn(t)&&$e(s)?!1:t in e}const os=e=>{const t=e.props["onUpdate:modelValue"]||!1;return G(t)?s=>Us(t,s):t};function vc(e){e.target.composing=!0}function Qn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const gt=Symbol("_assign");function Yn(e,t,s){return t&&(e=e.trim()),s&&(e=oo(e)),e}const le={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[gt]=os(r);const l=n||r.props&&r.props.type==="number";At(e,t?"change":"input",a=>{a.target.composing||e[gt](Yn(e.value,s,l))}),(s||l)&&At(e,"change",()=>{e.value=Yn(e.value,s,l)}),t||(At(e,"compositionstart",vc),At(e,"compositionend",Qn),At(e,"change",Qn))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:l}},a){if(e[gt]=os(a),e.composing)return;const i=(l||e.type==="number")&&!/^0\d/.test(e.value)?oo(e.value):e.value,d=t??"";i!==d&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===d)||(e.value=d))}},Il={deep:!0,created(e,t,s){e[gt]=os(s),At(e,"change",()=>{const n=e._modelValue,r=$s(e),l=e.checked,a=e[gt];if(G(n)){const i=Zo(n,r),d=i!==-1;if(l&&!d)a(n.concat(r));else if(!l&&d){const u=[...n];u.splice(i,1),a(u)}}else if(ls(n)){const i=new Set(n);l?i.add(r):i.delete(r),a(i)}else a(kl(e,l))})},mounted:Xn,beforeUpdate(e,t,s){e[gt]=os(s),Xn(e,t,s)}};function Xn(e,{value:t,oldValue:s},n){e._modelValue=t;let r;if(G(t))r=Zo(t,n.props.value)>-1;else if(ls(t))r=t.has(n.props.value);else{if(t===s)return;r=ks(t,kl(e,!0))}e.checked!==r&&(e.checked=r)}const Lo={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=ls(t);At(e,"change",()=>{const l=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?oo($s(a)):$s(a));e[gt](e.multiple?r?new Set(l):l:l[0]),e._assigning=!0,io(()=>{e._assigning=!1})}),e[gt]=os(n)},mounted(e,{value:t}){Zn(e,t)},beforeUpdate(e,t,s){e[gt]=os(s)},updated(e,{value:t}){e._assigning||Zn(e,t)}};function Zn(e,t){const s=e.multiple,n=G(t);if(!(s&&!n&&!ls(t))){for(let r=0,l=e.options.length;r<l;r++){const a=e.options[r],i=$s(a);if(s)if(n){const d=typeof i;d==="string"||d==="number"?a.selected=t.some(u=>String(u)===String(i)):a.selected=Zo(t,i)>-1}else a.selected=t.has(i);else if(ks($s(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $s(e){return"_value"in e?e._value:e.value}function kl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const yc=["ctrl","shift","alt","meta"],xc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yc.some(s=>e[`${s}Key`]&&!t.includes(s))},Rs=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((r,...l)=>{for(let a=0;a<t.length;a++){const i=xc[t[a]];if(i&&i(r,t))return}return e(r,...l)}))},wc=De({patchProp:gc},sc);let er;function Cc(){return er||(er=$a(wc))}const Ec=((...e)=>{const t=Cc().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=$c(n);if(!r)return;const l=t._component;!X(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=s(r,!1,Sc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function Sc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $c(e){return $e(e)?document.querySelector(e):e}let Tl;const po=e=>Tl=e,Ol=Symbol();function Uo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _s;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_s||(_s={}));function Rc(){const e=Ir(!0),t=e.run(()=>ie({}));let s=[],n=[];const r=an({install(l){po(r),r._a=l,l.provide(Ol,r),l.config.globalProperties.$pinia=r,n.forEach(a=>s.push(a)),n=[]},use(l){return this._a?s.push(l):n.push(l),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const Dl=()=>{};function tr(e,t,s,n=Dl){e.add(t);const r=()=>{e.delete(t)&&n()};return!s&&kr()&&mi(r),r}function Jt(e,...t){e.forEach(s=>{s(...t)})}const Ac=e=>e(),sr=Symbol(),So=Symbol();function Bo(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],r=e[s];Uo(r)&&Uo(n)&&e.hasOwnProperty(s)&&!Se(n)&&!kt(n)?e[s]=Bo(r,n):e[s]=n}return e}const Pc=Symbol();function Ic(e){return!Uo(e)||!Object.prototype.hasOwnProperty.call(e,Pc)}const{assign:Et}=Object;function kc(e){return!!(Se(e)&&e.effect)}function Tc(e,t,s,n){const{state:r,actions:l,getters:a}=t,i=s.state.value[e];let d;function u(){i||(s.state.value[e]=r?r():{});const c=Vi(s.state.value[e]);return Et(c,l,Object.keys(a||{}).reduce((f,_)=>(f[_]=an(Y(()=>{po(s);const y=s._s.get(e);return a[_].call(y,y)})),f),{}))}return d=Nl(e,u,t,s,n,!0),d}function Nl(e,t,s={},n,r,l){let a;const i=Et({actions:{}},s),d={deep:!0};let u,c,f=new Set,_=new Set,y;const E=n.state.value[e];!l&&!E&&(n.state.value[e]={}),ie({});let p;function w(K){let z;u=c=!1,typeof K=="function"?(K(n.state.value[e]),z={type:_s.patchFunction,storeId:e,events:y}):(Bo(n.state.value[e],K),z={type:_s.patchObject,payload:K,storeId:e,events:y});const ye=p=Symbol();io().then(()=>{p===ye&&(u=!0)}),c=!0,Jt(f,z,n.state.value[e])}const b=l?function(){const{state:z}=s,ye=z?z():{};this.$patch(xe=>{Et(xe,ye)})}:Dl;function $(){a.stop(),f.clear(),_.clear(),n._s.delete(e)}const j=(K,z="")=>{if(sr in K)return K[So]=z,K;const ye=function(){po(n);const xe=Array.from(arguments),Ne=new Set,Ie=new Set;function dt(C){Ne.add(C)}function U(C){Ie.add(C)}Jt(_,{args:xe,name:ye[So],store:ee,after:dt,onError:U});let v;try{v=K.apply(this&&this.$id===e?this:ee,xe)}catch(C){throw Jt(Ie,C),C}return v instanceof Promise?v.then(C=>(Jt(Ne,C),C)).catch(C=>(Jt(Ie,C),Promise.reject(C))):(Jt(Ne,v),v)};return ye[sr]=!0,ye[So]=z,ye},O={_p:n,$id:e,$onAction:tr.bind(null,_),$patch:w,$reset:b,$subscribe(K,z={}){const ye=tr(f,K,z.detached,()=>xe()),xe=a.run(()=>qe(()=>n.state.value[e],Ne=>{(z.flush==="sync"?c:u)&&K({storeId:e,type:_s.direct,events:y},Ne)},Et({},d,z)));return ye},$dispose:$},ee=Ts(O);n._s.set(e,ee);const se=(n._a&&n._a.runWithContext||Ac)(()=>n._e.run(()=>(a=Ir()).run(()=>t({action:j}))));for(const K in se){const z=se[K];if(Se(z)&&!kc(z)||kt(z))l||(E&&Ic(z)&&(Se(z)?z.value=E[K]:Bo(z,E[K])),n.state.value[e][K]=z);else if(typeof z=="function"){const ye=j(z,K);se[K]=ye,i.actions[K]=z}}return Et(ee,se),Et(ae(ee),se),Object.defineProperty(ee,"$state",{get:()=>n.state.value[e],set:K=>{w(z=>{Et(z,K)})}}),n._p.forEach(K=>{Et(ee,a.run(()=>K({store:ee,app:n._a,pinia:n,options:i})))}),E&&l&&s.hydrate&&s.hydrate(ee.$state,E),u=!0,c=!0,ee}function Gt(e,t,s){let n;const r=typeof t=="function";n=r?s:t;function l(a,i){const d=va();return a=a||(d?Qe(Ol,null):null),a&&po(a),a=Tl,a._s.has(e)||(r?Nl(e,t,n,a):Tc(e,n,a)),a._s.get(e)}return l.$id=e,l}const Yt=typeof document<"u";function jl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Oc(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&jl(e.default)}const de=Object.assign;function $o(e,t){const s={};for(const n in t){const r=t[n];s[n]=Ze(r)?r.map(e):e(r)}return s}const vs=()=>{},Ze=Array.isArray;function or(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const Ml=/#/g,Dc=/&/g,Nc=/\//g,jc=/=/g,Mc=/\?/g,Fl=/\+/g,Fc=/%5B/g,Vc=/%5D/g,Vl=/%5E/g,Lc=/%60/g,Ll=/%7B/g,Uc=/%7C/g,Ul=/%7D/g,Bc=/%20/g;function hn(e){return e==null?"":encodeURI(""+e).replace(Uc,"|").replace(Fc,"[").replace(Vc,"]")}function Hc(e){return hn(e).replace(Ll,"{").replace(Ul,"}").replace(Vl,"^")}function Ho(e){return hn(e).replace(Fl,"%2B").replace(Bc,"+").replace(Ml,"%23").replace(Dc,"%26").replace(Lc,"`").replace(Ll,"{").replace(Ul,"}").replace(Vl,"^")}function Gc(e){return Ho(e).replace(jc,"%3D")}function Wc(e){return hn(e).replace(Ml,"%23").replace(Mc,"%3F")}function qc(e){return Wc(e).replace(Nc,"%2F")}function As(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Kc=/\/$/,zc=e=>e.replace(Kc,"");function Ro(e,t,s="/"){let n,r={},l="",a="";const i=t.indexOf("#");let d=t.indexOf("?");return d=i>=0&&d>i?-1:d,d>=0&&(n=t.slice(0,d),l=t.slice(d,i>0?i:t.length),r=e(l.slice(1))),i>=0&&(n=n||t.slice(0,i),a=t.slice(i,t.length)),n=Xc(n??t,s),{fullPath:n+l+a,path:n,query:r,hash:As(a)}}function Jc(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function nr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Qc(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&ns(t.matched[n],s.matched[r])&&Bl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function ns(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Bl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Yc(e[s],t[s]))return!1;return!0}function Yc(e,t){return Ze(e)?rr(e,t):Ze(t)?rr(t,e):e===t}function rr(e,t){return Ze(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Xc(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let l=s.length-1,a,i;for(a=0;a<n.length;a++)if(i=n[a],i!==".")if(i==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+n.slice(a).join("/")}const Ct={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Go=(function(e){return e.pop="pop",e.push="push",e})({}),Ao=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function Zc(e){if(!e)if(Yt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),zc(e)}const ed=/^[^#]+#/;function td(e,t){return e.replace(ed,"#")+t}function sd(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const ho=()=>({left:window.scrollX,top:window.scrollY});function od(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=sd(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lr(e,t){return(history.state?history.state.position-t:-1)+e}const Wo=new Map;function nd(e,t){Wo.set(e,t)}function rd(e){const t=Wo.get(e);return Wo.delete(e),t}function ld(e){return typeof e=="string"||e&&typeof e=="object"}function Hl(e){return typeof e=="string"||typeof e=="symbol"}let Ce=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Gl=Symbol("");Ce.MATCHER_NOT_FOUND+"",Ce.NAVIGATION_GUARD_REDIRECT+"",Ce.NAVIGATION_ABORTED+"",Ce.NAVIGATION_CANCELLED+"",Ce.NAVIGATION_DUPLICATED+"";function rs(e,t){return de(new Error,{type:e,[Gl]:!0},t)}function ft(e,t){return e instanceof Error&&Gl in e&&(t==null||!!(e.type&t))}const id=["params","query","hash"];function ad(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of id)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function cd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const r=s[n].replace(Fl," "),l=r.indexOf("="),a=As(l<0?r:r.slice(0,l)),i=l<0?null:As(r.slice(l+1));if(a in t){let d=t[a];Ze(d)||(d=t[a]=[d]),d.push(i)}else t[a]=i}return t}function ir(e){let t="";for(let s in e){const n=e[s];if(s=Gc(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ze(n)?n.map(r=>r&&Ho(r)):[n&&Ho(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function dd(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Ze(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const ud=Symbol(""),ar=Symbol(""),bo=Symbol(""),bn=Symbol(""),qo=Symbol("");function ds(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Rt(e,t,s,n,r,l=a=>a()){const a=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((i,d)=>{const u=_=>{_===!1?d(rs(Ce.NAVIGATION_ABORTED,{from:s,to:t})):_ instanceof Error?d(_):ld(_)?d(rs(Ce.NAVIGATION_GUARD_REDIRECT,{from:t,to:_})):(a&&n.enterCallbacks[r]===a&&typeof _=="function"&&a.push(_),i())},c=l(()=>e.call(n&&n.instances[r],t,s,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(_=>d(_))})}function Po(e,t,s,n,r=l=>l()){const l=[];for(const a of e)for(const i in a.components){let d=a.components[i];if(!(t!=="beforeRouteEnter"&&!a.instances[i]))if(jl(d)){const u=(d.__vccOpts||d)[t];u&&l.push(Rt(u,s,n,a,i,r))}else{let u=d();l.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${i}" at "${a.path}"`);const f=Oc(c)?c.default:c;a.mods[i]=c,a.components[i]=f;const _=(f.__vccOpts||f)[t];return _&&Rt(_,s,n,a,i,r)()}))}}return l}function fd(e,t){const s=[],n=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let a=0;a<l;a++){const i=t.matched[a];i&&(e.matched.find(u=>ns(u,i))?n.push(i):s.push(i));const d=e.matched[a];d&&(t.matched.find(u=>ns(u,d))||r.push(d))}return[s,n,r]}let pd=()=>location.protocol+"//"+location.host;function Wl(e,t){const{pathname:s,search:n,hash:r}=t,l=e.indexOf("#");if(l>-1){let a=r.includes(e.slice(l))?e.slice(l).length:1,i=r.slice(a);return i[0]!=="/"&&(i="/"+i),nr(i,"")}return nr(s,e)+n+r}function hd(e,t,s,n){let r=[],l=[],a=null;const i=({state:_})=>{const y=Wl(e,location),E=s.value,p=t.value;let w=0;if(_){if(s.value=y,t.value=_,a&&a===E){a=null;return}w=p?_.position-p.position:0}else n(y);r.forEach(b=>{b(s.value,E,{delta:w,type:Go.pop,direction:w?w>0?Ao.forward:Ao.back:Ao.unknown})})};function d(){a=s.value}function u(_){r.push(_);const y=()=>{const E=r.indexOf(_);E>-1&&r.splice(E,1)};return l.push(y),y}function c(){if(document.visibilityState==="hidden"){const{history:_}=window;if(!_.state)return;_.replaceState(de({},_.state,{scroll:ho()}),"")}}function f(){for(const _ of l)_();l=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:d,listen:u,destroy:f}}function cr(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?ho():null}}function bd(e){const{history:t,location:s}=window,n={value:Wl(e,s)},r={value:t.state};r.value||l(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,u,c){const f=e.indexOf("#"),_=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+d:pd()+e+d;try{t[c?"replaceState":"pushState"](u,"",_),r.value=u}catch(y){console.error(y),s[c?"replace":"assign"](_)}}function a(d,u){l(d,de({},t.state,cr(r.value.back,d,r.value.forward,!0),u,{position:r.value.position}),!0),n.value=d}function i(d,u){const c=de({},r.value,t.state,{forward:d,scroll:ho()});l(c.current,c,!0),l(d,de({},cr(n.value,d,null),{position:c.position+1},u),!1),n.value=d}return{location:n,state:r,push:i,replace:a}}function md(e){e=Zc(e);const t=bd(e),s=hd(e,t.state,t.location,t.replace);function n(l,a=!0){a||s.pauseListeners(),history.go(l)}const r=de({location:"",base:e,go:n,createHref:td.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function gd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),md(e)}let Lt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Re=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Re||{});const _d={type:Lt.Static,value:""},vd=/[a-zA-Z0-9_]/;function yd(e){if(!e)return[[]];if(e==="/")return[[_d]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${s})/"${u}": ${y}`)}let s=Re.Static,n=s;const r=[];let l;function a(){l&&r.push(l),l=[]}let i=0,d,u="",c="";function f(){u&&(s===Re.Static?l.push({type:Lt.Static,value:u}):s===Re.Param||s===Re.ParamRegExp||s===Re.ParamRegExpEnd?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),l.push({type:Lt.Param,value:u,regexp:c,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),u="")}function _(){u+=d}for(;i<e.length;){if(d=e[i++],d==="\\"&&s!==Re.ParamRegExp){n=s,s=Re.EscapeNext;continue}switch(s){case Re.Static:d==="/"?(u&&f(),a()):d===":"?(f(),s=Re.Param):_();break;case Re.EscapeNext:_(),s=n;break;case Re.Param:d==="("?s=Re.ParamRegExp:vd.test(d)?_():(f(),s=Re.Static,d!=="*"&&d!=="?"&&d!=="+"&&i--);break;case Re.ParamRegExp:d===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+d:s=Re.ParamRegExpEnd:c+=d;break;case Re.ParamRegExpEnd:f(),s=Re.Static,d!=="*"&&d!=="?"&&d!=="+"&&i--,c="";break;default:t("Unknown state");break}}return s===Re.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),f(),a(),r}const dr="[^/]+?",xd={sensitive:!1,strict:!1,start:!0,end:!0};var Me=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Me||{});const wd=/[.+*?^${}()[\]/\\]/g;function Cd(e,t){const s=de({},xd,t),n=[];let r=s.start?"^":"";const l=[];for(const u of e){const c=u.length?[]:[Me.Root];s.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const _=u[f];let y=Me.Segment+(s.sensitive?Me.BonusCaseSensitive:0);if(_.type===Lt.Static)f||(r+="/"),r+=_.value.replace(wd,"\\$&"),y+=Me.Static;else if(_.type===Lt.Param){const{value:E,repeatable:p,optional:w,regexp:b}=_;l.push({name:E,repeatable:p,optional:w});const $=b||dr;if($!==dr){y+=Me.BonusCustomRegExp;try{`${$}`}catch(O){throw new Error(`Invalid custom RegExp for param "${E}" (${$}): `+O.message)}}let j=p?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;f||(j=w&&u.length<2?`(?:/${j})`:"/"+j),w&&(j+="?"),r+=j,y+=Me.Dynamic,w&&(y+=Me.BonusOptional),p&&(y+=Me.BonusRepeatable),$===".*"&&(y+=Me.BonusWildcard)}c.push(y)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=Me.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function i(u){const c=u.match(a),f={};if(!c)return null;for(let _=1;_<c.length;_++){const y=c[_]||"",E=l[_-1];f[E.name]=y&&E.repeatable?y.split("/"):y}return f}function d(u){let c="",f=!1;for(const _ of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const y of _)if(y.type===Lt.Static)c+=y.value;else if(y.type===Lt.Param){const{value:E,repeatable:p,optional:w}=y,b=E in u?u[E]:"";if(Ze(b)&&!p)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const $=Ze(b)?b.join("/"):b;if(!$)if(w)_.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${E}"`);c+=$}}return c||"/"}return{re:a,score:n,keys:l,parse:i,stringify:d}}function Ed(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===Me.Static+Me.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Me.Static+Me.Segment?1:-1:0}function ql(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const l=Ed(n[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-n.length)===1){if(ur(n))return 1;if(ur(r))return-1}return r.length-n.length}function ur(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sd={strict:!1,end:!0,sensitive:!1};function $d(e,t,s){const n=Cd(yd(e.path),s),r=de(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Rd(e,t){const s=[],n=new Map;t=or(Sd,t);function r(f){return n.get(f)}function l(f,_,y){const E=!y,p=pr(f);p.aliasOf=y&&y.record;const w=or(t,f),b=[p];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const ee of O)b.push(pr(de({},p,{components:y?y.record.components:p.components,path:ee,aliasOf:y?y.record:p})))}let $,j;for(const O of b){const{path:ee}=O;if(_&&ee[0]!=="/"){const me=_.record.path,se=me[me.length-1]==="/"?"":"/";O.path=_.record.path+(ee&&se+ee)}if($=$d(O,_,w),y?y.alias.push($):(j=j||$,j!==$&&j.alias.push($),E&&f.name&&!hr($)&&a(f.name)),Kl($)&&d($),p.children){const me=p.children;for(let se=0;se<me.length;se++)l(me[se],$,y&&y.children[se])}y=y||$}return j?()=>{a(j)}:vs}function a(f){if(Hl(f)){const _=n.get(f);_&&(n.delete(f),s.splice(s.indexOf(_),1),_.children.forEach(a),_.alias.forEach(a))}else{const _=s.indexOf(f);_>-1&&(s.splice(_,1),f.record.name&&n.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function i(){return s}function d(f){const _=Id(f,s);s.splice(_,0,f),f.record.name&&!hr(f)&&n.set(f.record.name,f)}function u(f,_){let y,E={},p,w;if("name"in f&&f.name){if(y=n.get(f.name),!y)throw rs(Ce.MATCHER_NOT_FOUND,{location:f});w=y.record.name,E=de(fr(_.params,y.keys.filter(j=>!j.optional).concat(y.parent?y.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),f.params&&fr(f.params,y.keys.map(j=>j.name))),p=y.stringify(E)}else if(f.path!=null)p=f.path,y=s.find(j=>j.re.test(p)),y&&(E=y.parse(p),w=y.record.name);else{if(y=_.name?n.get(_.name):s.find(j=>j.re.test(_.path)),!y)throw rs(Ce.MATCHER_NOT_FOUND,{location:f,currentLocation:_});w=y.record.name,E=de({},_.params,f.params),p=y.stringify(E)}const b=[];let $=y;for(;$;)b.unshift($.record),$=$.parent;return{name:w,path:p,params:E,matched:b,meta:Pd(b)}}e.forEach(f=>l(f));function c(){s.length=0,n.clear()}return{addRoute:l,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:i,getRecordMatcher:r}}function fr(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function pr(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ad(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ad(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function hr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Pd(e){return e.reduce((t,s)=>de(t,s.meta),{})}function Id(e,t){let s=0,n=t.length;for(;s!==n;){const l=s+n>>1;ql(e,t[l])<0?n=l:s=l+1}const r=kd(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function kd(e){let t=e;for(;t=t.parent;)if(Kl(t)&&ql(e,t)===0)return t}function Kl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function br(e){const t=Qe(bo),s=Qe(bn),n=Y(()=>{const d=we(e.to);return t.resolve(d)}),r=Y(()=>{const{matched:d}=n.value,{length:u}=d,c=d[u-1],f=s.matched;if(!c||!f.length)return-1;const _=f.findIndex(ns.bind(null,c));if(_>-1)return _;const y=mr(d[u-2]);return u>1&&mr(c)===y&&f[f.length-1].path!==y?f.findIndex(ns.bind(null,d[u-2])):_}),l=Y(()=>r.value>-1&&Nd(s.params,n.value.params)),a=Y(()=>r.value>-1&&r.value===s.matched.length-1&&Bl(s.params,n.value.params));function i(d={}){if(Dd(d)){const u=t[we(e.replace)?"replace":"push"](we(e.to)).catch(vs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Y(()=>n.value.href),isActive:l,isExactActive:a,navigate:i}}function Td(e){return e.length===1?e[0]:e}const Od=el({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:br,setup(e,{slots:t}){const s=Ts(br(e)),{options:n}=Qe(bo),r=Y(()=>({[gr(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[gr(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Td(t.default(s));return e.custom?l:Al("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),mn=Od;function Dd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Nd(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Ze(r)||r.length!==n.length||n.some((l,a)=>l!==r[a]))return!1}return!0}function mr(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const gr=(e,t,s)=>e??t??s,jd=el({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Qe(qo),r=Y(()=>e.route||n.value),l=Qe(ar,0),a=Y(()=>{let u=we(l);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),i=Y(()=>r.value.matched[a.value]);Bs(ar,Y(()=>a.value+1)),Bs(ud,i),Bs(qo,r);const d=ie();return qe(()=>[d.value,i.value,e.name],([u,c,f],[_,y,E])=>{c&&(c.instances[f]=u,y&&y!==c&&u&&u===_&&(c.leaveGuards.size||(c.leaveGuards=y.leaveGuards),c.updateGuards.size||(c.updateGuards=y.updateGuards))),u&&c&&(!y||!ns(c,y)||!_)&&(c.enterCallbacks[f]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,f=i.value,_=f&&f.components[c];if(!_)return _r(s.default,{Component:_,route:u});const y=f.props[c],E=y?y===!0?u.params:typeof y=="function"?y(u):y:null,w=Al(_,de({},E,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[c]=null)},ref:d}));return _r(s.default,{Component:w,route:u})||w}}});function _r(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const zl=jd;function Md(e){const t=Rd(e.routes,e),s=e.parseQuery||cd,n=e.stringifyQuery||ir,r=e.history,l=ds(),a=ds(),i=ds(),d=ji(Ct);let u=Ct;Yt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=$o.bind(null,I=>""+I),f=$o.bind(null,qc),_=$o.bind(null,As);function y(I,L){let F,B;return Hl(I)?(F=t.getRecordMatcher(I),B=L):B=I,t.addRoute(B,F)}function E(I){const L=t.getRecordMatcher(I);L&&t.removeRoute(L)}function p(){return t.getRoutes().map(I=>I.record)}function w(I){return!!t.getRecordMatcher(I)}function b(I,L){if(L=de({},L||d.value),typeof I=="string"){const x=Ro(s,I,L.path),P=t.resolve({path:x.path},L),k=r.createHref(x.fullPath);return de(x,P,{params:_(P.params),hash:As(x.hash),redirectedFrom:void 0,href:k})}let F;if(I.path!=null)F=de({},I,{path:Ro(s,I.path,L.path).path});else{const x=de({},I.params);for(const P in x)x[P]==null&&delete x[P];F=de({},I,{params:f(x)}),L.params=f(L.params)}const B=t.resolve(F,L),oe=I.hash||"";B.params=c(_(B.params));const h=Jc(n,de({},I,{hash:Hc(oe),path:B.path})),m=r.createHref(h);return de({fullPath:h,hash:oe,query:n===ir?dd(I.query):I.query||{}},B,{redirectedFrom:void 0,href:m})}function $(I){return typeof I=="string"?Ro(s,I,d.value.path):de({},I)}function j(I,L){if(u!==I)return rs(Ce.NAVIGATION_CANCELLED,{from:L,to:I})}function O(I){return se(I)}function ee(I){return O(de($(I),{replace:!0}))}function me(I,L){const F=I.matched[I.matched.length-1];if(F&&F.redirect){const{redirect:B}=F;let oe=typeof B=="function"?B(I,L):B;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=$(oe):{path:oe},oe.params={}),de({query:I.query,hash:I.hash,params:oe.path!=null?{}:I.params},oe)}}function se(I,L){const F=u=b(I),B=d.value,oe=I.state,h=I.force,m=I.replace===!0,x=me(F,B);if(x)return se(de($(x),{state:typeof x=="object"?de({},oe,x.state):oe,force:h,replace:m}),L||F);const P=F;P.redirectedFrom=L;let k;return!h&&Qc(n,B,F)&&(k=rs(Ce.NAVIGATION_DUPLICATED,{to:P,from:B}),et(B,B,!0,!1)),(k?Promise.resolve(k):ye(P,B)).catch(A=>ft(A)?ft(A,Ce.NAVIGATION_GUARD_REDIRECT)?A:wt(A):Z(A,P,B)).then(A=>{if(A){if(ft(A,Ce.NAVIGATION_GUARD_REDIRECT))return se(de({replace:m},$(A.to),{state:typeof A.to=="object"?de({},oe,A.to.state):oe,force:h}),L||P)}else A=Ne(P,B,!0,m,oe);return xe(P,B,A),A})}function K(I,L){const F=j(I,L);return F?Promise.reject(F):Promise.resolve()}function z(I){const L=Kt.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(I):I()}function ye(I,L){let F;const[B,oe,h]=fd(I,L);F=Po(B.reverse(),"beforeRouteLeave",I,L);for(const x of B)x.leaveGuards.forEach(P=>{F.push(Rt(P,I,L))});const m=K.bind(null,I,L);return F.push(m),ze(F).then(()=>{F=[];for(const x of l.list())F.push(Rt(x,I,L));return F.push(m),ze(F)}).then(()=>{F=Po(oe,"beforeRouteUpdate",I,L);for(const x of oe)x.updateGuards.forEach(P=>{F.push(Rt(P,I,L))});return F.push(m),ze(F)}).then(()=>{F=[];for(const x of h)if(x.beforeEnter)if(Ze(x.beforeEnter))for(const P of x.beforeEnter)F.push(Rt(P,I,L));else F.push(Rt(x.beforeEnter,I,L));return F.push(m),ze(F)}).then(()=>(I.matched.forEach(x=>x.enterCallbacks={}),F=Po(h,"beforeRouteEnter",I,L,z),F.push(m),ze(F))).then(()=>{F=[];for(const x of a.list())F.push(Rt(x,I,L));return F.push(m),ze(F)}).catch(x=>ft(x,Ce.NAVIGATION_CANCELLED)?x:Promise.reject(x))}function xe(I,L,F){i.list().forEach(B=>z(()=>B(I,L,F)))}function Ne(I,L,F,B,oe){const h=j(I,L);if(h)return h;const m=L===Ct,x=Yt?history.state:{};F&&(B||m?r.replace(I.fullPath,de({scroll:m&&x&&x.scroll},oe)):r.push(I.fullPath,oe)),d.value=I,et(I,L,F,m),wt()}let Ie;function dt(){Ie||(Ie=r.listen((I,L,F)=>{if(!jt.listening)return;const B=b(I),oe=me(B,jt.currentRoute.value);if(oe){se(de(oe,{replace:!0,force:!0}),B).catch(vs);return}u=B;const h=d.value;Yt&&nd(lr(h.fullPath,F.delta),ho()),ye(B,h).catch(m=>ft(m,Ce.NAVIGATION_ABORTED|Ce.NAVIGATION_CANCELLED)?m:ft(m,Ce.NAVIGATION_GUARD_REDIRECT)?(se(de($(m.to),{force:!0}),B).then(x=>{ft(x,Ce.NAVIGATION_ABORTED|Ce.NAVIGATION_DUPLICATED)&&!F.delta&&F.type===Go.pop&&r.go(-1,!1)}).catch(vs),Promise.reject()):(F.delta&&r.go(-F.delta,!1),Z(m,B,h))).then(m=>{m=m||Ne(B,h,!1),m&&(F.delta&&!ft(m,Ce.NAVIGATION_CANCELLED)?r.go(-F.delta,!1):F.type===Go.pop&&ft(m,Ce.NAVIGATION_ABORTED|Ce.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),xe(B,h,m)}).catch(vs)}))}let U=ds(),v=ds(),C;function Z(I,L,F){wt(I);const B=v.list();return B.length?B.forEach(oe=>oe(I,L,F)):console.error(I),Promise.reject(I)}function Le(){return C&&d.value!==Ct?Promise.resolve():new Promise((I,L)=>{U.add([I,L])})}function wt(I){return C||(C=!I,dt(),U.list().forEach(([L,F])=>I?F(I):L()),U.reset()),I}function et(I,L,F,B){const{scrollBehavior:oe}=e;if(!Yt||!oe)return Promise.resolve();const h=!F&&rd(lr(I.fullPath,0))||(B||!F)&&history.state&&history.state.scroll||null;return io().then(()=>oe(I,L,h)).then(m=>m&&od(m)).catch(m=>Z(m,I,L))}const Ue=I=>r.go(I);let qt;const Kt=new Set,jt={currentRoute:d,listening:!0,addRoute:y,removeRoute:E,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:p,resolve:b,options:e,push:O,replace:ee,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:l.add,beforeResolve:a.add,afterEach:i.add,onError:v.add,isReady:Le,install(I){I.component("RouterLink",mn),I.component("RouterView",zl),I.config.globalProperties.$router=jt,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>we(d)}),Yt&&!qt&&d.value===Ct&&(qt=!0,O(r.location).catch(B=>{}));const L={};for(const B in Ct)Object.defineProperty(L,B,{get:()=>d.value[B],enumerable:!0});I.provide(bo,jt),I.provide(bn,qr(L)),I.provide(qo,d);const F=I.unmount;Kt.add(I),I.unmount=function(){Kt.delete(I),Kt.size<1&&(u=Ct,Ie&&Ie(),Ie=null,d.value=Ct,qt=!1,C=!1),F()}}};function ze(I){return I.reduce((L,F)=>L.then(()=>z(F)),Promise.resolve())}return jt}function Ns(){return Qe(bo)}function Fd(e){return Qe(bn)}const Vd={__name:"App",setup(e){return(t,s)=>(S(),ct(we(zl)))}},Ls=window.djangoConfig?.projectId??4,Ae=window.djangoConfig?.baseUrl??"http://localhost:8000",vr=window.djangoConfig?.csrfToken??"falsocsrf",ce={apiBaseUrl:Ae,csrfToken:vr,idProject:Ls,urlLogo:Ae+"/static/img/logo.png",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":vr},URLProjectData:Ae+"/api/projects/data/"+Ls+"/",URLAllProjectData:Ae+"/api/projects/data/0/",URLSourcesAvailable:Ae+"/api/projects/resources/available/",URLTechnicalsAvailable:Ae+"/api/technicals/avaliables/",URLVehiclesAvailable:Ae+"/api/vehicles/avaliables/",URLResourcesProject:Ae+"/api/projects/"+Ls+"/resources/",URLUpdateResourceItem:Ae+"/api/projects/resources/update/",URLDeleteResourceProject:Ae+"/api/projects/resources/delete/${id_project_resource}/",URLSheetProjects:Ae+"/api/workorders/sheets/project/"+Ls+"/",URLAddSheetProject:Ae+"/api/workorders/sheets/create/",URLUpdateSheetProject:Ae+"/api/workorders/sheets/update/",URLAddResourceToProject:Ae+"/api/projects/resources/add/",URLCreateCustodyChain:Ae+"/api/workorders/custody_chain/create/",URLCustodyChainDetail:Ae+"/api/workorders/custody_chain/detail/${id}/",URLAllCustodyChains:Ae+"/api/workorders/custody_chain/sheet/${id_sheet_project}/"},Wt=Gt("projectResourcesStore",{state:()=>({selectedResource:Object,resourcesProject:[],newResourceProject:{id:null,project:null,resource:Object,type:null,detailed_description:null,cost:0,interval_days:3,operation_start_date:null,operation_end_date:null,is_retired:!1,retirement_date:null,retirement_reason:null,is_active:!0,is_selected:!1,is_confirm_delete:!1}}),actions:{async fetchResourcesProject(){console.log("Fetching project resources");try{const e=await fetch(ce.URLResourcesProject,{method:"GET",headers:ce.headers});if(!e.ok)throw new Error("Failed to fetch project resources");const t=await e.json();this.resourcesProject=t.data}catch(e){console.error("Error fetching project resources:",e)}},async addResourcesToProject(e){try{const t=e.map(r=>({project_id:ce.idProject,resource_id:r.resource_id,detailed_description:r.detailed_description,interval_days:r.interval_days,cost:r.cost||0,maintenance_cost:r.maintenance_cost||0,operation_start_date:r.operation_start_date,include_maintenance:r.include_maintenance})),s=await fetch(ce.URLAddResourceToProject,{method:"POST",headers:ce.headers,body:JSON.stringify(t)}),n=await s.json();if(!s.ok)throw new Error(n.error||`Error al agregar recursos. Se agregaron ${n.added||0} de ${t.length}`);return n}catch(t){throw console.error("Error adding resources to project:",t),t}},async updateResourceProject(e){try{const t=await fetch(ce.URLUpdateResourceItem,{method:"PUT",headers:ce.headers,body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.error||"Failed to update project resource");const n=this.resourcesProject.findIndex(r=>r.id===e.id);return n!==-1&&(this.resourcesProject[n]={...this.resourcesProject[n],...s.data}),s.data}catch(t){throw console.error("Error updating project resource:",t),t}},async deleteResourceProject(e){try{const t=ce.URLDeleteResourceProject.replace("${id_project_resource}",e),s=await fetch(t,{method:"DELETE",headers:ce.headers});if(!s.ok){const n=await s.json();throw new Error(n.error||"Failed to delete project resource")}this.resourcesProject=this.resourcesProject.filter(n=>n.id!==e)}catch(t){throw console.error("Error deleting project resource:",t),t}}}}),Ld=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(0):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},Ud=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},Ko=e=>{if(!e)return"--";const[t,s,n]=e.split("-"),r=new Date(t,s-1,n);return new Intl.DateTimeFormat("es-GT",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r)},Bd={class:"space-y-3"},Hd={class:"flex justify-between items-center mb-4"},Gd={class:"overflow-x-auto"},Wd={class:"table table-zebra w-full"},qd={key:0},Kd={class:"p-2 border border-gray-300"},zd={class:"p-2 border border-gray-300"},Jd={key:0,class:"text-red-500 border rounded p-1 bg-red-100"},Qd={class:"p-2 border border-gray-300"},Yd={class:"p-2 border border-gray-300 text-center"},Xd={class:"p-2 border border-gray-300 text-right font-mono"},Zd={class:"p-2 border border-gray-300 text-end"},eu={class:"p-2 border border-gray-300 text-end font-mono"},tu={class:"p-2 border border-gray-300 text-end"},su={class:"flex gap-2 justify-end"},ou=["onClick"],nu=["title","disabled","onClick"],ru={class:"stats shadow w-full"},lu={class:"stat"},iu={class:"stat-value text-primary"},au={class:"stat text-end"},cu={class:"stat-value text-info text-end"},du={__name:"TabResources",emits:["edit-resource"],setup(e,{emit:t}){const s=t,n=Wt(),r=Y(()=>n.resourcesProject),l=ie(null),a=u=>parseFloat(u)===0,i=u=>{s("edit-resource",u)},d=async u=>{if(l.value===u.id)try{await n.deleteResourceProject(u.id),l.value=null}catch(c){console.error("Error al eliminar recurso:",c),alert("Error al eliminar el recurso")}else l.value=u.id};return(u,c)=>(S(),R("div",Bd,[o("div",Hd,[c[1]||(c[1]=o("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[o("i",{class:"las la-tools text-blue-600"}),Q(" Equipos Asignados ")],-1)),ve(we(mn),{class:"btn btn-primary btn-sm",to:{name:"resource-form"}},{default:Dt(()=>[...c[0]||(c[0]=[o("i",{class:"las la-plus"},null,-1),Q(" Asignar Recusros ",-1)])]),_:1})]),o("div",Gd,[o("table",Wd,[c[5]||(c[5]=o("thead",null,[o("tr",{class:"bg-gray-500 text-white"},[o("th",{class:"p-2 border border-gray-100 text-center"},"#"),o("th",{class:"p-2 border border-gray-100 text-center"},"Cdigo"),o("th",{class:"p-2 border border-gray-100 text-center"},"Nombre/Descripcin"),o("th",{class:"p-2 border border-gray-100 text-center"},"Tipo Recurso"),o("th",{class:"p-2 border border-gray-100 text-center"},"Costo"),o("th",{class:"p-2 border border-gray-100 text-center"},"Frec. (das)"),o("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Inicio"),o("th",{class:"p-2 border border-gray-100 text-center text-center"},"Acciones")])],-1)),o("tbody",null,[r.value.length===0?(S(),R("tr",qd,[...c[2]||(c[2]=[o("td",{colspan:"7",class:"text-center text-gray-500 py-8"},[o("i",{class:"las la-inbox text-4xl"}),o("p",null,"No hay equipos asignados a este proyecto")],-1)])])):(S(!0),R(re,{key:1},Ee(r.value,f=>(S(),R("tr",{key:f.id,class:fe({"text-red-500 font-bold bg-red-100":a(f.cost)})},[o("td",Kd,g(f.id),1),o("td",zd,[f.is_retired?(S(),R("span",Jd,"RETIRADO")):q("",!0),Q(" "+g(f.resource_item_code),1)]),o("td",Qd,g(f.detailed_description),1),o("td",Yd,g(f.type_resource),1),o("td",Xd,g(we(Ud)(f.cost)),1),o("td",Zd,g(f.interval_days),1),o("td",eu,g(we(Ko)(f.operation_start_date)),1),o("td",tu,[o("div",su,[o("button",{class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar",onClick:_=>i(f)},[...c[3]||(c[3]=[o("i",{class:"las la-edit"},null,-1),Q(" EDITAR ",-1)])],8,ou),o("button",{class:fe(["btn btn-xs border-red-500 text-red-500 bg-white",{"opacity-50 cursor-not-allowed":!f.is_deleteable,"bg-red-500 text-black":l.value===f.id}]),title:l.value===f.id?"Haz clic nuevamente para confirmar":"Eliminar",disabled:!f.is_deleteable,onClick:_=>d(f)},[c[4]||(c[4]=o("i",{class:"las la-trash"},null,-1)),Q(" "+g(l.value===f.id?"CONFIRMAR":"ELIMINAR"),1)],10,nu)])])],2))),128))])])]),o("div",ru,[o("div",lu,[c[6]||(c[6]=o("div",{class:"stat-title"},"Total Recursos",-1)),o("div",iu,g(r.value.length),1),c[7]||(c[7]=o("div",{class:"stat-desc"},"Asignados al proyecto",-1))]),o("div",au,[c[8]||(c[8]=o("div",{class:"stat-title"},"Costo Total",-1)),o("div",cu,g(we(Ld)(r.value.reduce((f,_)=>f+parseFloat(_.cost),0))),1),c[9]||(c[9]=o("div",{class:"stat-desc"},"Suma de todos los recursos",-1))])])]))}},gn=Gt("sheetProjectsStore",{state:()=>({selectedSheetProject:Object,sheetProjects:[],newSheetProject:{id:null,project:null,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:null,contact_phone_reference:null}}),actions:{async fetchSheetProjects(){console.log("Fetching sheet projects...");try{const e=await fetch(ce.URLSheetProjects,{method:"GET",headers:ce.headers});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.sheetProjects=t.data}catch(e){console.error("Error fetching sheet projects:",e)}},async addSheetProject(e){console.log("Adding new sheet project",e);try{const t={project_id:e.project,period_start:e.period_start,service_type:e.service_type};e.contact_reference&&(t.contact_reference=e.contact_reference),e.contact_phone_reference&&(t.contact_phone_reference=e.contact_phone_reference);const s=await fetch(ce.URLAddSheetProject,{method:"POST",headers:ce.headers,body:JSON.stringify(t)}),n=await s.json();if(!s.ok)throw new Error(n.error||`HTTP error! status: ${s.status}`);return n.data.id}catch(t){throw console.error("Error adding sheet project:",t),t}},async closeSheetProject(e){console.log("Closing sheet project with ID:",e)},async updateSheetProject(e){console.log("Updating sheet project:",e)},initializeNewSheetProject(e){this.newSheetProject={id:null,project:e.id,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:e.contact_name,contact_phone_reference:e.contact_phone}},getLastActiveSheetProjectID(){return this.sheetProjects.find(e=>e.status==="IN_PROGRESS")?.id}}}),uu={class:"space-y-3"},fu={class:"flex justify-between items-center mb-4"},pu={key:1,class:"text-amber-700 badge bg-yellow-100"},hu={class:"overflow-x-auto"},bu={class:"table table-zebra w-full"},mu={key:0},gu={class:"p-2 border border-gray-300"},_u={class:"p-2 border border-gray-300 font-mono"},vu={class:"p-2 border border-gray-300"},yu={class:"p-2 border border-gray-300 text-end"},xu={class:"p-2 border border-gray-300 text-end"},wu={class:"p-2 border border-gray-300 text-end"},Cu={class:"p-2 border border-gray-300"},Eu={class:"p-2 border border-gray-300"},Su={class:"p-2 border border-gray-300"},$u={class:"p-2 border border-gray-300 text-right"},Ru={class:"p-2 border border-gray-300 text-right"},Au={class:"p-2 border border-gray-300 text-right"},Pu={class:"p-2 border border-gray-300 text-end"},Iu={class:"flex gap-2 justify-end"},ku=["onClick"],Tu=["onClick"],Ou=["onClick","title"],Du={__name:"TabSheetProject",emits:["open-sheet-form","edit-sheet"],setup(e,{emit:t}){const s=Ns(),n=gn(),r=Y(()=>n.sheetProjects),l=Y(()=>r.value.some(p=>p.status==="IN_PROGRESS")),a=p=>p?new Intl.DateTimeFormat("es-GT").format(new Date(p)):"N/A",i=p=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"bg-green-500 text-white"},INVOICED:{text:"FACTURADO",class:"bg-cyan-500 text-white"},CANCELLED:{text:"CANCELADO",class:"bg-orange-500 text-white"}})[p]||{text:p,class:"bg-gray-500 text-white"},d=t,u=()=>{d("open-sheet-form")},c=p=>{d("edit-sheet",p)},f=ie(null),_=p=>{f.value===p?(y(p),f.value=null):(f.value=p,setTimeout(()=>{f.value===p&&(f.value=null)},3e3))},y=async p=>{try{console.log("Cerrando planilla:",p)}catch(w){console.error("Error al cerrar planilla:",w)}},E=p=>{s.push({name:"custody-chain-sheet",params:{id:p}})};return(p,w)=>(S(),R("div",uu,[o("div",fu,[w[2]||(w[2]=o("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[o("i",{class:"las la-file-invoice-dollar text-blue-600"}),Q(" Planillas del Proyecto ")],-1)),l.value?(S(),R("div",pu,[...w[1]||(w[1]=[o("i",{class:"las la-exclamation-triangle"},null,-1),Q(" PLANILLA EN EJECUCIN ",-1)])])):(S(),R("button",{key:0,onClick:u,class:"btn btn-primary btn-sm"},[...w[0]||(w[0]=[o("i",{class:"las la-plus"},null,-1),Q(" Crear Nueva Planilla ",-1)])]))]),o("div",hu,[o("table",bu,[w[7]||(w[7]=o("thead",null,[o("tr",{class:"bg-gray-500 text-white"},[o("th",{class:"p-2 border border-gray-100 text-center"},"#"),o("th",{class:"p-2 border border-gray-100 text-center"},"Serie"),o("th",{class:"p-2 border border-gray-100 text-center"},"Estado"),o("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Emisin"),o("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Inicio"),o("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Fin"),o("th",{class:"p-2 border border-gray-100 text-center"},"Contacto Ref."),o("th",{class:"p-2 border border-gray-100 text-center"},"Telfono"),o("th",{class:"p-2 border border-gray-100 text-center"},"Tipo Servicio"),o("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),o("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),o("th",{class:"p-2 border border-gray-100 text-center"},"M"),o("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),o("tbody",null,[r.value.length===0?(S(),R("tr",mu,[...w[3]||(w[3]=[o("td",{colspan:"13",class:"text-center text-gray-500 py-8"},[o("i",{class:"las la-inbox text-4xl"}),o("p",null,"No hay planillas registradas para este proyecto")],-1)])])):(S(!0),R(re,{key:1},Ee(r.value,b=>(S(),R("tr",{key:b.id},[o("td",gu,g(b.id),1),o("td",_u,g(b.series_code),1),o("td",vu,[o("span",{class:fe(["badge px-3 py-1 rounded text-xs font-medium",i(b.status).class])},g(i(b.status).text),3)]),o("td",yu,g(a(b.issue_date)),1),o("td",xu,g(a(b.period_start)),1),o("td",wu,g(b.period_end?a(b.period_end):"--"),1),o("td",Cu,g(b.contact_reference||"N/A"),1),o("td",Eu,g(b.contact_phone_reference||"N/A"),1),o("td",Su,g(b.service_type),1),o("td",$u,g(b.total_gallons.toLocaleString()),1),o("td",Ru,g(b.total_barrels.toLocaleString()),1),o("td",Au,g(b.total_cubic_meters.toFixed(1)),1),o("td",Pu,[o("div",Iu,[o("button",{onClick:$=>c(b),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar planilla"},[...w[4]||(w[4]=[o("i",{class:"las la-edit"},null,-1),Q(" EDITAR ",-1)])],8,ku),o("button",{onClick:$=>E(b.id),class:"btn btn-xs border-purple-500 text-purple-500 bg-white",title:"Ver cadenas de custodia"},[...w[5]||(w[5]=[o("i",{class:"las la-link"},null,-1),Q(" C. CUSTODIA ",-1)])],8,Tu),o("button",{onClick:$=>_(b.id),class:fe(["btn btn-xs bg-white",f.value===b.id?"border-orange-500 text-orange-500":"border-red-500 text-red-500"]),title:f.value===b.id?"Haz clic nuevamente para confirmar":"Cerrar planilla"},[w[6]||(w[6]=o("i",{class:"las la-times"},null,-1)),Q(" "+g(f.value===b.id?"CONFIRMAR":"CERRAR"),1)],10,Ou)])])]))),128))])])])]))}};function Jl(){const e=new Date,t=e.getDay(),s=e.getDate()-t+(t===0?-6:1),n=new Date(e.setDate(s));return n.setHours(0,0,0,0),n}function Ql(){const e=Jl(),t=new Date(e);return t.setDate(e.getDate()+27),t.setHours(23,59,59,999),t}function Nu(e,t){const[s,n,r]=e.split("-").map(Number),l=new Date(s,n-1,r),a=Ql(),i=[];let d=new Date(l);for(;d<=a;)i.push(new Date(d)),d.setDate(d.getDate()+t);return i}function ju(e){const t=Jl(),s=Ql(),n=[];return e.forEach(r=>{if(!r.is_active)return;Nu(r.operation_start_date,r.interval_days).filter(i=>i>=t&&i<=s).forEach(i=>{n.push({resource_id:r.id,resource_item_id:r.resource_item_id,resource_code:r.resource_item_code,resource_name:r.resource_item_name,description:r.detailed_description,cost:parseFloat(r.cost),interval_days:r.interval_days,operation_start_date:r.operation_start_date,scheduled_date:i.toISOString().split("T")[0],day_of_week:i.toLocaleDateString("es-GT",{weekday:"long"}),week_number:Mu(i)})})}),n.sort((r,l)=>new Date(r.scheduled_date)-new Date(l.scheduled_date))}function Mu(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-n)/864e5+1)/7)}function Fu(e){return e.reduce((t,s)=>{const n=`Semana ${s.week_number}`;return t[n]||(t[n]=[]),t[n].push(s),t},{})}function Vu(e){return{total_maintenances:e.length,total_cost:e.reduce((t,s)=>t+s.cost,0),resources_count:new Set(e.map(t=>t.resource_id)).size,by_week:Fu(e)}}const Lu={class:"space-y-3"},Uu={class:"text-end"},Bu={class:"badge badge-info gap-2"},Hu={class:"font-semibold"},Gu={class:"card bg-base-100 shadow border"},Wu={class:"card-body p-3"},qu={class:"flex justify-between items-center mb-3"},Ku={class:"font-semibold text-base"},zu={key:0,class:"text-center py-8 text-gray-500"},Ju={key:1,class:"overflow-x-auto"},Qu={class:"table table-zebra w-full"},Yu={class:"bg-gray-500 text-white"},Xu={class:"font-bold"},Zu={class:"p-2 border border-gray-300 font-medium",style:{width:"20%"}},ef={class:"flex items-center gap-2"},tf={class:"font-semibold text-xs"},sf={__name:"TabCalendar",setup(e){const t=Wt(),s=Y(()=>t.resourcesProject),n=Y(()=>s.value.filter(E=>E.type==="SERVIC"&&!E.is_retired)),r=Y(()=>ju(n.value)),l=Y(()=>Vu(r.value)),a=()=>{const E=new Date,p=E.getDay(),w=E.getDate()-p+(p===0?-6:1),b=new Date(E.setDate(w)),$=[];for(let j=0;j<28;j++){const O=new Date(b);O.setDate(b.getDate()+j),$.push(O)}return $},i=Y(()=>a()),d=E=>E.getDate(),u=E=>["L","M","X","J","V","S","D"][E%7],c=(E,p)=>{const w=p.getFullYear(),b=String(p.getMonth()+1).padStart(2,"0"),$=String(p.getDate()).padStart(2,"0"),j=`${w}-${b}-${$}`;return r.value.filter(O=>O.resource_id===E&&O.scheduled_date===j)},f=Y(()=>{const E=new Map;return r.value.forEach(p=>{E.has(p.resource_id)||E.set(p.resource_id,{id:p.resource_id,code:p.resource_code,name:p.resource_name,description:p.description})}),Array.from(E.values())}),_=()=>{if(i.value.length===0)return"";const E=i.value[0],p=i.value[27];return`${E.getDate()} de ${E.toLocaleDateString("es-GT",{month:"long"})} al ${p.getDate()} de ${p.toLocaleDateString("es-GT",{month:"long"})} ${p.getFullYear()}`},y=E=>{const p=new Date;return E.toDateString()===p.toDateString()};return Nt(()=>{t.fetchResourcesProject()}),(E,p)=>(S(),R("div",Lu,[o("div",Uu,[o("div",Bu,[p[0]||(p[0]=o("i",{class:"las la-wrench"},null,-1)),o("span",Hu,g(l.value.total_maintenances)+" Servicios Programados",1)])]),o("div",Gu,[o("div",Wu,[o("div",qu,[o("h3",Ku,"Planificacin de 4 semanas: "+g(_()),1)]),f.value.length===0?(S(),R("div",zu,[...p[1]||(p[1]=[o("i",{class:"las la-calendar-times text-4xl"},null,-1),o("p",null,"No hay mantenimientos programados para las prximas 4 semanas",-1)])])):(S(),R("div",Ju,[o("table",Qu,[o("thead",null,[o("tr",Yu,[p[2]||(p[2]=o("th",{class:"p-2 border border-gray-100 text-center",style:{width:"20%"}},"Detalle",-1)),(S(!0),R(re,null,Ee(i.value,(w,b)=>(S(),R("th",{key:b,class:fe(["p-2 border text-center text-xs",{"bg-lime-400 text-gray-800":y(w),"border-r-4 border-r-sky-200":b%7===6,"border-gray-100":b%7!==6}]),style:{width:"2.86%"}},[o("div",Xu,g(u(b))+"-"+g(d(w)),1)],2))),128))])]),o("tbody",null,[(S(!0),R(re,null,Ee(f.value,w=>(S(),R("tr",{key:w.id},[o("td",Zu,[o("div",ef,[p[3]||(p[3]=o("i",{class:"las la-tools text-blue-500"},null,-1)),o("div",null,[o("div",tf,g(w.description),1)])])]),(S(!0),R(re,null,Ee(i.value,(b,$)=>(S(),R("td",{key:$,class:fe(["p-1 border text-center",{"bg-lime-100":y(b)," border-r-4 border-r-sky-200 border-b-gray-300":$%7===6,"border-gray-300":$%7!==6}]),style:{width:"2.86%"}},[(S(!0),R(re,null,Ee(c(w.id,b),j=>(S(),R("div",{key:j.resource_id+"-"+j.scheduled_date,class:"bg-amber-200 p-1 rounded border-amber-400 border text-xs"},[...p[4]||(p[4]=[o("div",{class:"text-gray-600"}," S ",-1)])]))),128))],2))),128))]))),128))])])]))])])]))}},of={key:0,class:"flex justify-between items-center mb-4 pb-3 border-b-2 border-blue-300"},nf={class:"text-lg font-semibold text-gray-700"},rf={class:"modal-content"},Ps={__name:"Modal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"lg",validator:e=>["sm","md","lg","xl","2xl"].includes(e)}},emits:["close"],setup(e,{emit:t}){const s=t,n=()=>{s("close")},r={sm:"modal-box w-11/12 max-w-md",md:"modal-box w-11/12 max-w-2xl",lg:"modal-box w-11/12 max-w-4xl",xl:"modal-box w-11/12 max-w-6xl","2xl":"modal-box w-11/12 max-w-7xl"};return(l,a)=>(S(),R("div",{class:fe(["modal",{"modal-open":e.isOpen}])},[o("div",{class:fe(r[e.size])},[e.title?(S(),R("div",of,[o("h3",nf,g(e.title),1),o("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:n},"  ")])):q("",!0),o("div",rf,[da(l.$slots,"default")])],2),o("div",{class:"modal-backdrop",onClick:n})],2))}},lf={class:"max-w-2xl mx-auto p-1"},af={class:"text-xl font-bold mb-6"},cf={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},df={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},uf={class:"border-b-1 border-r-1 border-sky-200"},ff={class:"ml-2"},pf={class:"border-b-1 border-r-1 border-sky-200"},hf={class:"ml-2"},bf={class:"border-b-1 border-r-1 border-sky-200"},mf={class:"ml-2"},gf={class:"border-b-1 border-r-1 border-sky-200"},_f={class:"ml-2"},vf={class:"border-b-1 border-r-1 border-sky-200"},yf={class:"ml-2"},xf={class:"border-b-1 border-r-1 border-sky-200"},wf={class:"ml-2"},Cf={class:"border-b-1 border-r-1 border-sky-200"},Ef={class:"ml-2"},Sf={key:0,class:"border-b-1 border-r-1 border-sky-200"},$f={class:"ml-2"},Rf={class:"border-b-1 border-r-1 border-sky-200"},Af={class:"ml-2"},Pf={class:"border-b-1 border-r-1 border-sky-200"},If={key:1,class:"border-b-1 border-r-1 border-sky-200"},kf={class:"ml-2"},Tf={key:2,class:"border-b-1 border-r-1 border-sky-200"},Of={class:"ml-2"},Df={key:3,class:"border-b-1 border-r-1 border-sky-200"},Nf={class:"ml-2"},jf={key:0,class:"space-y-4"},Mf={class:"form-control w-full"},Ff={key:0,class:"form-control w-full"},Vf={class:"form-control w-full"},Lf={class:"form-control"},Uf={class:"label cursor-pointer justify-start gap-3"},Bf={key:1,class:"form-control w-full"},Hf=["required"],Gf={key:2,class:"form-control w-full"},Wf=["required"],qf={class:"flex gap-3 justify-end mt-6"},Kf={type:"submit",class:"btn btn-primary"},zf={__name:"ResourceForm",props:{resource:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const s=e,n=t,r=Wt(),l=Y(()=>s.resource?.is_retired===!0&&s.resource?.retirement_date!==null),a=async()=>{try{if(s.resource.is_retired){if(!s.resource.retirement_date){alert("La fecha de retiro es obligatoria cuando se marca para retiro");return}if(!s.resource.retirement_reason||s.resource.retirement_reason.trim()===""){alert("El motivo de retiro es obligatorio cuando se marca para retiro");return}}s.resource?(await r.updateResourceProject(s.resource),console.log("Recurso actualizado exitosamente")):console.log("Crear nuevo recurso:",s.resource),n("close")}catch(d){console.error("Error al guardar el recurso:",d)}},i=()=>{n("close")};return(d,u)=>(S(),R("div",lf,[o("h5",af,g(e.resource.detailed_description),1),o("div",cf,[u[19]||(u[19]=o("h6",{class:"font-semibold text-lg mb-3"},"Detalles del Recurso",-1)),o("div",df,[o("div",uf,[u[6]||(u[6]=o("span",{class:"font-medium"},"ID:",-1)),o("span",ff,g(e.resource.id),1)]),o("div",pf,[u[7]||(u[7]=o("span",{class:"font-medium"},"Proyecto ID:",-1)),o("span",hf,g(e.resource.project_id),1)]),o("div",bf,[u[8]||(u[8]=o("span",{class:"font-medium"},"Tipo:",-1)),o("span",mf,g(e.resource.type),1)]),o("div",gf,[u[9]||(u[9]=o("span",{class:"font-medium"},"Cdigo:",-1)),o("span",_f,g(e.resource.resource_item_code),1)]),o("div",vf,[u[10]||(u[10]=o("span",{class:"font-medium"},"Costo Actual:",-1)),o("span",yf,"$"+g(e.resource.cost),1)]),o("div",xf,[u[11]||(u[11]=o("span",{class:"font-medium"},"Nombre:",-1)),o("span",wf,g(e.resource.resource_item_name),1)]),o("div",Cf,[u[12]||(u[12]=o("span",{class:"font-medium"},"Descripcin:",-1)),o("span",Ef,g(e.resource.detailed_description),1)]),e.resource.interval_days?(S(),R("div",Sf,[u[13]||(u[13]=o("span",{class:"font-medium"},"Frecuencia (das):",-1)),o("span",$f,g(e.resource.interval_days),1)])):q("",!0),o("div",Rf,[u[14]||(u[14]=o("span",{class:"font-medium"},"Fecha Inicio Operacin:",-1)),o("span",Af,g(e.resource.operation_start_date),1)]),o("div",Pf,[u[15]||(u[15]=o("span",{class:"font-medium"},"Retirado:",-1)),o("span",{class:fe(["ml-2 badge",e.resource.is_retired?"badge-warning":"badge-ghost"])},g(e.resource.is_retired?"S":"No"),3)]),e.resource.is_retired?(S(),R("div",If,[u[16]||(u[16]=o("span",{class:"font-medium"},"Fecha Retiro:",-1)),o("span",kf,g(e.resource.retirement_date),1)])):q("",!0),e.resource.is_retired?(S(),R("div",Tf,[u[17]||(u[17]=o("span",{class:"font-medium"},"Motivo Retiro:",-1)),o("span",Of,g(e.resource.retirement_reason),1)])):q("",!0),e.resource.notes?(S(),R("div",Df,[u[18]||(u[18]=o("span",{class:"font-medium"},"Notas:",-1)),o("span",Nf,g(e.resource.notes),1)])):q("",!0)])]),l.value?(S(),R("div",jf,[u[20]||(u[20]=o("div",{class:"alert alert-warning"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),o("span",null,"Este recurso ya fue retirado del proyecto y no puede ser modificado.")],-1)),o("div",{class:"flex justify-end"},[o("button",{type:"button",class:"btn btn-outline",onClick:i}," Cerrar ")])])):(S(),R("form",{key:1,onSubmit:Rs(a,["prevent"]),class:"space-y-4"},[o("div",Mf,[u[21]||(u[21]=o("label",{class:"label",for:"cost"},[o("span",{class:"label-text font-medium"},"Costo *")],-1)),te(o("input",{type:"number",id:"cost","onUpdate:modelValue":u[0]||(u[0]=c=>e.resource.cost=c),step:"0.01",min:"0",required:"",placeholder:"0.00",class:"input input-bordered w-full"},null,512),[[le,e.resource.cost]])]),e.resource.type==="SERVIC"?(S(),R("div",Ff,[u[22]||(u[22]=o("label",{class:"label",for:"interval_days"},[o("span",{class:"label-text font-medium"},"Frecuencia (das) *")],-1)),te(o("input",{type:"number",id:"interval_days","onUpdate:modelValue":u[1]||(u[1]=c=>e.resource.interval_days=c),min:"1",required:"",placeholder:"1",class:"input input-bordered w-full"},null,512),[[le,e.resource.interval_days]])])):q("",!0),o("div",Vf,[u[23]||(u[23]=o("label",{class:"label",for:"operation_start_date"},[o("span",{class:"label-text font-medium"},"Fecha de Inicio Operaciones *")],-1)),te(o("input",{type:"date",id:"operation_start_date","onUpdate:modelValue":u[2]||(u[2]=c=>e.resource.operation_start_date=c),required:"",class:"input input-bordered w-full"},null,512),[[le,e.resource.operation_start_date]])]),o("div",Lf,[o("label",Uf,[te(o("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=c=>e.resource.is_retired=c),class:"checkbox"},null,512),[[Il,e.resource.is_retired]]),u[24]||(u[24]=o("span",{class:"label-text font-medium"},"Retirar de Proyecto",-1))])]),e.resource.is_retired?(S(),R("div",Bf,[u[25]||(u[25]=o("label",{class:"label",for:"retirement_date"},[o("span",{class:"label-text font-medium"},"Fecha de Retiro *")],-1)),te(o("input",{type:"date",id:"retirement_date","onUpdate:modelValue":u[4]||(u[4]=c=>e.resource.retirement_date=c),required:e.resource.is_retired,class:"input input-bordered w-full border-red-500"},null,8,Hf),[[le,e.resource.retirement_date]])])):q("",!0),e.resource.is_retired?(S(),R("div",Gf,[u[26]||(u[26]=o("label",{class:"label",for:"retirement_reason"},[o("span",{class:"label-text font-medium"},"Motivo de Retiro *")],-1)),te(o("textarea",{id:"retirement_reason","onUpdate:modelValue":u[5]||(u[5]=c=>e.resource.retirement_reason=c),rows:"3",placeholder:"Describe el motivo del retiro...",required:e.resource.is_retired,class:"textarea textarea-bordered w-full border-red-500"},null,8,Wf),[[le,e.resource.retirement_reason]])])):q("",!0),o("div",qf,[o("button",{type:"button",class:"btn btn-outline",onClick:i}," Cancelar "),o("button",Kf,g(e.resource?"Actualizar":"Guardar")+" Recurso ",1)])],32))]))}},js=Gt("projectStore",{state:()=>({project:{id:null,partner_id:null,partner_name:null,location:null,contact_name:null,contact_phone:null,start_date:null,end_date:null,is_closed:!1},allProjects:[]}),actions:{async fetchProjectData(){console.log("Fetching project data...");try{const e=await fetch(ce.URLProjectData,{method:"GET",headers:ce.headers});if(!e.ok)throw new Error("Failed to fetch project data");const t=await e.json();this.project=t.data}catch(e){console.error("Error fetching project data:",e)}},async fetchAllProjects(){console.log("Fetching all projects...");try{const e=await fetch(ce.URLAllProjectData,{method:"GET",headers:ce.headers});if(!e.ok)throw new Error("Failed to fetch all projects");const t=await e.json();this.allProjects=t.data}catch(e){console.error("Error fetching all projects:",e)}}}}),Jf={class:"max-w-2xl mx-auto p-1"},Qf={class:"text-xl font-bold mb-6"},Yf={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Xf={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Zf={class:"border-b-1 border-r-1 border-sky-200"},ep={class:"ml-2"},tp={class:"border-b-1 border-r-1 border-sky-200"},sp={class:"ml-2"},op={class:"border-b-1 border-r-1 border-sky-200"},np={class:"ml-2"},rp={class:"border-b-1 border-r-1 border-sky-200"},lp={class:"ml-2"},ip={class:"border-b-1 border-r-1 border-sky-200"},ap={class:"ml-2"},cp={key:0,class:"border-b-1 border-r-1 border-sky-200"},dp={key:1,class:"border-b-1 border-r-1 border-sky-200"},up={class:"ml-2"},fp={key:2,class:"border-b-1 border-r-1 border-sky-200"},pp={class:"ml-2"},hp={key:3,class:"border-b-1 border-r-1 border-sky-200"},bp={class:"ml-2"},mp={key:4,class:"border-b-1 border-r-1 border-sky-200"},gp={class:"ml-2"},_p={key:0,class:"alert alert-error shadow-lg mb-4"},vp={class:"form-control w-full"},yp={key:0,class:"form-control w-full"},xp={class:"form-control w-full"},wp={key:1,class:"form-control w-full"},Cp={key:2,class:"form-control w-full"},Ep={class:"flex gap-3 justify-end mt-6"},Sp={type:"submit",class:"btn btn-primary"},$p={__name:"SheetPorjectForm",props:{sheet:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const s=e,n=t,r=gn(),l=js(),a=Y(()=>l.project),i=Y(()=>s.sheet!==null),d=ie({period_start:"",period_end:"",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:"",contact_phone_reference:""}),u=ie("");Nt(async()=>{await l.fetchProjectData(),i.value||r.initializeNewSheetProject(a.value)}),qe(()=>s.sheet,E=>{E&&(d.value={period_start:E.period_start||"",period_end:E.period_end||"",service_type:E.service_type||"ALQUILER Y MANTENIMIENTO",contact_reference:E.contact_reference||"",contact_phone_reference:E.contact_phone_reference||""})},{immediate:!0});const c=async E=>{E.preventDefault(),u.value="";try{if(i.value){const p={id:s.sheet.id,period_start:d.value.period_start,period_end:d.value.period_end||null,service_type:d.value.service_type,contact_reference:d.value.contact_reference,contact_phone_reference:d.value.contact_phone_reference};await r.updateSheetProject(p),console.log("Planilla actualizada:",s.sheet.id)}else{const p={...r.newSheetProject,period_start:d.value.period_start,service_type:d.value.service_type},w=await r.addSheetProject(p);console.log("Planilla creada con ID:",w)}n("close")}catch(p){console.error("Error al guardar planilla:",p),u.value=p.message||"Error al guardar la planilla"}},f=()=>{n("close")},_=E=>E?new Intl.DateTimeFormat("es-GT").format(new Date(E)):"N/A",y=E=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[E]||{text:E,class:"badge-ghost"};return(E,p)=>(S(),R("div",Jf,[o("h5",Qf,g(i.value?`Planilla #${e.sheet.id} - ${e.sheet.series_code}`:"Nueva Planilla de Proyecto"),1),o("div",Yf,[p[15]||(p[15]=o("h6",{class:"font-semibold text-lg mb-3"},"Informacin del Proyecto",-1)),o("div",Xf,[o("div",Zf,[p[5]||(p[5]=o("span",{class:"font-medium"},"Proyecto ID:",-1)),o("span",ep,g(a.value?.id),1)]),o("div",tp,[p[6]||(p[6]=o("span",{class:"font-medium"},"Cliente:",-1)),o("span",sp,g(a.value?.partner_name),1)]),o("div",op,[p[7]||(p[7]=o("span",{class:"font-medium"},"Ubicacin:",-1)),o("span",np,g(a.value?.location),1)]),o("div",rp,[p[8]||(p[8]=o("span",{class:"font-medium"},"Contacto:",-1)),o("span",lp,g(a.value?.contact_name),1)]),o("div",ip,[p[9]||(p[9]=o("span",{class:"font-medium"},"Telfono:",-1)),o("span",ap,g(a.value?.contact_phone),1)]),i.value?(S(),R("div",cp,[p[10]||(p[10]=o("span",{class:"font-medium"},"Estado:",-1)),o("span",{class:fe(["ml-2 badge",y(e.sheet.status).class])},g(y(e.sheet.status).text),3)])):q("",!0),i.value?(S(),R("div",dp,[p[11]||(p[11]=o("span",{class:"font-medium"},"Fecha Emisin:",-1)),o("span",up,g(_(e.sheet.issue_date)),1)])):q("",!0),i.value?(S(),R("div",fp,[p[12]||(p[12]=o("span",{class:"font-medium"},"Total Galones:",-1)),o("span",pp,g(e.sheet.total_gallons?.toLocaleString()||0),1)])):q("",!0),i.value?(S(),R("div",hp,[p[13]||(p[13]=o("span",{class:"font-medium"},"Total Barriles:",-1)),o("span",bp,g(e.sheet.total_barrels?.toLocaleString()||0),1)])):q("",!0),i.value?(S(),R("div",mp,[p[14]||(p[14]=o("span",{class:"font-medium"},"Total M:",-1)),o("span",gp,g(e.sheet.total_cubic_meters?.toFixed(1)||0),1)])):q("",!0)])]),u.value?(S(),R("div",_p,[o("div",null,[p[16]||(p[16]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("span",null,g(u.value),1)])])):q("",!0),o("form",{onSubmit:Rs(c,["prevent"]),class:"space-y-4"},[o("div",vp,[p[17]||(p[17]=o("label",{class:"label",for:"period_start"},[o("span",{class:"label-text font-medium"},"Fecha Inicio Perodo *")],-1)),te(o("input",{type:"date",id:"period_start","onUpdate:modelValue":p[0]||(p[0]=w=>d.value.period_start=w),required:"",class:"input input-bordered w-full"},null,512),[[le,d.value.period_start]]),p[18]||(p[18]=o("label",{class:"label"},[o("span",{class:"label-text-alt"},"Fecha de inicio del perodo a facturar")],-1))]),i.value?(S(),R("div",yp,[p[19]||(p[19]=o("label",{class:"label",for:"period_end"},[o("span",{class:"label-text font-medium"},"Fecha Fin Perodo")],-1)),te(o("input",{type:"date",id:"period_end","onUpdate:modelValue":p[1]||(p[1]=w=>d.value.period_end=w),class:"input input-bordered w-full"},null,512),[[le,d.value.period_end]]),p[20]||(p[20]=o("label",{class:"label"},[o("span",{class:"label-text-alt"},"Fecha de fin del perodo (opcional)")],-1))])):q("",!0),o("div",xp,[p[22]||(p[22]=o("label",{class:"label",for:"service_type"},[o("span",{class:"label-text font-medium"},"Tipo de Servicio *")],-1)),te(o("select",{id:"service_type","onUpdate:modelValue":p[2]||(p[2]=w=>d.value.service_type=w),required:"",class:"select select-bordered w-full"},[...p[21]||(p[21]=[o("option",{value:"ALQUILER"},"ALQUILER",-1),o("option",{value:"MANTENIMIENTO"},"MANTENIMIENTO",-1),o("option",{value:"ALQUILER Y MANTENIMIENTO"},"ALQUILER Y MANTENIMIENTO",-1)])],512),[[Lo,d.value.service_type]])]),i.value?(S(),R("div",wp,[p[23]||(p[23]=o("label",{class:"label",for:"contact_reference"},[o("span",{class:"label-text font-medium"},"Contacto de Referencia")],-1)),te(o("input",{type:"text",id:"contact_reference","onUpdate:modelValue":p[3]||(p[3]=w=>d.value.contact_reference=w),placeholder:"Nombre del contacto",class:"input input-bordered w-full"},null,512),[[le,d.value.contact_reference]])])):q("",!0),i.value?(S(),R("div",Cp,[p[24]||(p[24]=o("label",{class:"label",for:"contact_phone_reference"},[o("span",{class:"label-text font-medium"},"Telfono de Referencia")],-1)),te(o("input",{type:"text",id:"contact_phone_reference","onUpdate:modelValue":p[4]||(p[4]=w=>d.value.contact_phone_reference=w),placeholder:"Telfono del contacto",class:"input input-bordered w-full"},null,512),[[le,d.value.contact_phone_reference]])])):q("",!0),o("div",Ep,[o("button",{type:"button",class:"btn btn-outline",onClick:f}," Cancelar "),o("button",Sp,g(i.value?"Actualizar":"Crear")+" Planilla ",1)])],32)]))}},Rp={id:"project-app",class:"w-[90%] mx-auto p-4 bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300"},Ap={class:"flex justify-between items-center border-b-blue-500 border-b pb-1 mb-3"},Pp={class:"text-xl font-semibold text-blue-500"},Ip={class:"flex items-center gap-3"},kp={class:"text-gray-500"},Tp={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},Op={class:"space-y-1"},Dp={class:"flex items-center gap-2 py-0.5"},Np={class:"font-semibold text-xs"},jp={class:"flex items-center gap-2 py-0.5"},Mp={class:"font-semibold text-xs"},Fp={key:0,class:"badge badge-info ml-1"},Vp={class:"space-y-1"},Lp={class:"flex items-center gap-2 py-0.5"},Up={class:"font-semibold text-xs"},Bp={class:"flex items-center gap-2 py-0.5"},Hp={key:0,class:"font-semibold text-xs"},Gp={key:1,class:"text-success font-bold text-xs"},Wp={class:"space-y-1"},qp={class:"flex items-center gap-2 py-0.5"},Kp={class:"font-semibold text-xs"},zp={class:"flex items-center gap-2 py-0.5"},Jp={class:"font-semibold text-xs"},Qp={role:"tablist",class:"tabs tabs-lifted bg-base-100 p-1"},Yp={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},Xp={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},Zp={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},eh={__name:"ProjectsView",setup(e){const t=js(),s=Wt(),n=gn(),r=Y(()=>t.project),l=ie(!1),a=ie(""),i=ie(null),d=ie(null),u=ie(null),c=()=>{a.value="Agregar Recurso al Proyecto",i.value="ResourceForm",d.value=null,l.value=!0},f=w=>{a.value="Editar Recurso del Proyecto",i.value="ResourceForm",d.value=w,l.value=!0},_=()=>{a.value="Nueva Planilla del Proyecto #"+r.value?.id,i.value="SheetProjectForm",u.value=null,l.value=!0},y=w=>{a.value="Editar Planilla #"+w.id+" - Proyecto #"+r.value?.id,i.value="SheetProjectForm",u.value=w,l.value=!0},E=()=>{l.value=!1,i.value=null,a.value="",d.value=null,u.value=null},p=()=>{console.log("Accin cancelar proyecto")};return Nt(()=>{t.fetchProjectData(),s.fetchResourcesProject(),n.fetchSheetProjects()}),(w,b)=>(S(),R("div",null,[o("div",Rp,[o("div",Ap,[o("h1",Pp," Ficha de Proyecto #"+g(r.value?.id||"N/A"),1),o("div",Ip,[o("button",{class:"btn btn-primary btn-sm",onClick:c},[...b[0]||(b[0]=[o("i",{class:"las la-plus"},null,-1),Q(" Agregar Recurso ",-1)])]),o("div",kp,[o("span",{class:fe(["badge",r.value?.is_closed?"badge-error":"badge-success"])},g(r.value?.is_closed?"Cerrado":"Abierto"),3)])])]),o("div",Tp,[o("div",Op,[o("div",Dp,[b[1]||(b[1]=o("i",{class:"las la-building text-blue-500 text-sm"},null,-1)),b[2]||(b[2]=o("span",{class:"text-xs text-gray-500"},"Cliente:",-1)),o("span",Np,g(r.value?.partner_name||"N/A"),1)]),o("div",jp,[b[3]||(b[3]=o("i",{class:"las la-map-marker text-blue-500 text-sm"},null,-1)),b[4]||(b[4]=o("span",{class:"text-xs text-gray-500"},"Campamento:",-1)),o("span",Mp,[Q(g(r.value?.location||"N/A")+" ",1),r.value?.location&&r.value?.cardinal_point?(S(),R("span",Fp,g(r.value?.cardinal_point?` ${r.value.cardinal_point}`:""),1)):q("",!0)])])]),o("div",Vp,[o("div",Lp,[b[5]||(b[5]=o("i",{class:"las la-calendar-check text-blue-500 text-sm"},null,-1)),b[6]||(b[6]=o("span",{class:"text-xs text-gray-500"},"Inicio:",-1)),o("span",Up,g(we(Ko)(r.value?.start_date)),1)]),o("div",Bp,[b[7]||(b[7]=o("i",{class:"las la-calendar-times text-blue-500 text-sm"},null,-1)),b[8]||(b[8]=o("span",{class:"text-xs text-gray-500"},"Fin:",-1)),r.value?.end_date?(S(),R("span",Hp,g(we(Ko)(r.value?.end_date)),1)):(S(),R("span",Gp,"EN CURSO"))])]),o("div",Wp,[o("div",qp,[b[9]||(b[9]=o("i",{class:"las la-user text-blue-500 text-sm"},null,-1)),b[10]||(b[10]=o("span",{class:"text-xs text-gray-500"},"Contacto:",-1)),o("span",Kp,g(r.value?.contact_name||"N/A"),1)]),o("div",zp,[b[11]||(b[11]=o("i",{class:"las la-phone text-blue-500 text-sm"},null,-1)),b[12]||(b[12]=o("span",{class:"text-xs text-gray-500"},"Telfono:",-1)),o("span",Jp,g(r.value?.contact_phone||"N/A"),1)])])]),o("div",Qp,[b[13]||(b[13]=o("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-amber-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Recursos Asignados",checked:""},null,-1)),o("div",Yp,[ve(du,{onEditResource:f})]),b[14]||(b[14]=o("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-cyan-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Planillas de Trabajo"},null,-1)),o("div",Xp,[ve(Du,{onOpenSheetForm:_,onEditSheet:y})]),b[15]||(b[15]=o("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-lime-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Calendario Mantenimientos"},null,-1)),o("div",Zp,[ve(sf)])]),o("div",{class:"mt-8 bg-white border-t border-gray-200 shadow-md rounded-b-xl flex justify-end gap-3 px-4 py-3"},[o("a",{href:"/proyectos/",class:"btn btn-primary btn-sm",onClick:p},[...b[16]||(b[16]=[o("i",{class:"las la-times"},null,-1),Q(" Volver A Proyectos ",-1)])])])]),ve(Ps,{"is-open":l.value,title:a.value,size:"lg",onClose:E},{default:Dt(()=>[i.value==="ResourceForm"?(S(),ct(zf,{key:0,resource:d.value,onClose:E},null,8,["resource"])):q("",!0),i.value==="SheetProjectForm"?(S(),ct($p,{key:1,sheet:u.value,onClose:E},null,8,["sheet"])):q("",!0)]),_:1},8,["is-open","title"])]))}},Yl=Gt("resourcesStore",{state:()=>({selectedResource:null,resourcesAvailable:[],resourcesProject:[],newResource:{id:null,code:null,name:null,type:null,type_equipment:null,type_equipment_display:null,brand:null,model:null,status_equipment:null,status_disponibility:null,current_location:null,capacity_gallons:null,is_selected:!1,is_confirm_delete:!1,is_retired:!1}}),actions:{async fetchResourcesAvailable(){console.log("Fetching available resources...");try{const e=await fetch(ce.URLSourcesAvailable,{method:"GET",headers:ce.headers});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.resourcesAvailable=t.data}catch(e){console.error("Error fetching available resources:",e)}},setSelectedResource(e){console.log("Setting selected resource with ID:",e),this.selectedResource=this.resourcesAvailable.find(t=>t.id===e)}}}),th={class:"form-control w-full relative"},sh={key:0,class:"label"},oh={class:"label-text"},nh=["placeholder"],rh={key:1,class:"absolute z-10 w-full mt-1 bg-base-100 shadow-lg rounded-lg max-h-60 overflow-auto top-full"},lh={class:"menu"},ih=["onMousedown"],ah={class:"hover:bg-base-200"},ch={__name:"AutocompleteResource",props:{label:{type:String,default:"Recurso"},placeholder:{type:String,default:"Buscar recurso..."},excludeIds:{type:Array,default:()=>[]}},emits:["resource-selected"],setup(e,{emit:t}){const s=e,n=t,r=Yl(),l=ie(""),a=ie(!1),i=Y(()=>{const _=r.resourcesAvailable;return Array.isArray(_)?_:_&&typeof _=="object"?Object.values(_):[]});Nt(async()=>{console.log("mounted AutocompleteResource"),await r.fetchResourcesAvailable()});const d=Y(()=>{let _=i.value;return s.excludeIds.length>0&&(_=_.filter(y=>!s.excludeIds.includes(y.id))),l.value?_.filter(y=>(y.display_name||y.title||"").toLowerCase().includes(l.value.toLowerCase())):_}),u=()=>{a.value=!0},c=_=>{l.value="",r.setSelectedResource(_.id),a.value=!1,n("resource-selected",_)},f=()=>{setTimeout(()=>{a.value=!1},200)};return(_,y)=>(S(),R("div",th,[e.label?(S(),R("label",sh,[o("span",oh,g(e.label),1)])):q("",!0),te(o("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=E=>l.value=E),onInput:u,onFocus:y[1]||(y[1]=E=>a.value=!0),onBlur:f,placeholder:e.placeholder,class:"input input-bordered w-full"},null,40,nh),[[le,l.value]]),a.value&&d.value.length>0?(S(),R("div",rh,[o("ul",lh,[(S(!0),R(re,null,Ee(d.value,E=>(S(),R("li",{key:E.id,onMousedown:p=>c(E)},[o("a",ah,g(E.display_name||E.title),1)],40,ih))),128))])])):q("",!0)]))}},dh={class:"container mx-auto p-4"},uh={key:0,class:"alert alert-error shadow-lg mb-4"},fh={key:1,class:"alert alert-success shadow-lg mb-4"},ph={class:"card-body space-y-4"},hh={class:"flex gap-4"},bh={class:"mt-2 mb-2"},mh={class:"table table-zebra w-full"},gh={class:"border border-gray-300"},_h={class:"border border-gray-300"},vh={class:"border border-gray-300"},yh={class:"border border-gray-300"},xh=["onUpdate:modelValue"],wh={class:"border border-gray-300"},Ch=["onUpdate:modelValue","onFocus","disabled"],Eh={class:"border border-gray-300 text-center"},Sh=["onUpdate:modelValue","disabled","onChange"],$h={class:"border border-gray-300"},Rh=["onUpdate:modelValue","disabled"],Ah={class:"border border-gray-300"},Ph=["onUpdate:modelValue","onFocus","disabled"],Ih={class:"border border-gray-300 text-center"},kh=["onClick","disabled"],Th={key:0},Oh={class:"flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},Dh=["disabled"],Nh={key:0,class:"loading loading-spinner loading-sm"},jh={key:1},Mh={__name:"ResourceItemsForm",setup(e){const t=Yl(),s=Wt(),n=js(),r=Ns(),l=ie([]),a=ie(!1),i=ie(""),d=ie(""),u=Y(()=>l.value.filter(w=>w.resource?.type_equipment_display!=="SERVICIO").map(w=>w.resource_id)),c=async()=>{const w=t.selectedResource,b=w.type_equipment==="SERVIC";if(!b&&t.resources&&Array.isArray(t.resources)){const j=t.resources.find(O=>O.id===w.id);j&&(j.is_selected=!0)}const $={resource:w,resource_id:w.id,resource_display_name:w.display_name,detailed_description:w.display_name,interval_days:b?3:0,cost:0,maintenance_cost:0,operation_start_date:n.project?.start_date||null,include_maintenance:b};l.value.push($),t.selectedResource=null},f=w=>{const b=l.value[w];if(b.resource?.type_equipment_display!=="SERVICIO"&&t.resources&&Array.isArray(t.resources)){const $=t.resources.find(j=>j.id===b.resource_id);$&&($.is_selected=!1)}l.value.splice(w,1)},_=async()=>{i.value="",d.value="",a.value=!0;try{const w=await s.addResourcesToProject(l.value);d.value=`Se agregaron ${w.added} recurso(s) exitosamente`,r.push("/project")}catch(w){console.error("Error submitting form:",w),i.value=w.message||"Error al guardar los recursos. Por favor intente nuevamente."}finally{a.value=!1}},y=(w,b)=>{if(!w.include_maintenance)w.interval_days=0,w.maintenance_cost=0;else{const O=b.target.closest("tr").querySelector('input[data-input="interval"]');O&&setTimeout(()=>{O.focus(),O.select()},50)}},E=w=>{w.cost===0&&(w.cost=null)},p=w=>{w.maintenance_cost===0&&(w.maintenance_cost=null)};return(w,b)=>(S(),R("div",dh,[b[9]||(b[9]=o("span",{class:"font-bold text-lg bg-gray-100 rounded-md px-2 py-1 mb-4 inline-block w-full text-center"}," Recurso del Proyecto ",-1)),i.value?(S(),R("div",uh,[o("div",null,[b[1]||(b[1]=o("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),o("span",null,g(i.value),1)]),o("button",{onClick:b[0]||(b[0]=$=>i.value=""),class:"btn btn-sm btn-ghost"},[...b[2]||(b[2]=[o("i",{class:"las la-times"},null,-1)])])])):q("",!0),d.value?(S(),R("div",fh,[o("div",null,[b[3]||(b[3]=o("i",{class:"las la-check-circle text-2xl"},null,-1)),o("span",null,g(d.value),1)])])):q("",!0),o("form",{class:"card bg-base-100 shadow-xl border border-gray-200 rounded-lg",onSubmit:Rs(_,["prevent"])},[o("div",ph,[o("div",hh,[ve(ch,{label:"Seleccionar Recurso *",placeholder:"Buscar recurso disponible...",excludeIds:u.value,onResourceSelected:c},null,8,["excludeIds"])]),o("div",bh,[o("table",mh,[b[6]||(b[6]=o("thead",null,[o("tr",{class:"bg-lime-800 text-white border border-green-500 text-center uppercase"},[o("th",{class:"border"},"#"),o("th",{class:"border"},"Detalle"),o("th",{class:"border"},"Tipo"),o("th",{class:"border"},"Fecha Inicio"),o("th",{class:"border"},"Costo Alq"),o("th",{class:"border"},"Mantenimiento"),o("th",{class:"border"},"Frec Dias"),o("th",{class:"border"},"Costo Mnt"),o("th",{class:"border"},"Acciones")])],-1)),o("tbody",null,[(S(!0),R(re,null,Ee(l.value,($,j)=>(S(),R("tr",{key:j},[o("td",gh,g(j+1),1),o("td",_h,g($.resource_display_name||$.detailed_description),1),o("td",vh,g($.resource?.type_equipment_display==="SERVICIO"?"SERVICIO":"EQUIPO"),1),o("td",yh,[te(o("input",{type:"date",class:"input input-sm input-bordered w-full","onUpdate:modelValue":O=>$.operation_start_date=O},null,8,xh),[[le,$.operation_start_date]])]),o("td",wh,[te(o("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":O=>$.cost=O,onFocus:O=>E($),placeholder:"0.00",disabled:$.resource?.type_equipment_display==="SERVICIO"},null,40,Ch),[[le,$.cost]])]),o("td",Eh,[te(o("input",{type:"checkbox",class:"checkbox checkbox-sm","onUpdate:modelValue":O=>$.include_maintenance=O,disabled:$.resource?.type_equipment_display==="SERVICIO",onChange:O=>y($,O)},null,40,Sh),[[Il,$.include_maintenance]])]),o("td",$h,[te(o("input",{type:"number",min:"1",class:"input input-sm input-bordered w-full","onUpdate:modelValue":O=>$.interval_days=O,disabled:!$.include_maintenance,"data-input":"interval"},null,8,Rh),[[le,$.interval_days]])]),o("td",Ah,[te(o("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":O=>$.maintenance_cost=O,onFocus:O=>p($),placeholder:"0.00",disabled:!$.include_maintenance},null,40,Ph),[[le,$.maintenance_cost]])]),o("td",Ih,[o("button",{type:"button",class:"btn btn-sm btn-error",onClick:O=>f(j),disabled:a.value},[...b[4]||(b[4]=[o("i",{class:"las la-trash text-lg"},null,-1)])],8,kh)])]))),128)),l.value.length===0?(S(),R("tr",Th,[...b[5]||(b[5]=[o("td",{colspan:"9",class:"text-center py-4 text-gray-500"}," No hay recursos agregados. Seleccione un recurso del autocomplete. ",-1)])])):q("",!0)])])]),b[8]||(b[8]=o("div",{class:"divider"},null,-1)),o("div",Oh,[ve(we(mn),{to:"/project",class:fe(["btn btn-ghost",{"btn-disabled":a.value}])},{default:Dt(()=>[...b[7]||(b[7]=[Q(" Cancelar ",-1)])]),_:1},8,["class"]),o("button",{type:"submit",class:"btn btn-primary",disabled:l.value.length===0||a.value},[a.value?(S(),R("span",Nh)):(S(),R("span",jh,"Guardar Recursos ("+g(l.value.length)+")",1))],8,Dh)])])],32)]))}},Xl=Gt("technicalStore",{state:()=>({technical:{},technicals:[]}),actions:{async fetchTechnicalsAvailable(){console.log("Fetching available technicals...");try{const e=await fetch(ce.URLTechnicalsAvailable,{method:"GET",headers:ce.headers});if(!e.ok)throw new Error("Failed to fetch technicals");const t=await e.json();this.technicals=t.data}catch(e){console.error("Error fetching technicals:",e)}}}}),Zl=Gt("vehicleStore",{state:()=>({vehicle:{},vehicles:[]}),actions:{async fetchVehicles(){console.log("Fetching available vehicles...");try{const e=await fetch(ce.URLVehiclesAvailable,{method:"GET",headers:ce.headers});if(!e.ok)throw new Error("Failed to fetch vehicles");const t=await e.json();this.vehicles=t.data}catch(e){console.error("Error fetching vehicles:",e)}}}}),Fh={key:0,class:"max-w-4xl mx-auto p-1"},Vh={class:"text-xl font-bold mb-6"},Lh={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Uh={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Bh={class:"border-b-1 border-r-1 border-sky-200"},Hh={class:"ml-2"},Gh={class:"border-b-1 border-r-1 border-sky-200"},Wh={class:"ml-2"},qh={class:"border-b-1 border-r-1 border-sky-200"},Kh={class:"ml-2"},zh={class:"border-b-1 border-r-1 border-sky-200"},Jh={class:"ml-2 font-mono"},Qh={class:"border-b-1 border-r-1 border-sky-200"},Yh={class:"ml-2 text-blue-600"},Xh={class:"border-b-1 border-r-1 border-sky-200"},Zh={class:"ml-2"},eb={class:"border-b-1 border-r-1 border-sky-200"},tb={class:"ml-2"},sb={class:"border-b-1 border-r-1 border-sky-200"},ob={class:"ml-2"},nb={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},rb={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},lb={class:"border-b-1 border-r-1 border-sky-200"},ib={class:"ml-2"},ab={class:"border-b-1 border-r-1 border-sky-200"},cb={class:"border-b-1 border-r-1 border-sky-200"},db={class:"border-b-1 border-r-1 border-sky-200"},ub={class:"ml-2 font-mono text-xs"},fb={class:"border-b-1 border-r-1 border-sky-200"},pb={class:"ml-2"},hb={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},bb={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},mb={class:"border-b-1 border-r-1 border-sky-200"},gb={class:"ml-2"},_b={class:"border-b-1 border-r-1 border-sky-200"},vb={class:"ml-2"},yb={class:"border-b-1 border-r-1 border-sky-200"},xb={class:"ml-2"},wb={class:"border-b-1 border-r-1 border-sky-200"},Cb={class:"ml-2"},Eb={class:"border-b-1 border-r-1 border-sky-200"},Sb={class:"ml-2"},$b={class:"border-b-1 border-r-1 border-sky-200"},Rb={class:"ml-2"},Ab={class:"border-b-1 border-r-1 border-sky-200"},Pb={class:"ml-2"},Ib={class:"border-b-1 border-r-1 border-sky-200"},kb={class:"ml-2"},Tb={key:0,class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Ob={class:"font-semibold text-lg mb-3"},Db={class:"overflow-x-auto border border-gray-300 rounded"},Nb={class:"table table-sm w-full"},jb={class:"border-r border-gray-300"},Mb={class:"border-r border-gray-300 font-mono text-sm"},Fb={key:1,class:"bg-sky-50 rounded-lg p-4 mb-6 border-gray-200 border"},Vb={class:"overflow-x-auto bg-base-100 border border-gray-300 rounded"},Lb={class:"table table-xs w-full border-collapse"},Ub={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},Bb={class:"border border-gray-300 text-center"},Hb={class:"border border-gray-300 text-center font-mono text-xs"},Gb={class:"border border-gray-300 text-center font-mono text-xs"},Wb={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},qb={class:"border border-gray-300 text-center text-gray-400"},Kb={key:2,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},zb={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},ei={__name:"TechnicalPresentation",props:{technical:{type:Object,default:null}},setup(e){const t=e,s=a=>a?new Date(a).toLocaleDateString("es-ES"):"N/A",n=(a,i)=>{if(!i)return"badge-ghost";const d=new Date,u=new Date(i),c=Math.floor((u-d)/(1e3*60*60*24));return c<0?"badge-error":c<=30?"badge-warning":"badge-success"},r=a=>{if(!a)return"Sin vencer";const i=new Date,d=new Date(a),u=Math.floor((d-i)/(1e3*60*60*24));return u<0?"VENCIDO":u<=30?"PRXIMO A VENCER":"VIGENTE"},l=Y(()=>t.technical?.vaccination_records?t.technical.vaccination_records.reduce((a,i)=>{const d=i.vaccine_type_display;return a[d]||(a[d]=[]),a[d].push(i),a},{}):{});return(a,i)=>e.technical?(S(),R("div",Fh,[o("h5",Vh,g(e.technical.first_name)+" "+g(e.technical.last_name),1),o("div",Lh,[i[8]||(i[8]=o("h6",{class:"font-semibold text-lg mb-3"},"Datos Personales",-1)),o("div",Uh,[o("div",Bh,[i[0]||(i[0]=o("span",{class:"font-medium"},"ID:",-1)),o("span",Hh,g(e.technical.id),1)]),o("div",Gh,[i[1]||(i[1]=o("span",{class:"font-medium"},"Nombre:",-1)),o("span",Wh,g(e.technical.first_name),1)]),o("div",qh,[i[2]||(i[2]=o("span",{class:"font-medium"},"Apellido:",-1)),o("span",Kh,g(e.technical.last_name),1)]),o("div",zh,[i[3]||(i[3]=o("span",{class:"font-medium"},"Cdula (DNI):",-1)),o("span",Jh,g(e.technical.dni),1)]),o("div",Qh,[i[4]||(i[4]=o("span",{class:"font-medium"},"Email:",-1)),o("span",Yh,g(e.technical.email),1)]),o("div",Xh,[i[5]||(i[5]=o("span",{class:"font-medium"},"Telfono:",-1)),o("span",Zh,g(e.technical.nro_phone),1)]),o("div",eb,[i[6]||(i[6]=o("span",{class:"font-medium"},"Fecha Nacimiento:",-1)),o("span",tb,g(s(e.technical.birth_date)),1)]),o("div",sb,[i[7]||(i[7]=o("span",{class:"font-medium"},"Fecha Ingreso:",-1)),o("span",ob,g(s(e.technical.date_joined)),1)])])]),o("div",nb,[i[14]||(i[14]=o("h6",{class:"font-semibold text-lg mb-3"},"Informacin Laboral",-1)),o("div",rb,[o("div",lb,[i[9]||(i[9]=o("span",{class:"font-medium"},"rea de Trabajo:",-1)),o("span",ib,g(e.technical.work_area_display),1)]),o("div",ab,[i[10]||(i[10]=o("span",{class:"font-medium"},"Afiliado IESS:",-1)),o("span",{class:fe(["ml-2 badge",e.technical.is_iess_affiliated?"badge-success":"badge-ghost"])},g(e.technical.is_iess_affiliated?"S":"No"),3)]),o("div",cb,[i[11]||(i[11]=o("span",{class:"font-medium"},"Seguro de Vida:",-1)),o("span",{class:fe(["ml-2 badge",e.technical.has_life_insurance_policy?"badge-success":"badge-ghost"])},g(e.technical.has_life_insurance_policy?"S":"No"),3)]),o("div",db,[i[12]||(i[12]=o("span",{class:"font-medium"},"Cdigo QUEST NCST:",-1)),o("span",ub,g(e.technical.quest_ncst_code),1)]),o("div",fb,[i[13]||(i[13]=o("span",{class:"font-medium"},"Instructor QUEST:",-1)),o("span",pb,g(e.technical.quest_instructor),1)])])]),o("div",hb,[i[23]||(i[23]=o("h6",{class:"font-semibold text-lg mb-3"},"Licencias y Certificados",-1)),o("div",bb,[o("div",mb,[i[15]||(i[15]=o("span",{class:"font-medium"},"Licencia (Expedida):",-1)),o("span",gb,g(s(e.technical.license_issue_date)),1)]),o("div",_b,[i[16]||(i[16]=o("span",{class:"font-medium"},"Licencia (Vence):",-1)),o("span",vb,[o("span",{class:fe(["badge",n(e.technical.license_issue_date,e.technical.license_expiry_date)])},g(s(e.technical.license_expiry_date)),3)])]),o("div",yb,[i[17]||(i[17]=o("span",{class:"font-medium"},"Cond. Defensiva (Expedida):",-1)),o("span",xb,g(s(e.technical.defensive_driving_certificate_issue_date)),1)]),o("div",wb,[i[18]||(i[18]=o("span",{class:"font-medium"},"Cond. Defensiva (Vence):",-1)),o("span",Cb,[o("span",{class:fe(["badge",n(e.technical.defensive_driving_certificate_issue_date,e.technical.defensive_driving_certificate_expiry_date)])},g(s(e.technical.defensive_driving_certificate_expiry_date)),3)])]),o("div",Eb,[i[19]||(i[19]=o("span",{class:"font-medium"},"Certificado MAE (Expedida):",-1)),o("span",Sb,g(s(e.technical.mae_certificate_issue_date)),1)]),o("div",$b,[i[20]||(i[20]=o("span",{class:"font-medium"},"Certificado MAE (Vence):",-1)),o("span",Rb,g(s(e.technical.mae_certificate_expiry_date)),1)]),o("div",Ab,[i[21]||(i[21]=o("span",{class:"font-medium"},"Certificado Mdico (Expedida):",-1)),o("span",Pb,g(s(e.technical.medical_certificate_issue_date)),1)]),o("div",Ib,[i[22]||(i[22]=o("span",{class:"font-medium"},"Certificado Mdico (Vence):",-1)),o("span",kb,g(s(e.technical.medical_certificate_expiry_date)),1)])])]),e.technical.passes&&e.technical.passes.length>0?(S(),R("div",Tb,[o("h6",Ob,"Pases de Acceso ("+g(e.technical.passes.length)+")",1),o("div",Db,[o("table",Nb,[i[24]||(i[24]=o("thead",{class:"bg-sky-100"},[o("tr",null,[o("th",{class:"border-r border-gray-300"},"Bloque"),o("th",{class:"border-r border-gray-300"},"Vencimiento"),o("th",null,"Estado")])],-1)),o("tbody",null,[(S(!0),R(re,null,Ee(e.technical.passes,d=>(S(),R("tr",{key:d.id,class:"hover"},[o("td",jb,g(d.bloque_display||d.bloque),1),o("td",Mb,g(s(d.fecha_caducidad)),1),o("td",null,[o("span",{class:fe(["badge",n(null,d.fecha_caducidad)])},g(r(d.fecha_caducidad)),3)])]))),128))])])])])):q("",!0),e.technical.vaccination_records&&e.technical.vaccination_records.length>0?(S(),R("div",Fb,[i[28]||(i[28]=o("h6",{class:"font-semibold text-lg mb-3"},"Registro de Vacunaciones",-1)),o("div",Vb,[o("table",Lb,[i[27]||(i[27]=o("thead",null,[o("tr",{class:"bg-sky-100"},[o("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"VACUNA"),o("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"DOSIS"),o("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"FECHA"),o("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"LOTE")])],-1)),o("tbody",null,[(S(!0),R(re,null,Ee(l.value,(d,u)=>(S(),R(re,{key:u},[(S(!0),R(re,null,Ee(d.slice(0,5),(c,f)=>(S(),R("tr",{key:c.id,class:"hover:bg-sky-50"},[f===0?(S(),R("td",Ub,g(u),1)):q("",!0),o("td",Bb,g(c.dose_number),1),o("td",Hb,g(s(c.application_date)),1),o("td",Gb,g(c.batch_number||""),1)]))),128)),(S(!0),R(re,null,Ee(Math.max(0,5-d.length),c=>(S(),R("tr",{key:`${u}-empty-${c}`,class:"hover:bg-sky-50"},[d.length===0&&c===1?(S(),R("td",Wb,g(u),1)):q("",!0),o("td",qb,g(d.length+c),1),i[25]||(i[25]=o("td",{class:"border border-gray-300 text-center"},null,-1)),i[26]||(i[26]=o("td",{class:"border border-gray-300 text-center"},null,-1))]))),128))],64))),128))])])])])):q("",!0),e.technical.notes?(S(),R("div",Kb,[i[29]||(i[29]=o("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),o("p",zb,g(e.technical.notes),1)])):q("",!0)])):q("",!0)}},Jb={key:0,class:"max-w-4xl mx-auto p-1"},Qb={class:"text-xl font-bold mb-6"},Yb={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Xb={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Zb={class:"border-b-1 border-r-1 border-sky-200"},em={class:"ml-2"},tm={class:"border-b-1 border-r-1 border-sky-200"},sm={class:"ml-2 font-mono"},om={class:"border-b-1 border-r-1 border-sky-200"},nm={class:"ml-2"},rm={class:"border-b-1 border-r-1 border-sky-200"},lm={class:"ml-2"},im={class:"border-b-1 border-r-1 border-sky-200"},am={class:"ml-2"},cm={class:"border-b-1 border-r-1 border-sky-200"},dm={class:"ml-2"},um={class:"border-b-1 border-r-1 border-sky-200"},fm={class:"border-b-1 border-r-1 border-sky-200"},pm={class:"ml-2 font-mono text-xs"},hm={class:"border-b-1 border-r-1 border-sky-200"},bm={class:"ml-2 font-mono text-xs"},mm={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},gm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},_m={class:"border-b-1 border-r-1 border-sky-200"},vm={class:"ml-2"},ym={class:"border-b-1 border-r-1 border-sky-200"},xm={class:"border-b-1 border-r-1 border-sky-200"},wm={class:"border-b-1 border-r-1 border-sky-200"},Cm={class:"border-b-1 border-r-1 border-sky-200"},Em={class:"ml-2"},Sm={class:"border-b-1 border-r-1 border-sky-200"},$m={class:"ml-2"},Rm={class:"border-b-1 border-r-1 border-sky-200"},Am={class:"ml-2"},Pm={class:"border-b-1 border-r-1 border-sky-200"},Im={class:"ml-2"},km={class:"border-b-1 border-r-1 border-sky-200"},Tm={class:"ml-2"},Om={class:"border-b-1 border-r-1 border-sky-200"},Dm={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Nm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},jm={class:"border-b-1 border-r-1 border-sky-200"},Mm={class:"ml-2"},Fm={class:"border-b-1 border-r-1 border-sky-200"},Vm={class:"ml-2"},Lm={class:"border-b-1 border-r-1 border-sky-200"},Um={class:"ml-2"},Bm={class:"border-b-1 border-r-1 border-sky-200"},Hm={key:0,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},Gm={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},ti={__name:"VehiclePresentation",props:{vehicle:{type:Object,default:null}},setup(e){const t=r=>r?new Date(r).toLocaleDateString("es-ES"):"N/A",s=r=>{switch(r){case"DISPONIBLE":return"badge-success";case"VIGENTE":return"badge-success";case"VENCIDO":return"badge-error";case"PROXIMO_A_VENCER":return"badge-warning";default:return"badge-ghost"}},n=r=>{if(!r)return!1;const l=new Date,a=new Date(r),i=Math.floor((a-l)/(1e3*60*60*24));return i<=30&&i>0};return(r,l)=>e.vehicle?(S(),R("div",Jb,[o("h5",Qb,g(e.vehicle.brand)+" "+g(e.vehicle.model),1),o("div",Yb,[l[9]||(l[9]=o("h6",{class:"font-semibold text-lg mb-3"},"Estado del Vehculo",-1)),o("div",Xb,[o("div",Zb,[l[0]||(l[0]=o("span",{class:"font-medium"},"ID:",-1)),o("span",em,g(e.vehicle.id),1)]),o("div",tm,[l[1]||(l[1]=o("span",{class:"font-medium"},"Placa:",-1)),o("span",sm,g(e.vehicle.no_plate),1)]),o("div",om,[l[2]||(l[2]=o("span",{class:"font-medium"},"Marca:",-1)),o("span",nm,g(e.vehicle.brand),1)]),o("div",rm,[l[3]||(l[3]=o("span",{class:"font-medium"},"Modelo:",-1)),o("span",lm,g(e.vehicle.model),1)]),o("div",im,[l[4]||(l[4]=o("span",{class:"font-medium"},"Tipo:",-1)),o("span",am,g(e.vehicle.type_vehicle),1)]),o("div",cm,[l[5]||(l[5]=o("span",{class:"font-medium"},"Ao:",-1)),o("span",dm,g(e.vehicle.year),1)]),o("div",um,[l[6]||(l[6]=o("span",{class:"font-medium"},"Estado:",-1)),o("span",{class:fe(["ml-2 badge",s(e.vehicle.status_vehicle)])},g(e.vehicle.status_vehicle),3)]),o("div",fm,[l[7]||(l[7]=o("span",{class:"font-medium"},"Nmero de Motor:",-1)),o("span",pm,g(e.vehicle.engine_number),1)]),o("div",hm,[l[8]||(l[8]=o("span",{class:"font-medium"},"Nmero de Chasis:",-1)),o("span",bm,g(e.vehicle.chassis_number),1)])])]),o("div",mm,[l[20]||(l[20]=o("h6",{class:"font-semibold text-lg mb-3"},"Documentos y Certificaciones",-1)),o("div",gm,[o("div",_m,[l[10]||(l[10]=o("span",{class:"font-medium"},"Matrcula (Fecha):",-1)),o("span",vm,g(t(e.vehicle.date_matricula)),1)]),o("div",ym,[l[11]||(l[11]=o("span",{class:"font-medium"},"Matrcula (Vence):",-1)),o("span",{class:fe(["ml-2",n(e.vehicle.due_date_matricula)?"text-warning font-semibold":""])},g(t(e.vehicle.due_date_matricula)),3)]),o("div",xm,[l[12]||(l[12]=o("span",{class:"font-medium"},"Cert. Operacional:",-1)),o("span",{class:fe(["ml-2 badge",s(e.vehicle.status_cert_oper)])},g(e.vehicle.status_cert_oper),3)]),o("div",wm,[l[13]||(l[13]=o("span",{class:"font-medium"},"Cert. Oper. (Vence):",-1)),o("span",{class:fe(["ml-2",n(e.vehicle.due_date_cert_oper)?"text-warning font-semibold":""])},g(t(e.vehicle.due_date_cert_oper)),3)]),o("div",Cm,[l[14]||(l[14]=o("span",{class:"font-medium"},"MTOP (Fecha):",-1)),o("span",Em,g(t(e.vehicle.date_mtop)),1)]),o("div",Sm,[l[15]||(l[15]=o("span",{class:"font-medium"},"MTOP (Vence):",-1)),o("span",$m,g(t(e.vehicle.due_date_mtop)),1)]),o("div",Rm,[l[16]||(l[16]=o("span",{class:"font-medium"},"Revisin Tcnica:",-1)),o("span",Am,g(t(e.vehicle.date_technical_review)),1)]),o("div",Pm,[l[17]||(l[17]=o("span",{class:"font-medium"},"Rev. Tcnica (Vence):",-1)),o("span",Im,g(t(e.vehicle.due_date_technical_review)),1)]),o("div",km,[l[18]||(l[18]=o("span",{class:"font-medium"},"Satlite (Fecha):",-1)),o("span",Tm,g(t(e.vehicle.date_satellite)),1)]),o("div",Om,[l[19]||(l[19]=o("span",{class:"font-medium"},"Satlite (Vence):",-1)),o("span",{class:fe(["ml-2",n(e.vehicle.due_date_satellite)?"text-warning font-semibold":""])},g(t(e.vehicle.due_date_satellite)),3)])])]),o("div",Dm,[l[25]||(l[25]=o("h6",{class:"font-semibold text-lg mb-3"},"Seguro",-1)),o("div",Nm,[o("div",jm,[l[21]||(l[21]=o("span",{class:"font-medium"},"Aseguradora:",-1)),o("span",Mm,g(e.vehicle.insurance_company),1)]),o("div",Fm,[l[22]||(l[22]=o("span",{class:"font-medium"},"Pliza Nro:",-1)),o("span",Vm,g(e.vehicle.nro_poliza||"N/A"),1)]),o("div",Lm,[l[23]||(l[23]=o("span",{class:"font-medium"},"Fecha Expedicin:",-1)),o("span",Um,g(t(e.vehicle.insurance_issue_date)),1)]),o("div",Bm,[l[24]||(l[24]=o("span",{class:"font-medium"},"Vencimiento:",-1)),o("span",{class:fe(["ml-2",n(e.vehicle.insurance_expiration_date)?"text-warning font-semibold":""])},g(t(e.vehicle.insurance_expiration_date)),3)])])]),e.vehicle.notes?(S(),R("div",Hm,[l[26]||(l[26]=o("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),o("p",Gm,g(e.vehicle.notes),1)])):q("",!0)])):q("",!0)}},Wm={class:"w-[95%] mx-auto p-6"},qm={class:"bg-white rounded-lg shadow-md p-2 mb-2 border border-gray-200"},Km={class:"flex justify-between items-center"},zm={class:"flex gap-2"},Jm={class:"grid grid-cols-1 gap-4"},Qm={class:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow"},Ym={class:"bg-gradient-to-r from-blue-500 to-sky-600 text-white p-4 rounded-t-lg backdrop-blur-sm"},Xm={class:"flex justify-between items-start"},Zm={class:"flex-1"},eg={class:"flex items-center gap-3 mb-2"},tg={class:"text-xl font-bold"},sg={class:"badge text-blue-500 font-semibold bg-white px-3 py-1"},og={class:"text-right"},ng={class:"text-2xl p1 rounded text-error bg-gray-100 w-100% font-mono border border-sky-600 border-2"},rg={class:"me-2"},lg={class:"p-2"},ig={class:"grid grid-cols-4 gap-4"},ag={class:"flex items-center gap-2"},cg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},dg={class:"flex items-center gap-2"},ug={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},fg={class:"flex items-center gap-2"},pg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},hg={class:"flex items-center gap-2"},bg={class:"flex gap-1 flex-1"},mg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},gg={class:"p-2 border-b bg-gray-50 border-b-gray-200"},_g={class:"grid grid-cols-4 gap-4"},vg={class:"flex items-center gap-2"},yg={class:"flex gap-1 flex-1"},xg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},wg={class:""},Cg={class:"flex items-center gap-2"},Eg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Sg={class:"flex items-center gap-2"},$g={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Rg={class:"flex items-center gap-2"},Ag={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Pg={class:"p-4 border-b border-b-gray-200"},Ig={class:"overflow-x-auto"},kg={class:"table table-sm w-full table-zebra"},Tg={class:"border border-gray-300 p-2"},Og={class:"border border-gray-300 p-2"},Dg={class:"border border-gray-300 p-2 text-end"},Ng={key:0},jg={class:"pt-2 pb-2"},Mg={class:"flex gap-4"},Fg={class:"flex-1 border rounded p-3 border-gray-200"},Vg={class:"text-primary ml-5"},Lg={class:"bg-gray-50 p-4 rounded-b-lg flex justify-between gap-2"},Ug={__name:"CustodyChainView",setup(e){const t=js(),s=Xl(),n=Zl(),r=Wt();Nt(async()=>{await t.fetchProjectData(),await s.fetchTechnicalsAvailable(),await n.fetchVehicles(),await r.fetchResourcesProject(ce.idProject)});const l=Ns(),a=ie(null),i=ie(null),d=ie(!1),u=ie(!1),c=ie({numero:"0000123",fecha:new Date().toLocaleDateString("es-ES"),horaInicio:"08:00",horaFin:"17:00",horas:9,ubicacion:"",tecnico:{nombre:"",cargo:"",dni:""},vehiculo:{placa:"",marca:"",modelo:""},facturacion:{equipo:"DAS",codigo:3,precioUnitario:950,totalLinea:2850},detalle:""}),f=()=>{t.project?.location&&(c.value.ubicacion=t.project.location),n.vehicles?.length>0&&(a.value=n.vehicles[0],c.value.vehiculo.placa=a.value.no_plate,c.value.vehiculo.marca=a.value.brand,c.value.vehiculo.modelo=a.value.model),s.technicals?.length>0&&(i.value=s.technicals[0],c.value.tecnico.nombre=`${i.value.first_name} ${i.value.last_name}`,c.value.tecnico.cargo=i.value.work_area_display||i.value.work_area,c.value.tecnico.dni=i.value.dni)},_=()=>{d.value=!0},y=()=>{u.value=!0};return f(),(E,p)=>(S(),R("div",Wm,[o("div",qm,[o("div",Km,[p[6]||(p[6]=o("h1",{class:"text-gray-800 flex items-center gap-2 font-semibold"},[o("i",{class:"las la-file-invoice text-blue-500"}),Q(" Cadena de Custodia ")],-1)),o("div",zm,[p[5]||(p[5]=o("button",{class:"btn btn-secondary btn-sm"},[o("i",{class:"las la-arrow-left"}),Q(" Cancelar ")],-1)),o("button",{class:"btn btn-primary btn-sm",onClick:p[0]||(p[0]=w=>we(l).push({name:"custody-chain-form"}))},[...p[4]||(p[4]=[o("i",{class:"las la-plus"},null,-1),Q(" Nueva Cadena de Custodia ",-1)])])])])]),o("div",Jm,[o("div",Qm,[o("div",Ym,[o("div",Xm,[o("div",Zm,[o("div",eg,[o("h2",tg," #"+g(we(t).project?.id)+" "+g(we(t).project?.partner_name)+" - "+g(we(t).project?.location),1),o("span",sg,g(we(t).project?.cardinal_point||"N/A"),1)])]),o("div",og,[o("div",ng,[p[7]||(p[7]=o("span",{class:"text-gray-700 ms-5"},"Nro.",-1)),o("span",rg,g(c.value.numero),1)])])])]),o("div",lg,[o("div",ig,[o("div",ag,[p[8]||(p[8]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Fecha:",-1)),o("span",cg,g(c.value.fecha),1)]),o("div",dg,[p[10]||(p[10]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Inicio - Fin:",-1)),o("span",ug,[Q(g(c.value.horaInicio)+" - "+g(c.value.horaFin)+" ",1),p[9]||(p[9]=o("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),Q(" "+g(c.value.horas.toFixed(2))+" HRS ",1)])]),o("div",fg,[p[11]||(p[11]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Ubicacin:",-1)),o("span",pg,g(c.value.ubicacion),1)]),o("div",hg,[p[14]||(p[14]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Placa Vehiculo:",-1)),o("div",bg,[o("span",mg,[Q(g(c.value.vehiculo.placa)+" ",1),p[12]||(p[12]=o("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),Q(" "+g(c.value.vehiculo.marca)+" "+g(c.value.vehiculo.modelo),1)]),o("button",{type:"button",class:"btn btn-sm btn-outline",onClick:y,title:"Ver detalles del vehculo"},[...p[13]||(p[13]=[o("i",{class:"las la-eye"},null,-1)])])])])])]),o("div",gg,[o("div",_g,[o("div",vg,[p[17]||(p[17]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Tcnico:",-1)),o("div",yg,[o("span",xg,[Q(g(c.value.tecnico.nombre)+" ",1),p[15]||(p[15]=o("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),o("span",wg,"CI: "+g(c.value.tecnico.dni),1)]),o("button",{type:"button",class:"btn btn-sm btn-outline",onClick:_,title:"Ver detalles del tcnico"},[...p[16]||(p[16]=[o("i",{class:"las la-eye"},null,-1)])])])]),o("div",Cg,[p[18]||(p[18]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Cargo:",-1)),o("span",Eg,g(c.value.tecnico.cargo),1)]),o("div",Sg,[p[20]||(p[20]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Contacto:",-1)),o("span",$g,[Q(g(we(t).project?.contact_name)+" ",1),p[19]||(p[19]=o("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),o("span",null,g(we(t).project?.contact_phone),1)])]),o("div",Rg,[p[21]||(p[21]=o("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Empresa:",-1)),o("span",Ag,g(we(t).project?.partner_name),1)])])]),o("div",Pg,[p[27]||(p[27]=o("h3",{class:"font-semibold text-gray-700 mb-3"},"Detalle de Cadena de Custodia",-1)),o("div",Ig,[o("table",kg,[p[24]||(p[24]=o("thead",null,[o("tr",{class:"bg-gray-500 text-white text-center"},[o("th",{class:"border border-gray-300 w-10"},"#"),o("th",{class:"border border-gray-300"},"Equipo"),o("th",{class:"border border-gray-300 w-30"},"Precio"),o("th",{class:"border border-gray-300 w-30"},"Acciones")])],-1)),o("tbody",null,[(S(!0),R(re,null,Ee(we(r).resourcesProject,(w,b)=>(S(),R("tr",{class:"hover:bg-yellow-100",key:w.id},[o("td",Tg,g(b+1),1),o("td",Og,g(w.detailed_description),1),o("td",Dg,"$"+g(w.cost),1),p[22]||(p[22]=o("td",{class:"border border-gray-300 p-2 text-center"},[o("span",{class:"border rounded p-1 cursor-pointer bg-red-400 text-white hover:bg-red-600 font-semibold"}," Eliminar ")],-1))]))),128)),we(r).resourcesProject.length===0?(S(),R("tr",Ng,[...p[23]||(p[23]=[o("td",{colspan:"4",class:"text-center py-4 text-gray-500"}," No hay recursos cargados ",-1)])])):q("",!0)])])]),o("div",jg,[o("div",Mg,[p[26]||(p[26]=jn('<div class="flex gap-4"><div class="p-3 border rounded border-gray-200"> Galones: <span class="text-xl text-primary ml-5">20</span></div><div class="p-3 border rounded border-gray-200"> Metro Cubicos: <span class="text-xl text-primary ml-5">5</span></div><div class="p-3 border rounded border-gray-200"> Barriles: <span class="text-xl text-primary ml-5">2</span></div></div>',1)),o("div",Fg,[p[25]||(p[25]=o("span",{class:"font-semibold"},"Notas:",-1)),o("span",Vg,g(c.value.detalle),1)])])])]),o("div",Lg,[o("button",{class:"btn btn-sm btn-primary",onClick:p[1]||(p[1]=w=>we(l).push({name:"custody-chain"}))},[...p[28]||(p[28]=[o("i",{class:"las la-arrow-left"},null,-1),Q(" Cancelar ",-1)])]),p[29]||(p[29]=jn('<div class="flex gap-2"><button class="btn btn-sm btn-primary"><i class="las la-edit"></i> Editar </button><button class="btn btn-sm btn-primary"><i class="las la-print"></i> Imprimir </button><button class="btn btn-sm bg-red-600 text-white"><i class="las la-times-circle"></i> Anular </button></div>',1))])])]),ve(Ps,{"is-open":d.value,title:`Detalles del Tcnico - ${i.value?.first_name} ${i.value?.last_name}`,size:"xl",onClose:p[2]||(p[2]=w=>d.value=!1)},{default:Dt(()=>[i.value?(S(),ct(ei,{key:0,technical:i.value},null,8,["technical"])):q("",!0)]),_:1},8,["is-open","title"]),ve(Ps,{"is-open":u.value,title:`Detalles del Vehculo - ${a.value?.no_plate}`,size:"xl",onClose:p[3]||(p[3]=w=>u.value=!1)},{default:Dt(()=>[a.value?(S(),ct(ti,{key:0,vehicle:a.value},null,8,["vehicle"])):q("",!0)]),_:1},8,["is-open","title"])]))}},Bg=Gt("custodyChainStore",{state:()=>({custodyChains:[],selectedCustodyChain:null,newCustodyChain:{id:null,id_sheet_project:null,issue_date:null,consecutive:"00000",activity_date:null,location:null,total_gallons:0,duration_hours:0}}),actions:{async fetchCustodyChains(e){console.log("Fetching custody chains for sheet project ID:",e);try{const t=ce.URLAllCustodyChains.replace("${id_sheet_project}",e),s=await fetch(t,{method:"GET",headers:ce.headers});if(!s.ok)throw new Error("Failed to fetch custody chains");const n=await s.json();this.custodyChains=n.data}catch(t){console.error("Error fetching custody chains:",t)}},async addCustodyChain(e){console.log("Adding new custody chain",e);try{const t=await fetch(ce.URLCreateCustodyChain,{method:"POST",headers:ce.headers,body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.message||"Failed to create custody chain")}const s=await t.json();return this.custodyChains.push(s.data),this.resetNewCustodyChain(),s.data}catch(t){throw console.error("Error creating custody chain:",t),t}},resetNewCustodyChain(){this.newCustodyChain={id:null,id_sheet_project:null,issue_date:new Date().toISOString().split("T")[0],consecutive:"00000",activity_date:new Date().toISOString().split("T")[0],location:null,total_gallons:0,duration_hours:0}},async fetchCustodyChainDetail(e){console.log("Fetching custody chain detail for ID:",e);try{const t=ce.URLCustodyChainDetail.replace("${id}",e),s=await fetch(t,{method:"GET",headers:ce.headers});if(!s.ok)throw new Error("Failed to fetch custody chain detail");const n=await s.json();this.selectedCustodyChain=n.data}catch(t){console.error("Error fetching custody chain detail:",t)}}}}),Pt=e=>{if(!e)return!1;const t=new Date;return new Date(e)<t},mt=e=>{if(!e)return!1;const t=new Date,s=new Date(e),n=Math.floor((s-t)/(1e3*60*60*24));return n<=30&&n>0},Hg=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let s=!1,n=!1;return Pt(e.license_expiry_date)?(t.push({type:"error",field:"Licencia de Conducir",message:"Licencia de conducir VENCIDA"}),s=!0):mt(e.license_expiry_date)&&(t.push({type:"warning",field:"Licencia de Conducir",message:"Licencia de conducir prxima a vencer"}),n=!0),Pt(e.defensive_driving_certificate_expiry_date)?(t.push({type:"error",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva VENCIDO"}),s=!0):mt(e.defensive_driving_certificate_expiry_date)&&(t.push({type:"warning",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva prximo a vencer"}),n=!0),Pt(e.medical_certificate_expiry_date)?(t.push({type:"error",field:"Certificado Mdico",message:"Certificado mdico VENCIDO"}),s=!0):mt(e.medical_certificate_expiry_date)&&(t.push({type:"warning",field:"Certificado Mdico",message:"Certificado mdico prximo a vencer"}),n=!0),e.passes&&e.passes.length>0&&e.passes.forEach(r=>{Pt(r.fecha_caducidad)?(t.push({type:"error",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso VENCIDO"}),s=!0):mt(r.fecha_caducidad)&&(t.push({type:"warning",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso prximo a vencer"}),n=!0)}),e.is_iess_affiliated||(t.push({type:"warning",field:"IESS",message:"No est afiliado al IESS"}),n=!0),{hasErrors:s,hasWarnings:n,issues:t}},Gg=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let s=!1,n=!1;return Pt(e.due_date_matricula)?(t.push({type:"error",field:"Matrcula",message:"Matrcula VENCIDA"}),s=!0):mt(e.due_date_matricula)&&(t.push({type:"warning",field:"Matrcula",message:"Matrcula prxima a vencer"}),n=!0),e.status_cert_oper==="VENCIDO"?(t.push({type:"error",field:"Certificado Operacional",message:"Certificado operacional VENCIDO"}),s=!0):mt(e.due_date_cert_oper)&&(t.push({type:"warning",field:"Certificado Operacional",message:"Certificado operacional prximo a vencer"}),n=!0),Pt(e.due_date_technical_review)?(t.push({type:"error",field:"Revisin Tcnica",message:"Revisin tcnica VENCIDA"}),s=!0):mt(e.due_date_technical_review)&&(t.push({type:"warning",field:"Revisin Tcnica",message:"Revisin tcnica prxima a vencer"}),n=!0),Pt(e.insurance_expiration_date)?(t.push({type:"error",field:"Seguro",message:"Seguro VENCIDO"}),s=!0):mt(e.insurance_expiration_date)&&(t.push({type:"warning",field:"Seguro",message:"Seguro prximo a vencer"}),n=!0),Pt(e.due_date_satellite)?(t.push({type:"error",field:"Satlite",message:"Certificado de satlite VENCIDO"}),s=!0):mt(e.due_date_satellite)&&(t.push({type:"warning",field:"Satlite",message:"Certificado de satlite prximo a vencer"}),n=!0),{hasErrors:s,hasWarnings:n,issues:t}},si=42,oi=.158987,ni=.00378541,Wg=e=>{const t=parseFloat(e)||0;return{barrels:parseFloat((t/si).toFixed(4)),cubicMeters:parseFloat((t*ni).toFixed(4))}},qg=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t*si).toFixed(4)),cubicMeters:parseFloat((t*oi).toFixed(4))}},Kg=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t/ni).toFixed(4)),barrels:parseFloat((t/oi).toFixed(4))}},zg={class:"max-w-7xl mx-auto p-4"},Jg={key:0,class:"mb-6 space-y-3"},Qg={key:0,class:"alert alert-error shadow-lg"},Yg={class:"flex items-start w-full"},Xg={class:"flex-1"},Zg={class:"text-sm mt-2 space-y-1"},e0={key:1,class:"alert alert-warning shadow-lg"},t0={class:"flex items-start w-full"},s0={class:"flex-1"},o0={class:"text-sm mt-2 space-y-1"},n0={key:2,class:"alert alert-error shadow-lg"},r0={class:"flex items-start w-full"},l0={class:"flex-1"},i0={class:"text-sm mt-2 space-y-1"},a0={key:3,class:"alert alert-warning shadow-lg"},c0={class:"flex items-start w-full"},d0={class:"flex-1"},u0={class:"text-sm mt-2 space-y-1"},f0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},p0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},h0={class:"form-control w-full"},b0={class:"label",for:"technical"},m0={class:"label-text font-medium"},g0={key:0,class:"badge badge-error badge-sm ml-1"},_0={key:1,class:"badge badge-warning badge-sm ml-1"},v0={class:"flex gap-2"},y0=["value"],x0={class:"form-control w-full"},w0={class:"label",for:"vehicle"},C0={class:"label-text font-medium"},E0={key:0,class:"badge badge-error badge-sm ml-1"},S0={key:1,class:"badge badge-warning badge-sm ml-1"},$0={class:"flex gap-2"},R0=["value"],A0={class:"form-control w-full"},P0={class:"form-control w-full"},I0={class:"form-control w-full"},k0={class:"form-control w-full"},T0={class:"form-control w-full"},O0={class:"form-control w-full"},D0={class:"form-control w-full"},N0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},j0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M0={class:"form-control w-full"},F0={class:"form-control w-full"},V0={class:"form-control w-full"},L0={class:"form-control w-full"},U0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},B0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H0={class:"form-control w-full"},G0={class:"form-control w-full"},W0={class:"form-control w-full"},q0={class:"form-control w-full"},K0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},z0={class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},J0={class:"badge badge-primary ml-2"},Q0={class:"overflow-x-auto"},Y0={class:"table table-zebra w-full table-sm"},X0=["onClick"],Z0={class:"border border-gray-300 text-center"},e_=["checked","onClick"],t_={class:"border border-gray-300"},s_={class:"border border-gray-300"},o_={class:"border border-gray-300"},n_={class:"border border-gray-300 text-right font-mono"},r_={key:0},l_={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},i_={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},a_={class:"form-control w-full"},c_={class:"form-control w-full"},d_={class:"form-control w-full"},u_={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},f_={class:"form-control w-full"},p_={class:"flex gap-3 justify-end mt-6"},h_=["disabled"],b_=["disabled"],m_={key:0,class:"las la-save"},g_={key:1,class:"las la-spinner animate-spin"},__={__name:"CustodyChainForm",setup(e){const t=js(),s=Xl(),n=Zl(),r=Wt(),l=Bg(),a=Ns(),i=ie(!1),d=ie(!1),u=ie(!1);Nt(async()=>{await t.fetchProjectData(),await s.fetchTechnicalsAvailable(),await n.fetchVehicles(),await r.fetchResourcesProject(),c.value={...l.newCustodyChain,location:t.project?.location||"",contact_name:t.project?.contact_name||"",technical:null,vehicle:null,technical_name:"",technical_dni:"",technical_position:"",vehicle_plate:"",vehicle_brand:"",vehicle_model:"",start_time:"",end_time:"",time_duration:0,dni_contact:"",contact_position:"",date_contact:new Date().toISOString().split("T")[0],driver_name:"",dni_driver:"",driver_position:"",driver_date:new Date().toISOString().split("T")[0],total_barrels:0,total_cubic_meters:0,notes:""}});const c=ie({technical:null,vehicle:null,sheet_project:null,consecutive:"",activity_date:new Date().toISOString().split("T")[0],location:t.project?.location||"",issue_date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",time_duration:0,contact_name:t.project?.contact_name||"",dni_contact:"",contact_position:"",date_contact:new Date().toISOString().split("T")[0],driver_name:"",dni_driver:"",driver_position:"",driver_date:new Date().toISOString().split("T")[0],total_gallons:0,total_barrels:0,total_cubic_meters:0,notes:"",technical_name:"",technical_dni:"",technical_position:"",vehicle_plate:"",vehicle_brand:"",vehicle_model:""}),f=ie([]),_=Y(()=>r.resourcesProject.filter(U=>U.type_resource==="SERVICIO").map(U=>({...U,selected:f.value.includes(U.id)}))),y=Y(()=>_.value.filter(U=>U.selected)),E=Y(()=>s.technicals.map(U=>({id:U.id,display:`${U.first_name} ${U.last_name}`,fullData:U}))),p=Y(()=>n.vehicles.map(U=>({id:U.id,display:`${U.no_plate} - ${U.brand} ${U.model}`,fullData:U}))),w=U=>{const v=f.value.indexOf(U);v>-1?f.value.splice(v,1):f.value.push(U)},b=()=>{if(c.value.start_time&&c.value.end_time){const U=c.value.start_time.split(":"),v=c.value.end_time.split(":"),C=parseInt(U[0])*60+parseInt(U[1]),Le=(parseInt(v[0])*60+parseInt(v[1])-C)/60;c.value.time_duration=Le>0?parseFloat(Le.toFixed(2)):0}},$=async()=>{try{if(i.value=!0,!c.value.technical||!c.value.vehicle||y.value.length===0){alert("Por favor complete los campos requeridos y seleccione al menos un recurso");return}l.newCustodyChain={...l.newCustodyChain,issue_date:c.value.issue_date,consecutive:c.value.consecutive,activity_date:c.value.activity_date,location:c.value.location,total_gallons:parseFloat(c.value.total_gallons)||0,duration_hours:c.value.time_duration};const U={technical_id:c.value.technical,vehicle_id:c.value.vehicle,project_id:ce.idProject,activity_date:c.value.activity_date,issue_date:c.value.issue_date,consecutive:c.value.consecutive,location:c.value.location,start_time:c.value.start_time,end_time:c.value.end_time,duration_hours:c.value.time_duration,contact_name:c.value.contact_name,dni_contact:c.value.dni_contact,contact_position:c.value.contact_position,date_contact:c.value.date_contact,driver_name:c.value.driver_name,dni_driver:c.value.dni_driver,driver_position:c.value.driver_position,driver_date:c.value.driver_date,technical_name:c.value.technical_name,technical_dni:c.value.technical_dni,technical_position:c.value.technical_position,vehicle_plate:c.value.vehicle_plate,vehicle_brand:c.value.vehicle_brand,vehicle_model:c.value.vehicle_model,total_gallons:parseFloat(c.value.total_gallons)||0,total_barrels:parseFloat(c.value.total_barrels)||0,total_cubic_meters:parseFloat(c.value.total_cubic_meters)||0,notes:c.value.notes,resources:f.value};await l.addCustodyChain(U)&&(alert("Cadena de custodia guardada exitosamente"),a.push({name:"custody-chain"}))}catch(U){console.error("Error al guardar:",U),alert("Error al guardar la cadena de custodia: "+U.message)}finally{i.value=!1}},j=()=>{me.value&&(d.value=!0)},O=()=>{se.value&&(u.value=!0)},ee=()=>{a.push({name:"custody-chain"})};qe(()=>t.project?.location,U=>{U&&!c.value.location&&(c.value.location=U)}),qe(()=>t.project?.contact_name,U=>{U&&!c.value.contact_name&&(c.value.contact_name=U)});const me=Y(()=>c.value.technical?s.technicals.find(U=>U.id===c.value.technical):null),se=Y(()=>c.value.vehicle?n.vehicles.find(U=>U.id===c.value.vehicle):null),K=Y(()=>Hg(me.value)),z=Y(()=>Gg(se.value)),ye=Y(()=>K.value.hasErrors||K.value.hasWarnings||z.value.hasErrors||z.value.hasWarnings);qe(()=>c.value.technical,U=>{if(U){const v=s.technicals.find(C=>C.id===U);v&&(c.value.technical_name=`${v.first_name} ${v.last_name}`,c.value.technical_dni=v.dni,c.value.technical_position=v.work_area_display||v.work_area,c.value.driver_name=`${v.first_name} ${v.last_name}`,c.value.dni_driver=v.dni,c.value.driver_position=v.work_area_display||v.work_area,c.value.driver_date=new Date().toISOString().split("T")[0])}}),qe(()=>c.value.vehicle,U=>{if(U){const v=n.vehicles.find(C=>C.id===U);v&&(c.value.vehicle_plate=v.no_plate,c.value.vehicle_brand=v.brand,c.value.vehicle_model=v.model)}}),ie(!1);const xe=ie(null);qe(()=>c.value.total_gallons,(U,v)=>{if(xe.value==="gallons"&&U!==v){const C=Wg(U);xe.value=null,c.value.total_barrels=C.barrels,c.value.total_cubic_meters=C.cubicMeters}}),qe(()=>c.value.total_barrels,(U,v)=>{if(xe.value==="barrels"&&U!==v){const C=qg(U);xe.value=null,c.value.total_gallons=C.gallons,c.value.total_cubic_meters=C.cubicMeters}}),qe(()=>c.value.total_cubic_meters,(U,v)=>{if(xe.value==="cubicMeters"&&U!==v){const C=Kg(U);xe.value=null,c.value.total_gallons=C.gallons,c.value.total_barrels=C.barrels}});const Ne=()=>{xe.value="gallons"},Ie=()=>{xe.value="barrels"},dt=()=>{xe.value="cubicMeters"};return(U,v)=>(S(),R("div",zg,[ye.value?(S(),R("div",Jg,[K.value.hasErrors?(S(),R("div",Qg,[o("div",Yg,[v[24]||(v[24]=o("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),o("div",Xg,[v[23]||(v[23]=o("h3",{class:"font-bold"},"Problemas crticos con el tcnico seleccionado",-1)),o("ul",Zg,[(S(!0),R(re,null,Ee(K.value.issues.filter(C=>C.type==="error"),(C,Z)=>(S(),R("li",{key:Z},[o("strong",null,g(C.field)+":",1),Q(" "+g(C.message),1)]))),128))])])])])):q("",!0),K.value.hasWarnings&&!K.value.hasErrors?(S(),R("div",e0,[o("div",t0,[v[26]||(v[26]=o("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),o("div",s0,[v[25]||(v[25]=o("h3",{class:"font-bold"},"Advertencias del tcnico seleccionado",-1)),o("ul",o0,[(S(!0),R(re,null,Ee(K.value.issues.filter(C=>C.type==="warning"),(C,Z)=>(S(),R("li",{key:Z},[o("strong",null,g(C.field)+":",1),Q(" "+g(C.message),1)]))),128))])])])])):q("",!0),z.value.hasErrors?(S(),R("div",n0,[o("div",r0,[v[28]||(v[28]=o("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),o("div",l0,[v[27]||(v[27]=o("h3",{class:"font-bold"},"Problemas crticos con el vehculo seleccionado",-1)),o("ul",i0,[(S(!0),R(re,null,Ee(z.value.issues.filter(C=>C.type==="error"),(C,Z)=>(S(),R("li",{key:Z},[o("strong",null,g(C.field)+":",1),Q(" "+g(C.message),1)]))),128))])])])])):q("",!0),z.value.hasWarnings&&!z.value.hasErrors?(S(),R("div",a0,[o("div",c0,[v[30]||(v[30]=o("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),o("div",d0,[v[29]||(v[29]=o("h3",{class:"font-bold"},"Advertencias del vehculo seleccionado",-1)),o("ul",u0,[(S(!0),R(re,null,Ee(z.value.issues.filter(C=>C.type==="warning"),(C,Z)=>(S(),R("li",{key:Z},[o("strong",null,g(C.field)+":",1),Q(" "+g(C.message),1)]))),128))])])])])):q("",!0)])):q("",!0),o("form",{onSubmit:Rs($,["prevent"]),class:"space-y-6"},[o("div",f0,[v[48]||(v[48]=o("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin General",-1)),o("div",p0,[o("div",h0,[o("label",b0,[o("span",m0,[v[33]||(v[33]=Q(" Tcnico * ",-1)),K.value.hasErrors?(S(),R("span",g0,[...v[31]||(v[31]=[o("i",{class:"las la-exclamation-circle"},null,-1)])])):K.value.hasWarnings?(S(),R("span",_0,[...v[32]||(v[32]=[o("i",{class:"las la-exclamation-triangle"},null,-1)])])):q("",!0)])]),o("div",v0,[te(o("select",{id:"technical","onUpdate:modelValue":v[0]||(v[0]=C=>c.value.technical=C),required:"",class:fe(["select select-bordered w-full flex-1",{"select-error":K.value.hasErrors,"select-warning":K.value.hasWarnings&&!K.value.hasErrors}])},[v[34]||(v[34]=o("option",{value:null,disabled:""},"Seleccione un tcnico",-1)),(S(!0),R(re,null,Ee(E.value,C=>(S(),R("option",{key:C.id,value:C.id},g(C.display),9,y0))),128))],2),[[Lo,c.value.technical,void 0,{number:!0}]]),me.value?(S(),R("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:j,title:"Ver detalles del tcnico"},[...v[35]||(v[35]=[o("i",{class:"las la-eye text-lg"},null,-1)])])):q("",!0)])]),o("div",x0,[o("label",w0,[o("span",C0,[v[38]||(v[38]=Q(" Vehculo * ",-1)),z.value.hasErrors?(S(),R("span",E0,[...v[36]||(v[36]=[o("i",{class:"las la-exclamation-circle"},null,-1)])])):z.value.hasWarnings?(S(),R("span",S0,[...v[37]||(v[37]=[o("i",{class:"las la-exclamation-triangle"},null,-1)])])):q("",!0)])]),o("div",$0,[te(o("select",{id:"vehicle","onUpdate:modelValue":v[1]||(v[1]=C=>c.value.vehicle=C),required:"",class:fe(["select select-bordered w-full flex-1",{"select-error":z.value.hasErrors,"select-warning":z.value.hasWarnings&&!z.value.hasErrors}])},[v[39]||(v[39]=o("option",{value:null,disabled:""},"Seleccione un vehculo",-1)),(S(!0),R(re,null,Ee(p.value,C=>(S(),R("option",{key:C.id,value:C.id},g(C.display),9,R0))),128))],2),[[Lo,c.value.vehicle,void 0,{number:!0}]]),se.value?(S(),R("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:O,title:"Ver detalles del vehculo"},[...v[40]||(v[40]=[o("i",{class:"las la-eye text-lg"},null,-1)])])):q("",!0)])]),o("div",A0,[v[41]||(v[41]=o("label",{class:"label",for:"consecutive"},[o("span",{class:"label-text font-medium"},"Consecutivo")],-1)),te(o("input",{type:"text",id:"consecutive","onUpdate:modelValue":v[2]||(v[2]=C=>c.value.consecutive=C),readonly:"",placeholder:"Se generar automticamente",class:"input input-bordered w-full bg-gray-100"},null,512),[[le,c.value.consecutive]])]),o("div",P0,[v[42]||(v[42]=o("label",{class:"label",for:"activity_date"},[o("span",{class:"label-text font-medium"},"Fecha de Actividad *")],-1)),te(o("input",{type:"date",id:"activity_date","onUpdate:modelValue":v[3]||(v[3]=C=>c.value.activity_date=C),required:"",class:"input input-bordered w-full"},null,512),[[le,c.value.activity_date]])]),o("div",I0,[v[43]||(v[43]=o("label",{class:"label",for:"location"},[o("span",{class:"label-text font-medium"},"Ubicacin")],-1)),te(o("input",{type:"text",id:"location","onUpdate:modelValue":v[4]||(v[4]=C=>c.value.location=C),placeholder:"Ej: Bloque 31",class:"input input-bordered w-full"},null,512),[[le,c.value.location]])]),o("div",k0,[v[44]||(v[44]=o("label",{class:"label",for:"issue_date"},[o("span",{class:"label-text font-medium"},"Fecha de Emisin")],-1)),te(o("input",{type:"date",id:"issue_date","onUpdate:modelValue":v[5]||(v[5]=C=>c.value.issue_date=C),class:"input input-bordered w-full"},null,512),[[le,c.value.issue_date]])]),o("div",T0,[v[45]||(v[45]=o("label",{class:"label",for:"start_time"},[o("span",{class:"label-text font-medium"},"Hora de Inicio")],-1)),te(o("input",{type:"time",id:"start_time","onUpdate:modelValue":v[6]||(v[6]=C=>c.value.start_time=C),onChange:b,class:"input input-bordered w-full"},null,544),[[le,c.value.start_time]])]),o("div",O0,[v[46]||(v[46]=o("label",{class:"label",for:"end_time"},[o("span",{class:"label-text font-medium"},"Hora de Fin")],-1)),te(o("input",{type:"time",id:"end_time","onUpdate:modelValue":v[7]||(v[7]=C=>c.value.end_time=C),onChange:b,class:"input input-bordered w-full"},null,544),[[le,c.value.end_time]])]),o("div",D0,[v[47]||(v[47]=o("label",{class:"label",for:"time_duration"},[o("span",{class:"label-text font-medium"},"Duracin (horas)")],-1)),te(o("input",{type:"number",id:"time_duration","onUpdate:modelValue":v[8]||(v[8]=C=>c.value.time_duration=C),step:"0.01",readonly:"",class:"input input-bordered w-full bg-gray-100"},null,512),[[le,c.value.time_duration]])])])]),o("div",N0,[v[53]||(v[53]=o("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin del Transportista",-1)),o("div",j0,[o("div",M0,[v[49]||(v[49]=o("label",{class:"label",for:"driver_name"},[o("span",{class:"label-text font-medium"},"Nombre de Transportista")],-1)),te(o("input",{type:"text",id:"driver_name","onUpdate:modelValue":v[9]||(v[9]=C=>c.value.driver_name=C),placeholder:"Nombre completo",class:"input input-bordered w-full"},null,512),[[le,c.value.driver_name]])]),o("div",F0,[v[50]||(v[50]=o("label",{class:"label",for:"dni_driver"},[o("span",{class:"label-text font-medium"},"Cdula de Transportista")],-1)),te(o("input",{type:"text",id:"dni_driver","onUpdate:modelValue":v[10]||(v[10]=C=>c.value.dni_driver=C),placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,512),[[le,c.value.dni_driver]])]),o("div",V0,[v[51]||(v[51]=o("label",{class:"label",for:"driver_position"},[o("span",{class:"label-text font-medium"},"Cargo de Transportista")],-1)),te(o("input",{type:"text",id:"driver_position","onUpdate:modelValue":v[11]||(v[11]=C=>c.value.driver_position=C),placeholder:"Ej: Conductor",class:"input input-bordered w-full"},null,512),[[le,c.value.driver_position]])]),o("div",L0,[v[52]||(v[52]=o("label",{class:"label",for:"driver_date"},[o("span",{class:"label-text font-medium"},"Fecha de Transportista")],-1)),te(o("input",{type:"date",id:"driver_date","onUpdate:modelValue":v[12]||(v[12]=C=>c.value.driver_date=C),class:"input input-bordered w-full"},null,512),[[le,c.value.driver_date]])])])]),o("div",U0,[v[58]||(v[58]=o("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin de Contacto",-1)),o("div",B0,[o("div",H0,[v[54]||(v[54]=o("label",{class:"label",for:"contact_name"},[o("span",{class:"label-text font-medium"},"Nombre de Contacto")],-1)),te(o("input",{type:"text",id:"contact_name","onUpdate:modelValue":v[13]||(v[13]=C=>c.value.contact_name=C),placeholder:"Nombre completo",class:"input input-bordered w-full"},null,512),[[le,c.value.contact_name]])]),o("div",G0,[v[55]||(v[55]=o("label",{class:"label",for:"dni_contact"},[o("span",{class:"label-text font-medium"},"Cdula de Contacto")],-1)),te(o("input",{type:"text",id:"dni_contact","onUpdate:modelValue":v[14]||(v[14]=C=>c.value.dni_contact=C),placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,512),[[le,c.value.dni_contact]])]),o("div",W0,[v[56]||(v[56]=o("label",{class:"label",for:"contact_position"},[o("span",{class:"label-text font-medium"},"Cargo de Contacto")],-1)),te(o("input",{type:"text",id:"contact_position","onUpdate:modelValue":v[15]||(v[15]=C=>c.value.contact_position=C),placeholder:"Ej: Maquinista",class:"input input-bordered w-full"},null,512),[[le,c.value.contact_position]])]),o("div",q0,[v[57]||(v[57]=o("label",{class:"label",for:"date_contact"},[o("span",{class:"label-text font-medium"},"Fecha de Contacto")],-1)),te(o("input",{type:"date",id:"date_contact","onUpdate:modelValue":v[16]||(v[16]=C=>c.value.date_contact=C),class:"input input-bordered w-full"},null,512),[[le,c.value.date_contact]])])])]),o("div",K0,[o("h6",z0,[v[59]||(v[59]=Q(" Recursos del Proyecto ",-1)),o("span",J0,g(y.value.length)+" seleccionados",1)]),o("div",Q0,[o("table",Y0,[v[61]||(v[61]=o("thead",null,[o("tr",{class:"bg-gray-500 text-white"},[o("th",{class:"border border-gray-300 w-16 text-center"},[o("input",{type:"checkbox",class:"checkbox checkbox-sm"})]),o("th",{class:"border border-gray-300"},"#"),o("th",{class:"border border-gray-300"},"Cdigo"),o("th",{class:"border border-gray-300"},"Descripcin"),o("th",{class:"border border-gray-300 text-right"},"Costo")])],-1)),o("tbody",null,[(S(!0),R(re,null,Ee(_.value,(C,Z)=>(S(),R("tr",{key:C.id,class:fe(["cursor-pointer hover:bg-blue-50",{"bg-blue-100":C.selected}]),onClick:Le=>w(C.id)},[o("td",Z0,[o("input",{type:"checkbox",class:"checkbox checkbox-sm checkbox-primary",checked:C.selected,onClick:Rs(Le=>w(C.id),["stop"])},null,8,e_)]),o("td",t_,g(Z+1),1),o("td",s_,g(C.resource_item_code),1),o("td",o_,g(C.detailed_description),1),o("td",n_,"$"+g(C.cost),1)],10,X0))),128)),_.value.length===0?(S(),R("tr",r_,[...v[60]||(v[60]=[o("td",{colspan:"5",class:"text-center text-gray-500 py-8"},[o("i",{class:"las la-inbox text-4xl"}),o("p",null,"No hay recursos disponibles")],-1)])])):q("",!0)])])])]),o("div",l_,[v[65]||(v[65]=o("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},[Q(" Totales "),o("span",{class:"text-xs text-gray-500 ml-2"},"(Los valores se convierten automticamente)")],-1)),o("div",i_,[o("div",a_,[v[62]||(v[62]=o("label",{class:"label",for:"total_gallons"},[o("span",{class:"label-text font-medium"},"Total Galones")],-1)),te(o("input",{type:"number",id:"total_gallons","onUpdate:modelValue":v[17]||(v[17]=C=>c.value.total_gallons=C),onInput:Ne,min:"0",step:"0.0001",class:"input input-bordered w-full",placeholder:"0.0000"},null,544),[[le,c.value.total_gallons,void 0,{number:!0}]])]),o("div",c_,[v[63]||(v[63]=o("label",{class:"label",for:"total_barrels"},[o("span",{class:"label-text font-medium"},"Total Barriles")],-1)),te(o("input",{type:"number",id:"total_barrels","onUpdate:modelValue":v[18]||(v[18]=C=>c.value.total_barrels=C),onInput:Ie,min:"0",step:"0.0001",class:"input input-bordered w-full",placeholder:"0.0000"},null,544),[[le,c.value.total_barrels,void 0,{number:!0}]])]),o("div",d_,[v[64]||(v[64]=o("label",{class:"label",for:"total_cubic_meters"},[o("span",{class:"label-text font-medium"},"Total Metros Cbicos")],-1)),te(o("input",{type:"number",id:"total_cubic_meters","onUpdate:modelValue":v[19]||(v[19]=C=>c.value.total_cubic_meters=C),onInput:dt,min:"0",step:"0.0001",class:"input input-bordered w-full",placeholder:"0.0000"},null,544),[[le,c.value.total_cubic_meters,void 0,{number:!0}]])])])]),o("div",u_,[v[66]||(v[66]=o("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Notas",-1)),o("div",f_,[te(o("textarea",{id:"notes","onUpdate:modelValue":v[20]||(v[20]=C=>c.value.notes=C),rows:"4",placeholder:"Observaciones o notas adicionales...",class:"textarea textarea-bordered w-full"},null,512),[[le,c.value.notes]])])]),o("div",p_,[o("button",{type:"button",class:"btn btn-outline",onClick:ee,disabled:i.value},[...v[67]||(v[67]=[o("i",{class:"las la-times"},null,-1),Q(" Cancelar ",-1)])],8,h_),o("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(S(),R("i",g_)):(S(),R("i",m_)),Q(" "+g(i.value?"Guardando...":"Guardar Cadena de Custodia"),1)],8,b_)])],32),ve(Ps,{"is-open":d.value,title:`Detalles del Tcnico - ${me.value?.first_name} ${me.value?.last_name}`,size:"xl",onClose:v[21]||(v[21]=C=>d.value=!1)},{default:Dt(()=>[me.value?(S(),ct(ei,{key:0,technical:me.value},null,8,["technical"])):q("",!0)]),_:1},8,["is-open","title"]),ve(Ps,{"is-open":u.value,title:`Detalles del Vehculo - ${se.value?.no_plate}`,size:"xl",onClose:v[22]||(v[22]=C=>u.value=!1)},{default:Dt(()=>[se.value?(S(),ct(ti,{key:0,vehicle:se.value},null,8,["vehicle"])):q("",!0)]),_:1},8,["is-open","title"])]))}},v_={class:"w-[95%] mx-auto p-4"},y_={class:"bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300 p-6 mb-6"},x_={class:"flex justify-between items-center border-b-blue-500 border-b pb-3 mb-4"},w_={class:"text-xl font-semibold text-blue-500"},C_={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},E_={class:"bg-blue-50 rounded-lg p-4 border border-blue-200"},S_={class:"font-semibold text-blue-700 mb-3 flex items-center gap-2"},$_={class:"space-y-2 text-sm"},R_={class:"ml-2"},A_={class:"ml-2"},P_={class:"ml-2"},I_={class:"ml-2"},k_={class:"bg-sky-50 rounded-lg p-4 border border-sky-200"},T_={class:"space-y-2 text-sm"},O_={class:"ml-2 font-mono"},D_={class:"ml-2"},N_={class:"ml-2"},j_={class:"bg-white rounded-xl shadow-md border border-gray-200 p-6"},M_={class:"overflow-x-auto"},F_={class:"table table-zebra w-full"},V_={key:0},L_={class:"p-2 border border-gray-300 text-center"},U_={class:"p-2 border border-gray-300 font-mono"},B_={class:"p-2 border border-gray-300 text-center"},H_={class:"p-2 border border-gray-300 text-center font-mono"},G_={class:"p-2 border border-gray-300 text-center font-mono"},W_={class:"p-2 border border-gray-300 text-center font-semibold"},q_={class:"p-2 border border-gray-300"},K_={class:"text-xs"},z_={class:"font-semibold"},J_={class:"text-gray-500"},Q_={class:"p-2 border border-gray-300"},Y_={class:"text-xs"},X_={class:"font-semibold"},Z_={class:"text-gray-500"},ev={class:"p-2 border border-gray-300 text-right font-mono"},tv={class:"p-2 border border-gray-300 text-right font-mono"},sv={class:"p-2 border border-gray-300 text-right font-mono"},ov={class:"p-2 border border-gray-300 text-end"},nv={class:"flex gap-2 justify-end"},rv=["onClick"],lv={key:0},iv={class:"bg-gray-100 font-bold"},av={class:"p-2 border border-gray-300 text-center"},cv={class:"p-2 border border-gray-300 text-right font-mono"},dv={class:"p-2 border border-gray-300 text-right font-mono"},uv={class:"p-2 border border-gray-300 text-right font-mono"},fv={class:"stats shadow w-full mt-6"},pv={class:"stat"},hv={class:"stat-value text-primary"},bv={class:"stat"},mv={class:"stat-value text-info"},gv={class:"stat"},_v={class:"stat-value text-info"},vv={class:"stat"},yv={class:"stat-value text-info"},xv={class:"stat"},wv={class:"stat-value text-info"},Cv={__name:"CustodyChainSheet",setup(e){const t=Fd(),s=Ns(),n=ie({id:4,partner_name:"ABARCA QUEZADA CONSTRUCCIONES Y SERVICIOS AQSERVIC CIA. LTDA.",location:"PAMBIL",cardinal_point:"NORTE",contact_name:"Edison Guano",contact_phone:"0992936569",start_date:"2025-11-01",end_date:null,is_closed:!1}),r=ie({id:1,series_code:"PSL-PS-2025-1000",status:"IN_PROGRESS",issue_date:null,period_start:"2025-11-01",period_end:null,service_type:"ALQUILER Y MANTENIMIENTO",total_gallons:0,total_barrels:0,total_cubic_meters:0,subtotal:0,tax_amount:0,total:0,contact_reference:"Edison Guano",contact_phone_reference:"0992936569"}),l=ie([{id:1,series_code:"CC-2025-001",issue_date:"2025-11-05",start_time:"08:00",end_time:"16:00",time_duration:8,contact_name:"Juan Prez",dni_contact:"1234567890",contact_position:"Supervisor de Campo",date_contact:"2025-11-05",driver_name:"Carlos Lpez",dni_driver:"0987654321",driver_position:"Conductor",driver_date:"2025-11-05",total_gallons:450,total_barrels:12,total_cubic_meters:15},{id:2,series_code:"CC-2025-002",issue_date:"2025-11-06",start_time:"07:30",end_time:"15:30",time_duration:8,contact_name:"Mara Garca",dni_contact:"1122334455",contact_position:"Jefe de Proyecto",date_contact:"2025-11-06",driver_name:"Pedro Ramrez",dni_driver:"5544332211",driver_position:"Conductor",driver_date:"2025-11-06",total_gallons:380,total_barrels:10,total_cubic_meters:12},{id:3,series_code:"CC-2025-003",issue_date:"2025-11-07",start_time:"08:00",end_time:"17:00",time_duration:9,contact_name:"Luis Morales",dni_contact:"9988776655",contact_position:"Coordinador",date_contact:"2025-11-07",driver_name:"Jorge Vsquez",dni_driver:"6677889900",driver_position:"Conductor",driver_date:"2025-11-07",total_gallons:520,total_barrels:14,total_cubic_meters:18}]),a=w=>w?new Intl.DateTimeFormat("es-GT").format(new Date(w)):"N/A",i=w=>w||"N/A",d=w=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[w]||{text:w,class:"badge-ghost"},u=Y(()=>l.value.reduce((w,b)=>w+b.total_gallons,0)),c=Y(()=>l.value.reduce((w,b)=>w+b.total_barrels,0)),f=Y(()=>l.value.reduce((w,b)=>w+b.total_cubic_meters,0)),_=Y(()=>l.value.reduce((w,b)=>w+parseFloat(b.time_duration),0).toFixed(2)),y=()=>{s.push({name:"projects-detail"})},E=w=>{s.push({name:"custody-chain-form",params:{id:w}})},p=()=>{s.push({name:"custody-chain-form",query:{sheet_id:r.value.id}})};return Nt(()=>{console.log("Sheet ID:",t.query.sheet_id)}),(w,b)=>(S(),R("div",v_,[o("div",y_,[o("div",x_,[o("h1",w_,[b[0]||(b[0]=o("i",{class:"las la-link text-2xl"},null,-1)),Q(" Cadenas de Custodia - Planilla "+g(r.value.series_code),1)]),o("div",{class:"flex gap-3"},[o("button",{onClick:p,class:"btn btn-primary btn-sm"},[...b[1]||(b[1]=[o("i",{class:"las la-plus"},null,-1),Q(" Nueva Cadena de Custodia ",-1)])]),o("button",{onClick:y,class:"btn btn-outline btn-sm"},[...b[2]||(b[2]=[o("i",{class:"las la-arrow-left"},null,-1),Q(" Volver ",-1)])])])]),o("div",C_,[o("div",E_,[o("h3",S_,[b[3]||(b[3]=o("i",{class:"las la-building"},null,-1)),Q(" Informacin del Proyecto #"+g(n.value.id),1)]),o("div",$_,[o("div",null,[b[4]||(b[4]=o("span",{class:"font-medium"},"Cliente:",-1)),o("span",R_,g(n.value.partner_name),1)]),o("div",null,[b[5]||(b[5]=o("span",{class:"font-medium"},"Ubicacin:",-1)),o("span",A_,g(n.value.location)+" - "+g(n.value.cardinal_point),1)]),o("div",null,[b[6]||(b[6]=o("span",{class:"font-medium"},"Contacto:",-1)),o("span",P_,g(n.value.contact_name)+" ("+g(n.value.contact_phone)+")",1)]),o("div",null,[b[7]||(b[7]=o("span",{class:"font-medium"},"Fecha Inicio:",-1)),o("span",I_,g(a(n.value.start_date)),1)])])]),o("div",k_,[b[12]||(b[12]=o("h3",{class:"font-semibold text-sky-700 mb-3 flex items-center gap-2"},[o("i",{class:"las la-file-invoice"}),Q(" Informacin de la Planilla ")],-1)),o("div",T_,[o("div",null,[b[8]||(b[8]=o("span",{class:"font-medium"},"Serie:",-1)),o("span",O_,g(r.value.series_code),1)]),o("div",null,[b[9]||(b[9]=o("span",{class:"font-medium"},"Estado:",-1)),o("span",{class:fe(["ml-2 badge",d(r.value.status).class])},g(d(r.value.status).text),3)]),o("div",null,[b[10]||(b[10]=o("span",{class:"font-medium"},"Tipo Servicio:",-1)),o("span",D_,g(r.value.service_type),1)]),o("div",null,[b[11]||(b[11]=o("span",{class:"font-medium"},"Perodo:",-1)),o("span",N_,g(a(r.value.period_start))+" - "+g(r.value.period_end?a(r.value.period_end):"En curso"),1)])])])])]),o("div",j_,[b[19]||(b[19]=o("h2",{class:"font-semibold text-lg mb-4 flex items-center gap-2 text-gray-800"},[o("i",{class:"las la-list text-blue-600"}),Q(" Listado de Cadenas de Custodia ")],-1)),o("div",M_,[o("table",F_,[b[18]||(b[18]=o("thead",null,[o("tr",{class:"bg-gray-500 text-white"},[o("th",{class:"p-2 border border-gray-100 text-center"},"#"),o("th",{class:"p-2 border border-gray-100 text-center"},"Serie"),o("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Emisin"),o("th",{class:"p-2 border border-gray-100 text-center"},"Hora Inicio"),o("th",{class:"p-2 border border-gray-100 text-center"},"Hora Fin"),o("th",{class:"p-2 border border-gray-100 text-center"},"Horas"),o("th",{class:"p-2 border border-gray-100 text-center"},"Contacto"),o("th",{class:"p-2 border border-gray-100 text-center"},"Conductor"),o("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),o("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),o("th",{class:"p-2 border border-gray-100 text-center"},"M"),o("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),o("tbody",null,[l.value.length===0?(S(),R("tr",V_,[...b[13]||(b[13]=[o("td",{colspan:"12",class:"text-center text-gray-500 py-8"},[o("i",{class:"las la-inbox text-4xl"}),o("p",null,"No hay cadenas de custodia registradas para esta planilla")],-1)])])):(S(!0),R(re,{key:1},Ee(l.value,$=>(S(),R("tr",{key:$.id},[o("td",L_,g($.id),1),o("td",U_,g($.series_code),1),o("td",B_,g(a($.issue_date)),1),o("td",H_,g(i($.start_time)),1),o("td",G_,g(i($.end_time)),1),o("td",W_,g($.time_duration),1),o("td",q_,[o("div",K_,[o("div",z_,g($.contact_name),1),o("div",J_,g($.contact_position),1)])]),o("td",Q_,[o("div",Y_,[o("div",X_,g($.driver_name),1),o("div",Z_,"CI: "+g($.dni_driver),1)])]),o("td",ev,g($.total_gallons),1),o("td",tv,g($.total_barrels),1),o("td",sv,g($.total_cubic_meters),1),o("td",ov,[o("div",nv,[o("button",{onClick:j=>E($.id),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Ver detalle"},[...b[14]||(b[14]=[o("i",{class:"las la-eye"},null,-1),Q(" VER ",-1)])],8,rv)])])]))),128))]),l.value.length>0?(S(),R("tfoot",lv,[o("tr",iv,[b[15]||(b[15]=o("td",{colspan:"5",class:"p-2 border border-gray-300 text-right"},"TOTALES:",-1)),o("td",av,g(_.value)+" hrs",1),b[16]||(b[16]=o("td",{colspan:"2",class:"p-2 border border-gray-300"},null,-1)),o("td",cv,g(u.value),1),o("td",dv,g(c.value),1),o("td",uv,g(f.value),1),b[17]||(b[17]=o("td",{class:"p-2 border border-gray-300"},null,-1))])])):q("",!0)])])]),o("div",fv,[o("div",pv,[b[20]||(b[20]=o("div",{class:"stat-title"},"Total Cadenas",-1)),o("div",hv,g(l.value.length),1),b[21]||(b[21]=o("div",{class:"stat-desc"},"Registradas",-1))]),o("div",bv,[b[22]||(b[22]=o("div",{class:"stat-title"},"Horas Totales",-1)),o("div",mv,g(_.value),1),b[23]||(b[23]=o("div",{class:"stat-desc"},"Horas trabajadas",-1))]),o("div",gv,[b[24]||(b[24]=o("div",{class:"stat-title"},"Total Galones",-1)),o("div",_v,g(u.value.toLocaleString()),1),b[25]||(b[25]=o("div",{class:"stat-desc"},"Acumulados",-1))]),o("div",vv,[b[26]||(b[26]=o("div",{class:"stat-title"},"Total Barriles",-1)),o("div",yv,g(c.value),1),b[27]||(b[27]=o("div",{class:"stat-desc"},"Acumulados",-1))]),o("div",xv,[b[28]||(b[28]=o("div",{class:"stat-title"},"Total M",-1)),o("div",wv,g(f.value),1),b[29]||(b[29]=o("div",{class:"stat-desc"},"Acumulados",-1))])])]))}},Ev=Md({history:gd("/"),routes:[{path:"/",redirect:"/project"},{path:"/project",name:"projects-detail",component:eh},{path:"/resource/form",name:"resource-form",component:Mh},{path:"/custody-chain",name:"custody-chain",component:Ug},{path:"/custody-chain/form",name:"custody-chain-form",component:__},{path:"/custody-chain/sheet/:id",name:"custody-chain-sheet",component:Cv}]}),_n=Ec(Vd);_n.use(Rc());_n.use(Ev);_n.mount("#vue-app");

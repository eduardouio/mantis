(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function Yn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const we={},Zt=[],ft=()=>{},yr=()=>!1,sn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zn=e=>e.startsWith("onUpdate:"),qe=Object.assign,Qn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ra=Object.prototype.hasOwnProperty,ve=(e,t)=>ra.call(e,t),Z=Array.isArray,es=e=>Ps(e)==="[object Map]",as=e=>Ps(e)==="[object Set]",Co=e=>Ps(e)==="[object Date]",le=e=>typeof e=="function",Pe=e=>typeof e=="string",nt=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",xr=e=>(xe(e)||le(e))&&le(e.then)&&le(e.catch),wr=Object.prototype.toString,Ps=e=>wr.call(e),la=e=>Ps(e).slice(8,-1),Cr=e=>Ps(e)==="[object Object]",Jn=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hs=Yn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nn=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},aa=/-\w/g,Ft=nn(e=>e.replace(aa,t=>t.slice(1).toUpperCase())),ia=/\B([A-Z])/g,Kt=nn(e=>e.replace(ia,"-$1").toLowerCase()),$r=nn(e=>e.charAt(0).toUpperCase()+e.slice(1)),_n=nn(e=>e?`on${$r(e)}`:""),Mt=(e,t)=>!Object.is(e,t),qs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Er=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},on=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $o;const rn=()=>$o||($o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xn(e){if(Z(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],r=Pe(o)?fa(o):Xn(o);if(r)for(const l in r)t[l]=r[l]}return t}else if(Pe(e)||xe(e))return e}const ca=/;(?![^(]*\))/g,da=/:([^]+)/,ua=/\/\*[^]*?\*\//g;function fa(e){const t={};return e.replace(ua,"").split(ca).forEach(s=>{if(s){const o=s.split(da);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function re(e){let t="";if(Pe(e))t=e;else if(Z(e))for(let s=0;s<e.length;s++){const o=re(e[s]);o&&(t+=o+" ")}else if(xe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const pa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ha=Yn(pa);function Sr(e){return!!e||e===""}function ba(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=Is(e[o],t[o]);return s}function Is(e,t){if(e===t)return!0;let s=Co(e),o=Co(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=nt(e),o=nt(t),s||o)return e===t;if(s=Z(e),o=Z(t),s||o)return s&&o?ba(e,t):!1;if(s=xe(e),o=xe(t),s||o){if(!s||!o)return!1;const r=Object.keys(e).length,l=Object.keys(t).length;if(r!==l)return!1;for(const a in e){const i=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(i&&!c||!i&&c||!Is(e[a],t[a]))return!1}}return String(e)===String(t)}function Zn(e,t){return e.findIndex(s=>Is(s,t))}const Rr=e=>!!(e&&e.__v_isRef===!0),m=e=>Pe(e)?e:e==null?"":Z(e)||xe(e)&&(e.toString===wr||!le(e.toString))?Rr(e)?m(e.value):JSON.stringify(e,kr,2):String(e),kr=(e,t)=>Rr(t)?kr(e,t.value):es(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,r],l)=>(s[gn(o,l)+" =>"]=r,s),{})}:as(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>gn(s))}:nt(t)?gn(t):xe(t)&&!Z(t)&&!Cr(t)?String(t):t,gn=(e,t="")=>{var s;return nt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let Fe;class Ar{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!t&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Fe;try{return Fe=this,t()}finally{Fe=s}}}on(){++this._on===1&&(this.prevScope=Fe,Fe=this)}off(){this._on>0&&--this._on===0&&(Fe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Dr(e){return new Ar(e)}function Or(){return Fe}function ma(e,t=!1){Fe&&Fe.cleanups.push(e)}let Se;const vn=new WeakSet;class Pr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vn.has(this)&&(vn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Eo(this),Nr(this);const t=Se,s=st;Se=this,st=!0;try{return this.fn()}finally{jr(this),Se=t,st=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)so(t);this.deps=this.depsTail=void 0,Eo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){On(this)&&this.run()}get dirty(){return On(this)}}let Ir=0,bs,ms;function Tr(e,t=!1){if(e.flags|=8,t){e.next=ms,ms=e;return}e.next=bs,bs=e}function eo(){Ir++}function to(){if(--Ir>0)return;if(ms){let t=ms;for(ms=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;bs;){let t=bs;for(bs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function Nr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function jr(e){let t,s=e.depsTail,o=s;for(;o;){const r=o.prevDep;o.version===-1?(o===s&&(s=r),so(o),_a(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=s}function On(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Mr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Mr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ws)||(e.globalVersion=ws,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!On(e))))return;e.flags|=2;const t=e.dep,s=Se,o=st;Se=e,st=!0;try{Nr(e);const r=e.fn(e._value);(t.version===0||Mt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Se=s,st=o,jr(e),e.flags&=-3}}function so(e,t=!1){const{dep:s,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)so(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function _a(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let st=!0;const Fr=[];function Et(){Fr.push(st),st=!1}function St(){const e=Fr.pop();st=e===void 0?!0:e}function Eo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Se;Se=void 0;try{t()}finally{Se=s}}}let ws=0;class ga{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class no{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Se||!st||Se===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Se)s=this.activeLink=new ga(Se,this),Se.deps?(s.prevDep=Se.depsTail,Se.depsTail.nextDep=s,Se.depsTail=s):Se.deps=Se.depsTail=s,Vr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Se.depsTail,s.nextDep=void 0,Se.depsTail.nextDep=s,Se.depsTail=s,Se.deps===s&&(Se.deps=o)}return s}trigger(t){this.version++,ws++,this.notify(t)}notify(t){eo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{to()}}}function Vr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Vr(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ks=new WeakMap,Gt=Symbol(""),Pn=Symbol(""),Cs=Symbol("");function Ue(e,t,s){if(st&&Se){let o=Ks.get(e);o||Ks.set(e,o=new Map);let r=o.get(s);r||(o.set(s,r=new no),r.map=o,r.key=s),r.track()}}function yt(e,t,s,o,r,l){const a=Ks.get(e);if(!a){ws++;return}const i=c=>{c&&c.trigger()};if(eo(),t==="clear")a.forEach(i);else{const c=Z(e),p=c&&Jn(s);if(c&&s==="length"){const f=Number(o);a.forEach((h,u)=>{(u==="length"||u===Cs||!nt(u)&&u>=f)&&i(h)})}else switch((s!==void 0||a.has(void 0))&&i(a.get(s)),p&&i(a.get(Cs)),t){case"add":c?p&&i(a.get("length")):(i(a.get(Gt)),es(e)&&i(a.get(Pn)));break;case"delete":c||(i(a.get(Gt)),es(e)&&i(a.get(Pn)));break;case"set":es(e)&&i(a.get(Gt));break}}to()}function va(e,t){const s=Ks.get(e);return s&&s.get(t)}function zt(e){const t=he(e);return t===e?t:(Ue(t,"iterate",Cs),Ze(e)?t:t.map(Me))}function ln(e){return Ue(e=he(e),"iterate",Cs),e}const ya={__proto__:null,[Symbol.iterator](){return yn(this,Symbol.iterator,Me)},concat(...e){return zt(this).concat(...e.map(t=>Z(t)?zt(t):t))},entries(){return yn(this,"entries",e=>(e[1]=Me(e[1]),e))},every(e,t){return _t(this,"every",e,t,void 0,arguments)},filter(e,t){return _t(this,"filter",e,t,s=>s.map(Me),arguments)},find(e,t){return _t(this,"find",e,t,Me,arguments)},findIndex(e,t){return _t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _t(this,"findLast",e,t,Me,arguments)},findLastIndex(e,t){return _t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _t(this,"forEach",e,t,void 0,arguments)},includes(...e){return xn(this,"includes",e)},indexOf(...e){return xn(this,"indexOf",e)},join(e){return zt(this).join(e)},lastIndexOf(...e){return xn(this,"lastIndexOf",e)},map(e,t){return _t(this,"map",e,t,void 0,arguments)},pop(){return ds(this,"pop")},push(...e){return ds(this,"push",e)},reduce(e,...t){return So(this,"reduce",e,t)},reduceRight(e,...t){return So(this,"reduceRight",e,t)},shift(){return ds(this,"shift")},some(e,t){return _t(this,"some",e,t,void 0,arguments)},splice(...e){return ds(this,"splice",e)},toReversed(){return zt(this).toReversed()},toSorted(e){return zt(this).toSorted(e)},toSpliced(...e){return zt(this).toSpliced(...e)},unshift(...e){return ds(this,"unshift",e)},values(){return yn(this,"values",Me)}};function yn(e,t,s){const o=ln(e),r=o[t]();return o!==e&&!Ze(e)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.done||(l.value=s(l.value)),l}),r}const xa=Array.prototype;function _t(e,t,s,o,r,l){const a=ln(e),i=a!==e&&!Ze(e),c=a[t];if(c!==xa[t]){const h=c.apply(e,l);return i?Me(h):h}let p=s;a!==e&&(i?p=function(h,u){return s.call(this,Me(h),u,e)}:s.length>2&&(p=function(h,u){return s.call(this,h,u,e)}));const f=c.call(a,p,o);return i&&r?r(f):f}function So(e,t,s,o){const r=ln(e);let l=s;return r!==e&&(Ze(e)?s.length>3&&(l=function(a,i,c){return s.call(this,a,i,c,e)}):l=function(a,i,c){return s.call(this,a,Me(i),c,e)}),r[t](l,...o)}function xn(e,t,s){const o=he(e);Ue(o,"iterate",Cs);const r=o[t](...s);return(r===-1||r===!1)&&lo(s[0])?(s[0]=he(s[0]),o[t](...s)):r}function ds(e,t,s=[]){Et(),eo();const o=he(e)[t].apply(e,s);return to(),St(),o}const wa=Yn("__proto__,__v_isRef,__isVue"),Ur=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nt));function Ca(e){nt(e)||(e=String(e));const t=he(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class Lr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return l;if(s==="__v_raw")return o===(r?l?Ia:Gr:l?Hr:Br).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const a=Z(t);if(!r){let c;if(a&&(c=ya[s]))return c;if(s==="hasOwnProperty")return Ca}const i=Reflect.get(t,s,De(t)?t:o);if((nt(s)?Ur.has(s):wa(s))||(r||Ue(t,"get",s),l))return i;if(De(i)){const c=a&&Jn(s)?i:i.value;return r&&xe(c)?Tn(c):c}return xe(i)?r?Tn(i):Ts(i):i}}class qr extends Lr{constructor(t=!1){super(!1,t)}set(t,s,o,r){let l=t[s];if(!this._isShallow){const c=Vt(l);if(!Ze(o)&&!Vt(o)&&(l=he(l),o=he(o)),!Z(t)&&De(l)&&!De(o))return c||(l.value=o),!0}const a=Z(t)&&Jn(s)?Number(s)<t.length:ve(t,s),i=Reflect.set(t,s,o,De(t)?t:r);return t===he(r)&&(a?Mt(o,l)&&yt(t,"set",s,o):yt(t,"add",s,o)),i}deleteProperty(t,s){const o=ve(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&o&&yt(t,"delete",s,void 0),r}has(t,s){const o=Reflect.has(t,s);return(!nt(s)||!Ur.has(s))&&Ue(t,"has",s),o}ownKeys(t){return Ue(t,"iterate",Z(t)?"length":Gt),Reflect.ownKeys(t)}}class $a extends Lr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ea=new qr,Sa=new $a,Ra=new qr(!0);const In=e=>e,Fs=e=>Reflect.getPrototypeOf(e);function ka(e,t,s){return function(...o){const r=this.__v_raw,l=he(r),a=es(l),i=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,p=r[e](...o),f=s?In:t?Ys:Me;return!t&&Ue(l,"iterate",c?Pn:Gt),{next(){const{value:h,done:u}=p.next();return u?{value:h,done:u}:{value:i?[f(h[0]),f(h[1])]:f(h),done:u}},[Symbol.iterator](){return this}}}}function Vs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Aa(e,t){const s={get(r){const l=this.__v_raw,a=he(l),i=he(r);e||(Mt(r,i)&&Ue(a,"get",r),Ue(a,"get",i));const{has:c}=Fs(a),p=t?In:e?Ys:Me;if(c.call(a,r))return p(l.get(r));if(c.call(a,i))return p(l.get(i));l!==a&&l.get(r)},get size(){const r=this.__v_raw;return!e&&Ue(he(r),"iterate",Gt),r.size},has(r){const l=this.__v_raw,a=he(l),i=he(r);return e||(Mt(r,i)&&Ue(a,"has",r),Ue(a,"has",i)),r===i?l.has(r):l.has(r)||l.has(i)},forEach(r,l){const a=this,i=a.__v_raw,c=he(i),p=t?In:e?Ys:Me;return!e&&Ue(c,"iterate",Gt),i.forEach((f,h)=>r.call(l,p(f),p(h),a))}};return qe(s,e?{add:Vs("add"),set:Vs("set"),delete:Vs("delete"),clear:Vs("clear")}:{add(r){!t&&!Ze(r)&&!Vt(r)&&(r=he(r));const l=he(this);return Fs(l).has.call(l,r)||(l.add(r),yt(l,"add",r,r)),this},set(r,l){!t&&!Ze(l)&&!Vt(l)&&(l=he(l));const a=he(this),{has:i,get:c}=Fs(a);let p=i.call(a,r);p||(r=he(r),p=i.call(a,r));const f=c.call(a,r);return a.set(r,l),p?Mt(l,f)&&yt(a,"set",r,l):yt(a,"add",r,l),this},delete(r){const l=he(this),{has:a,get:i}=Fs(l);let c=a.call(l,r);c||(r=he(r),c=a.call(l,r)),i&&i.call(l,r);const p=l.delete(r);return c&&yt(l,"delete",r,void 0),p},clear(){const r=he(this),l=r.size!==0,a=r.clear();return l&&yt(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=ka(r,e,t)}),s}function oo(e,t){const s=Aa(e,t);return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(ve(s,r)&&r in o?s:o,r,l)}const Da={get:oo(!1,!1)},Oa={get:oo(!1,!0)},Pa={get:oo(!0,!1)};const Br=new WeakMap,Hr=new WeakMap,Gr=new WeakMap,Ia=new WeakMap;function Ta(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Na(e){return e.__v_skip||!Object.isExtensible(e)?0:Ta(la(e))}function Ts(e){return Vt(e)?e:ro(e,!1,Ea,Da,Br)}function Wr(e){return ro(e,!1,Ra,Oa,Hr)}function Tn(e){return ro(e,!0,Sa,Pa,Gr)}function ro(e,t,s,o,r){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Na(e);if(l===0)return e;const a=r.get(e);if(a)return a;const i=new Proxy(e,l===2?o:s);return r.set(e,i),i}function Ct(e){return Vt(e)?Ct(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function Ze(e){return!!(e&&e.__v_isShallow)}function lo(e){return e?!!e.__v_raw:!1}function he(e){const t=e&&e.__v_raw;return t?he(t):e}function ao(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&Er(e,"__v_skip",!0),e}const Me=e=>xe(e)?Ts(e):e,Ys=e=>xe(e)?Tn(e):e;function De(e){return e?e.__v_isRef===!0:!1}function ie(e){return Kr(e,!1)}function ja(e){return Kr(e,!0)}function Kr(e,t){return De(e)?e:new Ma(e,t)}class Ma{constructor(t,s){this.dep=new no,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:he(t),this._value=s?t:Me(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||Ze(t)||Vt(t);t=o?t:he(t),Mt(t,s)&&(this._rawValue=t,this._value=o?t:Me(t),this.dep.trigger())}}function be(e){return De(e)?e.value:e}const Fa={get:(e,t,s)=>t==="__v_raw"?e:be(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const r=e[t];return De(r)&&!De(s)?(r.value=s,!0):Reflect.set(e,t,s,o)}};function Yr(e){return Ct(e)?e:new Proxy(e,Fa)}function Va(e){const t=Z(e)?new Array(e.length):{};for(const s in e)t[s]=zr(e,s);return t}class Ua{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return va(he(this._object),this._key)}}class La{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function qa(e,t,s){return De(e)?e:le(e)?new La(e):xe(e)&&arguments.length>1?zr(e,t,s):ie(e)}function zr(e,t,s){const o=e[t];return De(o)?o:new Ua(e,t,s)}class Ba{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new no(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ws-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Se!==this)return Tr(this,!0),!0}get value(){const t=this.dep.track();return Mr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ha(e,t,s=!1){let o,r;return le(e)?o=e:(o=e.get,r=e.set),new Ba(o,r,s)}const Us={},zs=new WeakMap;let Bt;function Ga(e,t=!1,s=Bt){if(s){let o=zs.get(s);o||zs.set(s,o=[]),o.push(e)}}function Wa(e,t,s=we){const{immediate:o,deep:r,once:l,scheduler:a,augmentJob:i,call:c}=s,p=q=>r?q:Ze(q)||r===!1||r===0?xt(q,1):xt(q);let f,h,u,d,$=!1,g=!1;if(De(e)?(h=()=>e.value,$=Ze(e)):Ct(e)?(h=()=>p(e),$=!0):Z(e)?(g=!0,$=e.some(q=>Ct(q)||Ze(q)),h=()=>e.map(q=>{if(De(q))return q.value;if(Ct(q))return p(q);if(le(q))return c?c(q,2):q()})):le(e)?t?h=c?()=>c(e,2):e:h=()=>{if(u){Et();try{u()}finally{St()}}const q=Bt;Bt=f;try{return c?c(e,3,[d]):e(d)}finally{Bt=q}}:h=ft,t&&r){const q=h,H=r===!0?1/0:r;h=()=>xt(q(),H)}const R=Or(),N=()=>{f.stop(),R&&R.active&&Qn(R.effects,f)};if(l&&t){const q=t;t=(...H)=>{q(...H),N()}}let P=g?new Array(e.length).fill(Us):Us;const F=q=>{if(!(!(f.flags&1)||!f.dirty&&!q))if(t){const H=f.run();if(r||$||(g?H.some((y,x)=>Mt(y,P[x])):Mt(H,P))){u&&u();const y=Bt;Bt=f;try{const x=[H,P===Us?void 0:g&&P[0]===Us?[]:P,d];P=H,c?c(t,3,x):t(...x)}finally{Bt=y}}}else f.run()};return i&&i(F),f=new Pr(h),f.scheduler=a?()=>a(F,!1):F,d=q=>Ga(q,!1,f),u=f.onStop=()=>{const q=zs.get(f);if(q){if(c)c(q,4);else for(const H of q)H();zs.delete(f)}},t?o?F(!0):P=f.run():a?a(F.bind(null,!0),!0):f.run(),N.pause=f.pause.bind(f),N.resume=f.resume.bind(f),N.stop=N,N}function xt(e,t=1/0,s){if(t<=0||!xe(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,De(e))xt(e.value,t,s);else if(Z(e))for(let o=0;o<e.length;o++)xt(e[o],t,s);else if(as(e)||es(e))e.forEach(o=>{xt(o,t,s)});else if(Cr(e)){for(const o in e)xt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&xt(e[o],t,s)}return e}function Ns(e,t,s,o){try{return o?e(...o):e()}catch(r){an(r,t,s)}}function pt(e,t,s,o){if(le(e)){const r=Ns(e,t,s,o);return r&&xr(r)&&r.catch(l=>{an(l,t,s)}),r}if(Z(e)){const r=[];for(let l=0;l<e.length;l++)r.push(pt(e[l],t,s,o));return r}}function an(e,t,s,o=!0){const r=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||we;if(t){let i=t.parent;const c=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const f=i.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,c,p)===!1)return}i=i.parent}if(l){Et(),Ns(l,null,10,[e,c,p]),St();return}}Ka(e,s,r,o,a)}function Ka(e,t,s,o=!0,r=!1){if(r)throw e;console.error(e)}const Ge=[];let dt=-1;const ts=[];let Ot=null,Jt=0;const Qr=Promise.resolve();let Qs=null;function cn(e){const t=Qs||Qr;return e?t.then(this?e.bind(this):e):t}function Ya(e){let t=dt+1,s=Ge.length;for(;t<s;){const o=t+s>>>1,r=Ge[o],l=$s(r);l<e||l===e&&r.flags&2?t=o+1:s=o}return t}function io(e){if(!(e.flags&1)){const t=$s(e),s=Ge[Ge.length-1];!s||!(e.flags&2)&&t>=$s(s)?Ge.push(e):Ge.splice(Ya(t),0,e),e.flags|=1,Jr()}}function Jr(){Qs||(Qs=Qr.then(Zr))}function za(e){Z(e)?ts.push(...e):Ot&&e.id===-1?Ot.splice(Jt+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),Jr()}function Ro(e,t,s=dt+1){for(;s<Ge.length;s++){const o=Ge[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ge.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Xr(e){if(ts.length){const t=[...new Set(ts)].sort((s,o)=>$s(s)-$s(o));if(ts.length=0,Ot){Ot.push(...t);return}for(Ot=t,Jt=0;Jt<Ot.length;Jt++){const s=Ot[Jt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ot=null,Jt=0}}const $s=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Zr(e){try{for(dt=0;dt<Ge.length;dt++){const t=Ge[dt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;dt<Ge.length;dt++){const t=Ge[dt];t&&(t.flags&=-2)}dt=-1,Ge.length=0,Xr(),Qs=null,(Ge.length||ts.length)&&Zr()}}let Le=null,el=null;function Js(e){const t=Le;return Le=e,el=e&&e.type.__scopeId||null,t}function Ut(e,t=Le,s){if(!t||e._n)return e;const o=(...r)=>{o._d&&en(-1);const l=Js(t);let a;try{a=e(...r)}finally{Js(l),o._d&&en(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function ne(e,t){if(Le===null)return e;const s=pn(Le),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[l,a,i,c=we]=t[r];l&&(le(l)&&(l={mounted:l,updated:l}),l.deep&&xt(a),o.push({dir:l,instance:s,value:a,oldValue:void 0,arg:i,modifiers:c}))}return e}function Lt(e,t,s,o){const r=e.dirs,l=t&&t.dirs;for(let a=0;a<r.length;a++){const i=r[a];l&&(i.oldValue=l[a].value);let c=i.dir[o];c&&(Et(),pt(c,s,8,[e.el,i,e,t]),St())}}const Qa=Symbol("_vte"),Ja=e=>e.__isTeleport,Xa=Symbol("_leaveCb");function co(e,t){e.shapeFlag&6&&e.component?(e.transition=t,co(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function tl(e,t){return le(e)?qe({name:e.name},t,{setup:e}):e}function sl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Xs=new WeakMap;function _s(e,t,s,o,r=!1){if(Z(e)){e.forEach(($,g)=>_s($,t&&(Z(t)?t[g]:t),s,o,r));return}if(ss(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&_s(e,t,s,o.component.subTree);return}const l=o.shapeFlag&4?pn(o.component):o.el,a=r?null:l,{i,r:c}=e,p=t&&t.r,f=i.refs===we?i.refs={}:i.refs,h=i.setupState,u=he(h),d=h===we?yr:$=>ve(u,$);if(p!=null&&p!==c){if(ko(t),Pe(p))f[p]=null,d(p)&&(h[p]=null);else if(De(p)){p.value=null;const $=t;$.k&&(f[$.k]=null)}}if(le(c))Ns(c,i,12,[a,f]);else{const $=Pe(c),g=De(c);if($||g){const R=()=>{if(e.f){const N=$?d(c)?h[c]:f[c]:c.value;if(r)Z(N)&&Qn(N,l);else if(Z(N))N.includes(l)||N.push(l);else if($)f[c]=[l],d(c)&&(h[c]=f[c]);else{const P=[l];c.value=P,e.k&&(f[e.k]=P)}}else $?(f[c]=a,d(c)&&(h[c]=a)):g&&(c.value=a,e.k&&(f[e.k]=a))};if(a){const N=()=>{R(),Xs.delete(e)};N.id=-1,Xs.set(e,N),Qe(N,s)}else ko(e),R()}}}function ko(e){const t=Xs.get(e);t&&(t.flags|=8,Xs.delete(e))}rn().requestIdleCallback;rn().cancelIdleCallback;const ss=e=>!!e.type.__asyncLoader,nl=e=>e.type.__isKeepAlive;function Za(e,t){ol(e,"a",t)}function ei(e,t){ol(e,"da",t)}function ol(e,t,s=We){const o=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(dn(t,o,s),s){let r=s.parent;for(;r&&r.parent;)nl(r.parent.vnode)&&ti(o,t,s,r),r=r.parent}}function ti(e,t,s,o){const r=dn(t,e,o,!0);rl(()=>{Qn(o[t],r)},s)}function dn(e,t,s=We,o=!1){if(s){const r=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...a)=>{Et();const i=js(s),c=pt(t,s,e,a);return i(),St(),c});return o?r.unshift(l):r.push(l),l}}const kt=e=>(t,s=We)=>{(!Rs||e==="sp")&&dn(e,(...o)=>t(...o),s)},si=kt("bm"),bt=kt("m"),ni=kt("bu"),oi=kt("u"),ri=kt("bum"),rl=kt("um"),li=kt("sp"),ai=kt("rtg"),ii=kt("rtc");function ci(e,t=We){dn("ec",e,t)}const di=Symbol.for("v-ndc");function _e(e,t,s,o){let r;const l=s,a=Z(e);if(a||Pe(e)){const i=a&&Ct(e);let c=!1,p=!1;i&&(c=!Ze(e),p=Vt(e),e=ln(e)),r=new Array(e.length);for(let f=0,h=e.length;f<h;f++)r[f]=t(c?p?Ys(Me(e[f])):Me(e[f]):e[f],f,void 0,l)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,l)}else if(xe(e))if(e[Symbol.iterator])r=Array.from(e,(i,c)=>t(i,c,void 0,l));else{const i=Object.keys(e);r=new Array(i.length);for(let c=0,p=i.length;c<p;c++){const f=i[c];r[c]=t(e[f],f,c,l)}}else r=[];return r}function ui(e,t,s={},o,r){if(Le.ce||Le.parent&&ss(Le.parent)&&Le.parent.ce){const p=Object.keys(s).length>0;return C(),ht(oe,null,[Ce("slot",s,o)],p?-2:64)}let l=e[t];l&&l._c&&(l._d=!1),C();const a=l&&ll(l(s)),i=s.key||a&&a.key,c=ht(oe,{key:(i&&!nt(i)?i:`_${t}`)+(!a&&o?"_fb":"")},a||[],a&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),l&&l._c&&(l._d=!0),c}function ll(e){return e.some(t=>Ss(t)?!(t.type===Rt||t.type===oe&&!ll(t.children)):!0)?e:null}const Nn=e=>e?Rl(e)?pn(e):Nn(e.parent):null,gs=qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nn(e.parent),$root:e=>Nn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>{io(e.update)}),$nextTick:e=>e.n||(e.n=cn.bind(e.proxy)),$watch:e=>Ii.bind(e)}),wn=(e,t)=>e!==we&&!e.__isScriptSetup&&ve(e,t),fi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:r,props:l,accessCache:a,type:i,appContext:c}=e;let p;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return o[t];case 2:return r[t];case 4:return s[t];case 3:return l[t]}else{if(wn(o,t))return a[t]=1,o[t];if(r!==we&&ve(r,t))return a[t]=2,r[t];if((p=e.propsOptions[0])&&ve(p,t))return a[t]=3,l[t];if(s!==we&&ve(s,t))return a[t]=4,s[t];jn&&(a[t]=0)}}const f=gs[t];let h,u;if(f)return t==="$attrs"&&Ue(e.attrs,"get",""),f(e);if((h=i.__cssModules)&&(h=h[t]))return h;if(s!==we&&ve(s,t))return a[t]=4,s[t];if(u=c.config.globalProperties,ve(u,t))return u[t]},set({_:e},t,s){const{data:o,setupState:r,ctx:l}=e;return wn(r,t)?(r[t]=s,!0):o!==we&&ve(o,t)?(o[t]=s,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:r,propsOptions:l,type:a}},i){let c,p;return!!(s[i]||e!==we&&i[0]!=="$"&&ve(e,i)||wn(t,i)||(c=l[0])&&ve(c,i)||ve(o,i)||ve(gs,i)||ve(r.config.globalProperties,i)||(p=a.__cssModules)&&p[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ao(e){return Z(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let jn=!0;function pi(e){const t=il(e),s=e.proxy,o=e.ctx;jn=!1,t.beforeCreate&&Do(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:a,watch:i,provide:c,inject:p,created:f,beforeMount:h,mounted:u,beforeUpdate:d,updated:$,activated:g,deactivated:R,beforeDestroy:N,beforeUnmount:P,destroyed:F,unmounted:q,render:H,renderTracked:y,renderTriggered:x,errorCaptured:w,serverPrefetch:M,expose:T,inheritAttrs:ke,components:ce,directives:me,filters:Ae}=t;if(p&&hi(p,o,null),a)for(const te in a){const ae=a[te];le(ae)&&(o[te]=ae.bind(s))}if(r){const te=r.call(s,s);xe(te)&&(e.data=Ts(te))}if(jn=!0,l)for(const te in l){const ae=l[te],tt=le(ae)?ae.bind(s,s):le(ae.get)?ae.get.bind(s,s):ft,rt=!le(ae)&&le(ae.set)?ae.set.bind(s):ft,Xe=Q({get:tt,set:rt});Object.defineProperty(o,te,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:Ne=>Xe.value=Ne})}if(i)for(const te in i)al(i[te],o,s,te);if(c){const te=le(c)?c.call(s):c;Reflect.ownKeys(te).forEach(ae=>{Bs(ae,te[ae])})}f&&Do(f,e,"c");function $e(te,ae){Z(ae)?ae.forEach(tt=>te(tt.bind(s))):ae&&te(ae.bind(s))}if($e(si,h),$e(bt,u),$e(ni,d),$e(oi,$),$e(Za,g),$e(ei,R),$e(ci,w),$e(ii,y),$e(ai,x),$e(ri,P),$e(rl,q),$e(li,M),Z(T))if(T.length){const te=e.exposed||(e.exposed={});T.forEach(ae=>{Object.defineProperty(te,ae,{get:()=>s[ae],set:tt=>s[ae]=tt,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===ft&&(e.render=H),ke!=null&&(e.inheritAttrs=ke),ce&&(e.components=ce),me&&(e.directives=me),M&&sl(e)}function hi(e,t,s=ft){Z(e)&&(e=Mn(e));for(const o in e){const r=e[o];let l;xe(r)?"default"in r?l=et(r.from||o,r.default,!0):l=et(r.from||o):l=et(r),De(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):t[o]=l}}function Do(e,t,s){pt(Z(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function al(e,t,s,o){let r=o.includes(".")?xl(s,o):()=>s[o];if(Pe(e)){const l=t[e];le(l)&&je(r,l)}else if(le(e))je(r,e.bind(s));else if(xe(e))if(Z(e))e.forEach(l=>al(l,t,s,o));else{const l=le(e.handler)?e.handler.bind(s):t[e.handler];le(l)&&je(r,l,e)}}function il(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,i=l.get(t);let c;return i?c=i:!r.length&&!s&&!o?c=t:(c={},r.length&&r.forEach(p=>Zs(c,p,a,!0)),Zs(c,t,a)),xe(t)&&l.set(t,c),c}function Zs(e,t,s,o=!1){const{mixins:r,extends:l}=t;l&&Zs(e,l,s,!0),r&&r.forEach(a=>Zs(e,a,s,!0));for(const a in t)if(!(o&&a==="expose")){const i=bi[a]||s&&s[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const bi={data:Oo,props:Po,emits:Po,methods:ps,computed:ps,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:ps,directives:ps,watch:_i,provide:Oo,inject:mi};function Oo(e,t){return t?e?function(){return qe(le(e)?e.call(this,this):e,le(t)?t.call(this,this):t)}:t:e}function mi(e,t){return ps(Mn(e),Mn(t))}function Mn(e){if(Z(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Be(e,t){return e?[...new Set([].concat(e,t))]:t}function ps(e,t){return e?qe(Object.create(null),e,t):t}function Po(e,t){return e?Z(e)&&Z(t)?[...new Set([...e,...t])]:qe(Object.create(null),Ao(e),Ao(t??{})):t}function _i(e,t){if(!e)return t;if(!t)return e;const s=qe(Object.create(null),e);for(const o in t)s[o]=Be(e[o],t[o]);return s}function cl(){return{app:null,config:{isNativeTag:yr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gi=0;function vi(e,t){return function(o,r=null){le(o)||(o=qe({},o)),r!=null&&!xe(r)&&(r=null);const l=cl(),a=new WeakSet,i=[];let c=!1;const p=l.app={_uid:gi++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:tc,get config(){return l.config},set config(f){},use(f,...h){return a.has(f)||(f&&le(f.install)?(a.add(f),f.install(p,...h)):le(f)&&(a.add(f),f(p,...h))),p},mixin(f){return l.mixins.includes(f)||l.mixins.push(f),p},component(f,h){return h?(l.components[f]=h,p):l.components[f]},directive(f,h){return h?(l.directives[f]=h,p):l.directives[f]},mount(f,h,u){if(!c){const d=p._ceVNode||Ce(o,r);return d.appContext=l,u===!0?u="svg":u===!1&&(u=void 0),e(d,f,u),c=!0,p._container=f,f.__vue_app__=p,pn(d.component)}},onUnmount(f){i.push(f)},unmount(){c&&(pt(i,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(f,h){return l.provides[f]=h,p},runWithContext(f){const h=Wt;Wt=p;try{return f()}finally{Wt=h}}};return p}}let Wt=null;function Bs(e,t){if(We){let s=We.provides;const o=We.parent&&We.parent.provides;o===s&&(s=We.provides=Object.create(o)),s[e]=t}}function et(e,t,s=!1){const o=Sl();if(o||Wt){let r=Wt?Wt._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&le(t)?t.call(o&&o.proxy):t}}function yi(){return!!(Sl()||Wt)}const dl={},ul=()=>Object.create(dl),fl=e=>Object.getPrototypeOf(e)===dl;function xi(e,t,s,o=!1){const r={},l=ul();e.propsDefaults=Object.create(null),pl(e,t,r,l);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);s?e.props=o?r:Wr(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function wi(e,t,s,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=e,i=he(r),[c]=e.propsOptions;let p=!1;if((o||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let h=0;h<f.length;h++){let u=f[h];if(un(e.emitsOptions,u))continue;const d=t[u];if(c)if(ve(l,u))d!==l[u]&&(l[u]=d,p=!0);else{const $=Ft(u);r[$]=Fn(c,i,$,d,e,!1)}else d!==l[u]&&(l[u]=d,p=!0)}}}else{pl(e,t,r,l)&&(p=!0);let f;for(const h in i)(!t||!ve(t,h)&&((f=Kt(h))===h||!ve(t,f)))&&(c?s&&(s[h]!==void 0||s[f]!==void 0)&&(r[h]=Fn(c,i,h,void 0,e,!0)):delete r[h]);if(l!==i)for(const h in l)(!t||!ve(t,h))&&(delete l[h],p=!0)}p&&yt(e.attrs,"set","")}function pl(e,t,s,o){const[r,l]=e.propsOptions;let a=!1,i;if(t)for(let c in t){if(hs(c))continue;const p=t[c];let f;r&&ve(r,f=Ft(c))?!l||!l.includes(f)?s[f]=p:(i||(i={}))[f]=p:un(e.emitsOptions,c)||(!(c in o)||p!==o[c])&&(o[c]=p,a=!0)}if(l){const c=he(s),p=i||we;for(let f=0;f<l.length;f++){const h=l[f];s[h]=Fn(r,c,h,p[h],e,!ve(p,h))}}return a}function Fn(e,t,s,o,r,l){const a=e[s];if(a!=null){const i=ve(a,"default");if(i&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&le(c)){const{propsDefaults:p}=r;if(s in p)o=p[s];else{const f=js(r);o=p[s]=c.call(null,t),f()}}else o=c;r.ce&&r.ce._setProp(s,o)}a[0]&&(l&&!i?o=!1:a[1]&&(o===""||o===Kt(s))&&(o=!0))}return o}const Ci=new WeakMap;function hl(e,t,s=!1){const o=s?Ci:t.propsCache,r=o.get(e);if(r)return r;const l=e.props,a={},i=[];let c=!1;if(!le(e)){const f=h=>{c=!0;const[u,d]=hl(h,t,!0);qe(a,u),d&&i.push(...d)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!l&&!c)return xe(e)&&o.set(e,Zt),Zt;if(Z(l))for(let f=0;f<l.length;f++){const h=Ft(l[f]);Io(h)&&(a[h]=we)}else if(l)for(const f in l){const h=Ft(f);if(Io(h)){const u=l[f],d=a[h]=Z(u)||le(u)?{type:u}:qe({},u),$=d.type;let g=!1,R=!0;if(Z($))for(let N=0;N<$.length;++N){const P=$[N],F=le(P)&&P.name;if(F==="Boolean"){g=!0;break}else F==="String"&&(R=!1)}else g=le($)&&$.name==="Boolean";d[0]=g,d[1]=R,(g||ve(d,"default"))&&i.push(h)}}const p=[a,i];return xe(e)&&o.set(e,p),p}function Io(e){return e[0]!=="$"&&!hs(e)}const uo=e=>e==="_"||e==="_ctx"||e==="$stable",fo=e=>Z(e)?e.map(ut):[ut(e)],$i=(e,t,s)=>{if(t._n)return t;const o=Ut((...r)=>fo(t(...r)),s);return o._c=!1,o},bl=(e,t,s)=>{const o=e._ctx;for(const r in e){if(uo(r))continue;const l=e[r];if(le(l))t[r]=$i(r,l,o);else if(l!=null){const a=fo(l);t[r]=()=>a}}},ml=(e,t)=>{const s=fo(t);e.slots.default=()=>s},_l=(e,t,s)=>{for(const o in t)(s||!uo(o))&&(e[o]=t[o])},Ei=(e,t,s)=>{const o=e.slots=ul();if(e.vnode.shapeFlag&32){const r=t._;r?(_l(o,t,s),s&&Er(o,"_",r,!0)):bl(t,o)}else t&&ml(e,t)},Si=(e,t,s)=>{const{vnode:o,slots:r}=e;let l=!0,a=we;if(o.shapeFlag&32){const i=t._;i?s&&i===1?l=!1:_l(r,t,s):(l=!t.$stable,bl(t,r)),a=t}else t&&(ml(e,t),a={default:1});if(l)for(const i in r)!uo(i)&&a[i]==null&&delete r[i]},Qe=Li;function Ri(e){return ki(e)}function ki(e,t){const s=rn();s.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:a,createText:i,createComment:c,setText:p,setElementText:f,parentNode:h,nextSibling:u,setScopeId:d=ft,insertStaticContent:$}=e,g=(b,v,E,O=null,I=null,D=null,W=void 0,L=null,U=!!v.dynamicChildren)=>{if(b===v)return;b&&!us(b,v)&&(O=k(b),Ne(b,I,D,!0),b=null),v.patchFlag===-2&&(U=!1,v.dynamicChildren=null);const{type:j,ref:ee,shapeFlag:Y}=v;switch(j){case fn:R(b,v,E,O);break;case Rt:N(b,v,E,O);break;case Hs:b==null&&P(v,E,O,W);break;case oe:ce(b,v,E,O,I,D,W,L,U);break;default:Y&1?H(b,v,E,O,I,D,W,L,U):Y&6?me(b,v,E,O,I,D,W,L,U):(Y&64||Y&128)&&j.process(b,v,E,O,I,D,W,L,U,J)}ee!=null&&I?_s(ee,b&&b.ref,D,v||b,!v):ee==null&&b&&b.ref!=null&&_s(b.ref,null,D,b,!0)},R=(b,v,E,O)=>{if(b==null)o(v.el=i(v.children),E,O);else{const I=v.el=b.el;v.children!==b.children&&p(I,v.children)}},N=(b,v,E,O)=>{b==null?o(v.el=c(v.children||""),E,O):v.el=b.el},P=(b,v,E,O)=>{[b.el,b.anchor]=$(b.children,v,E,O,b.el,b.anchor)},F=({el:b,anchor:v},E,O)=>{let I;for(;b&&b!==v;)I=u(b),o(b,E,O),b=I;o(v,E,O)},q=({el:b,anchor:v})=>{let E;for(;b&&b!==v;)E=u(b),r(b),b=E;r(v)},H=(b,v,E,O,I,D,W,L,U)=>{if(v.type==="svg"?W="svg":v.type==="math"&&(W="mathml"),b==null)y(v,E,O,I,D,W,L,U);else{const j=b.el&&b.el._isVueCE?b.el:null;try{j&&j._beginPatch(),M(b,v,I,D,W,L,U)}finally{j&&j._endPatch()}}},y=(b,v,E,O,I,D,W,L)=>{let U,j;const{props:ee,shapeFlag:Y,transition:X,dirs:se}=b;if(U=b.el=a(b.type,D,ee&&ee.is,ee),Y&8?f(U,b.children):Y&16&&w(b.children,U,null,O,I,Cn(b,D),W,L),se&&Lt(b,null,O,"created"),x(U,b,b.scopeId,W,O),ee){for(const Ee in ee)Ee!=="value"&&!hs(Ee)&&l(U,Ee,null,ee[Ee],D,O);"value"in ee&&l(U,"value",null,ee.value,D),(j=ee.onVnodeBeforeMount)&&ct(j,O,b)}se&&Lt(b,null,O,"beforeMount");const pe=Ai(I,X);pe&&X.beforeEnter(U),o(U,v,E),((j=ee&&ee.onVnodeMounted)||pe||se)&&Qe(()=>{j&&ct(j,O,b),pe&&X.enter(U),se&&Lt(b,null,O,"mounted")},I)},x=(b,v,E,O,I)=>{if(E&&d(b,E),O)for(let D=0;D<O.length;D++)d(b,O[D]);if(I){let D=I.subTree;if(v===D||Cl(D.type)&&(D.ssContent===v||D.ssFallback===v)){const W=I.vnode;x(b,W,W.scopeId,W.slotScopeIds,I.parent)}}},w=(b,v,E,O,I,D,W,L,U=0)=>{for(let j=U;j<b.length;j++){const ee=b[j]=L?Pt(b[j]):ut(b[j]);g(null,ee,v,E,O,I,D,W,L)}},M=(b,v,E,O,I,D,W)=>{const L=v.el=b.el;let{patchFlag:U,dynamicChildren:j,dirs:ee}=v;U|=b.patchFlag&16;const Y=b.props||we,X=v.props||we;let se;if(E&&qt(E,!1),(se=X.onVnodeBeforeUpdate)&&ct(se,E,v,b),ee&&Lt(v,b,E,"beforeUpdate"),E&&qt(E,!0),(Y.innerHTML&&X.innerHTML==null||Y.textContent&&X.textContent==null)&&f(L,""),j?T(b.dynamicChildren,j,L,E,O,Cn(v,I),D):W||ae(b,v,L,null,E,O,Cn(v,I),D,!1),U>0){if(U&16)ke(L,Y,X,E,I);else if(U&2&&Y.class!==X.class&&l(L,"class",null,X.class,I),U&4&&l(L,"style",Y.style,X.style,I),U&8){const pe=v.dynamicProps;for(let Ee=0;Ee<pe.length;Ee++){const ye=pe[Ee],Ke=Y[ye],Ye=X[ye];(Ye!==Ke||ye==="value")&&l(L,ye,Ke,Ye,I,E)}}U&1&&b.children!==v.children&&f(L,v.children)}else!W&&j==null&&ke(L,Y,X,E,I);((se=X.onVnodeUpdated)||ee)&&Qe(()=>{se&&ct(se,E,v,b),ee&&Lt(v,b,E,"updated")},O)},T=(b,v,E,O,I,D,W)=>{for(let L=0;L<v.length;L++){const U=b[L],j=v[L],ee=U.el&&(U.type===oe||!us(U,j)||U.shapeFlag&198)?h(U.el):E;g(U,j,ee,null,O,I,D,W,!0)}},ke=(b,v,E,O,I)=>{if(v!==E){if(v!==we)for(const D in v)!hs(D)&&!(D in E)&&l(b,D,v[D],null,I,O);for(const D in E){if(hs(D))continue;const W=E[D],L=v[D];W!==L&&D!=="value"&&l(b,D,L,W,I,O)}"value"in E&&l(b,"value",v.value,E.value,I)}},ce=(b,v,E,O,I,D,W,L,U)=>{const j=v.el=b?b.el:i(""),ee=v.anchor=b?b.anchor:i("");let{patchFlag:Y,dynamicChildren:X,slotScopeIds:se}=v;se&&(L=L?L.concat(se):se),b==null?(o(j,E,O),o(ee,E,O),w(v.children||[],E,ee,I,D,W,L,U)):Y>0&&Y&64&&X&&b.dynamicChildren?(T(b.dynamicChildren,X,E,I,D,W,L),(v.key!=null||I&&v===I.subTree)&&gl(b,v,!0)):ae(b,v,E,ee,I,D,W,L,U)},me=(b,v,E,O,I,D,W,L,U)=>{v.slotScopeIds=L,b==null?v.shapeFlag&512?I.ctx.activate(v,E,O,W,U):Ae(v,E,O,I,D,W,U):Re(b,v,U)},Ae=(b,v,E,O,I,D,W)=>{const L=b.component=zi(b,O,I);if(nl(b)&&(L.ctx.renderer=J),Qi(L,!1,W),L.asyncDep){if(I&&I.registerDep(L,$e,W),!b.el){const U=L.subTree=Ce(Rt);N(null,U,v,E),b.placeholder=U.el}}else $e(L,b,v,E,I,D,W)},Re=(b,v,E)=>{const O=v.component=b.component;if(Vi(b,v,E))if(O.asyncDep&&!O.asyncResolved){te(O,v,E);return}else O.next=v,O.update();else v.el=b.el,O.vnode=v},$e=(b,v,E,O,I,D,W)=>{const L=()=>{if(b.isMounted){let{next:Y,bu:X,u:se,parent:pe,vnode:Ee}=b;{const at=vl(b);if(at){Y&&(Y.el=Ee.el,te(b,Y,W)),at.asyncDep.then(()=>{b.isUnmounted||L()});return}}let ye=Y,Ke;qt(b,!1),Y?(Y.el=Ee.el,te(b,Y,W)):Y=Ee,X&&qs(X),(Ke=Y.props&&Y.props.onVnodeBeforeUpdate)&&ct(Ke,pe,Y,Ee),qt(b,!0);const Ye=No(b),lt=b.subTree;b.subTree=Ye,g(lt,Ye,h(lt.el),k(lt),b,I,D),Y.el=Ye.el,ye===null&&Ui(b,Ye.el),se&&Qe(se,I),(Ke=Y.props&&Y.props.onVnodeUpdated)&&Qe(()=>ct(Ke,pe,Y,Ee),I)}else{let Y;const{el:X,props:se}=v,{bm:pe,m:Ee,parent:ye,root:Ke,type:Ye}=b,lt=ss(v);qt(b,!1),pe&&qs(pe),!lt&&(Y=se&&se.onVnodeBeforeMount)&&ct(Y,ye,v),qt(b,!0);{Ke.ce&&Ke.ce._def.shadowRoot!==!1&&Ke.ce._injectChildStyle(Ye);const at=b.subTree=No(b);g(null,at,E,O,b,I,D),v.el=at.el}if(Ee&&Qe(Ee,I),!lt&&(Y=se&&se.onVnodeMounted)){const at=v;Qe(()=>ct(Y,ye,at),I)}(v.shapeFlag&256||ye&&ss(ye.vnode)&&ye.vnode.shapeFlag&256)&&b.a&&Qe(b.a,I),b.isMounted=!0,v=E=O=null}};b.scope.on();const U=b.effect=new Pr(L);b.scope.off();const j=b.update=U.run.bind(U),ee=b.job=U.runIfDirty.bind(U);ee.i=b,ee.id=b.uid,U.scheduler=()=>io(ee),qt(b,!0),j()},te=(b,v,E)=>{v.component=b;const O=b.vnode.props;b.vnode=v,b.next=null,wi(b,v.props,O,E),Si(b,v.children,E),Et(),Ro(b),St()},ae=(b,v,E,O,I,D,W,L,U=!1)=>{const j=b&&b.children,ee=b?b.shapeFlag:0,Y=v.children,{patchFlag:X,shapeFlag:se}=v;if(X>0){if(X&128){rt(j,Y,E,O,I,D,W,L,U);return}else if(X&256){tt(j,Y,E,O,I,D,W,L,U);return}}se&8?(ee&16&&A(j,I,D),Y!==j&&f(E,Y)):ee&16?se&16?rt(j,Y,E,O,I,D,W,L,U):A(j,I,D,!0):(ee&8&&f(E,""),se&16&&w(Y,E,O,I,D,W,L,U))},tt=(b,v,E,O,I,D,W,L,U)=>{b=b||Zt,v=v||Zt;const j=b.length,ee=v.length,Y=Math.min(j,ee);let X;for(X=0;X<Y;X++){const se=v[X]=U?Pt(v[X]):ut(v[X]);g(b[X],se,E,null,I,D,W,L,U)}j>ee?A(b,I,D,!0,!1,Y):w(v,E,O,I,D,W,L,U,Y)},rt=(b,v,E,O,I,D,W,L,U)=>{let j=0;const ee=v.length;let Y=b.length-1,X=ee-1;for(;j<=Y&&j<=X;){const se=b[j],pe=v[j]=U?Pt(v[j]):ut(v[j]);if(us(se,pe))g(se,pe,E,null,I,D,W,L,U);else break;j++}for(;j<=Y&&j<=X;){const se=b[Y],pe=v[X]=U?Pt(v[X]):ut(v[X]);if(us(se,pe))g(se,pe,E,null,I,D,W,L,U);else break;Y--,X--}if(j>Y){if(j<=X){const se=X+1,pe=se<ee?v[se].el:O;for(;j<=X;)g(null,v[j]=U?Pt(v[j]):ut(v[j]),E,pe,I,D,W,L,U),j++}}else if(j>X)for(;j<=Y;)Ne(b[j],I,D,!0),j++;else{const se=j,pe=j,Ee=new Map;for(j=pe;j<=X;j++){const ze=v[j]=U?Pt(v[j]):ut(v[j]);ze.key!=null&&Ee.set(ze.key,j)}let ye,Ke=0;const Ye=X-pe+1;let lt=!1,at=0;const cs=new Array(Ye);for(j=0;j<Ye;j++)cs[j]=0;for(j=se;j<=Y;j++){const ze=b[j];if(Ke>=Ye){Ne(ze,I,D,!0);continue}let it;if(ze.key!=null)it=Ee.get(ze.key);else for(ye=pe;ye<=X;ye++)if(cs[ye-pe]===0&&us(ze,v[ye])){it=ye;break}it===void 0?Ne(ze,I,D,!0):(cs[it-pe]=j+1,it>=at?at=it:lt=!0,g(ze,v[it],E,null,I,D,W,L,U),Ke++)}const yo=lt?Di(cs):Zt;for(ye=yo.length-1,j=Ye-1;j>=0;j--){const ze=pe+j,it=v[ze],xo=v[ze+1],wo=ze+1<ee?xo.el||xo.placeholder:O;cs[j]===0?g(null,it,E,wo,I,D,W,L,U):lt&&(ye<0||j!==yo[ye]?Xe(it,E,wo,2):ye--)}}},Xe=(b,v,E,O,I=null)=>{const{el:D,type:W,transition:L,children:U,shapeFlag:j}=b;if(j&6){Xe(b.component.subTree,v,E,O);return}if(j&128){b.suspense.move(v,E,O);return}if(j&64){W.move(b,v,E,J);return}if(W===oe){o(D,v,E);for(let Y=0;Y<U.length;Y++)Xe(U[Y],v,E,O);o(b.anchor,v,E);return}if(W===Hs){F(b,v,E);return}if(O!==2&&j&1&&L)if(O===0)L.beforeEnter(D),o(D,v,E),Qe(()=>L.enter(D),I);else{const{leave:Y,delayLeave:X,afterLeave:se}=L,pe=()=>{b.ctx.isUnmounted?r(D):o(D,v,E)},Ee=()=>{D._isLeaving&&D[Xa](!0),Y(D,()=>{pe(),se&&se()})};X?X(D,pe,Ee):Ee()}else o(D,v,E)},Ne=(b,v,E,O=!1,I=!1)=>{const{type:D,props:W,ref:L,children:U,dynamicChildren:j,shapeFlag:ee,patchFlag:Y,dirs:X,cacheIndex:se}=b;if(Y===-2&&(I=!1),L!=null&&(Et(),_s(L,null,E,b,!0),St()),se!=null&&(v.renderCache[se]=void 0),ee&256){v.ctx.deactivate(b);return}const pe=ee&1&&X,Ee=!ss(b);let ye;if(Ee&&(ye=W&&W.onVnodeBeforeUnmount)&&ct(ye,v,b),ee&6)_(b.component,E,O);else{if(ee&128){b.suspense.unmount(E,O);return}pe&&Lt(b,null,v,"beforeUnmount"),ee&64?b.type.remove(b,v,E,J,O):j&&!j.hasOnce&&(D!==oe||Y>0&&Y&64)?A(j,v,E,!1,!0):(D===oe&&Y&384||!I&&ee&16)&&A(U,v,E),O&&mt(b)}(Ee&&(ye=W&&W.onVnodeUnmounted)||pe)&&Qe(()=>{ye&&ct(ye,v,b),pe&&Lt(b,null,v,"unmounted")},E)},mt=b=>{const{type:v,el:E,anchor:O,transition:I}=b;if(v===oe){V(E,O);return}if(v===Hs){q(b);return}const D=()=>{r(E),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(b.shapeFlag&1&&I&&!I.persisted){const{leave:W,delayLeave:L}=I,U=()=>W(E,D);L?L(b.el,D,U):U()}else D()},V=(b,v)=>{let E;for(;b!==v;)E=u(b),r(b),b=E;r(v)},_=(b,v,E)=>{const{bum:O,scope:I,job:D,subTree:W,um:L,m:U,a:j}=b;To(U),To(j),O&&qs(O),I.stop(),D&&(D.flags|=8,Ne(W,b,v,E)),L&&Qe(L,v),Qe(()=>{b.isUnmounted=!0},v)},A=(b,v,E,O=!1,I=!1,D=0)=>{for(let W=D;W<b.length;W++)Ne(b[W],v,E,O,I)},k=b=>{if(b.shapeFlag&6)return k(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const v=u(b.anchor||b.el),E=v&&v[Qa];return E?u(E):v};let B=!1;const G=(b,v,E)=>{b==null?v._vnode&&Ne(v._vnode,null,null,!0):g(v._vnode||null,b,v,null,null,null,E),v._vnode=b,B||(B=!0,Ro(),Xr(),B=!1)},J={p:g,um:Ne,m:Xe,r:mt,mt:Ae,mc:w,pc:ae,pbc:T,n:k,o:e};return{render:G,hydrate:void 0,createApp:vi(G)}}function Cn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ai(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gl(e,t,s=!1){const o=e.children,r=t.children;if(Z(o)&&Z(r))for(let l=0;l<o.length;l++){const a=o[l];let i=r[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[l]=Pt(r[l]),i.el=a.el),!s&&i.patchFlag!==-2&&gl(a,i)),i.type===fn&&i.patchFlag!==-1&&(i.el=a.el),i.type===Rt&&!i.el&&(i.el=a.el)}}function Di(e){const t=e.slice(),s=[0];let o,r,l,a,i;const c=e.length;for(o=0;o<c;o++){const p=e[o];if(p!==0){if(r=s[s.length-1],e[r]<p){t[o]=r,s.push(o);continue}for(l=0,a=s.length-1;l<a;)i=l+a>>1,e[s[i]]<p?l=i+1:a=i;p<e[s[l]]&&(l>0&&(t[o]=s[l-1]),s[l]=o)}}for(l=s.length,a=s[l-1];l-- >0;)s[l]=a,a=t[a];return s}function vl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vl(t)}function To(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Oi=Symbol.for("v-scx"),Pi=()=>et(Oi);function je(e,t,s){return yl(e,t,s)}function yl(e,t,s=we){const{immediate:o,deep:r,flush:l,once:a}=s,i=qe({},s),c=t&&o||!t&&l!=="post";let p;if(Rs){if(l==="sync"){const d=Pi();p=d.__watcherHandles||(d.__watcherHandles=[])}else if(!c){const d=()=>{};return d.stop=ft,d.resume=ft,d.pause=ft,d}}const f=We;i.call=(d,$,g)=>pt(d,f,$,g);let h=!1;l==="post"?i.scheduler=d=>{Qe(d,f&&f.suspense)}:l!=="sync"&&(h=!0,i.scheduler=(d,$)=>{$?d():io(d)}),i.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,f&&(d.id=f.uid,d.i=f))};const u=Wa(e,t,i);return Rs&&(p?p.push(u):c&&u()),u}function Ii(e,t,s){const o=this.proxy,r=Pe(e)?e.includes(".")?xl(o,e):()=>o[e]:e.bind(o,o);let l;le(t)?l=t:(l=t.handler,s=t);const a=js(this),i=yl(r,l.bind(o),s);return a(),i}function xl(e,t){const s=t.split(".");return()=>{let o=e;for(let r=0;r<s.length&&o;r++)o=o[s[r]];return o}}const Ti=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ft(t)}Modifiers`]||e[`${Kt(t)}Modifiers`];function Ni(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||we;let r=s;const l=t.startsWith("update:"),a=l&&Ti(o,t.slice(7));a&&(a.trim&&(r=s.map(f=>Pe(f)?f.trim():f)),a.number&&(r=s.map(on)));let i,c=o[i=_n(t)]||o[i=_n(Ft(t))];!c&&l&&(c=o[i=_n(Kt(t))]),c&&pt(c,e,6,r);const p=o[i+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,pt(p,e,6,r)}}const ji=new WeakMap;function wl(e,t,s=!1){const o=s?ji:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let a={},i=!1;if(!le(e)){const c=p=>{const f=wl(p,t,!0);f&&(i=!0,qe(a,f))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!l&&!i?(xe(e)&&o.set(e,null),null):(Z(l)?l.forEach(c=>a[c]=null):qe(a,l),xe(e)&&o.set(e,a),a)}function un(e,t){return!e||!sn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,Kt(t))||ve(e,t))}function No(e){const{type:t,vnode:s,proxy:o,withProxy:r,propsOptions:[l],slots:a,attrs:i,emit:c,render:p,renderCache:f,props:h,data:u,setupState:d,ctx:$,inheritAttrs:g}=e,R=Js(e);let N,P;try{if(s.shapeFlag&4){const q=r||o,H=q;N=ut(p.call(H,q,f,h,d,u,$)),P=i}else{const q=t;N=ut(q.length>1?q(h,{attrs:i,slots:a,emit:c}):q(h,null)),P=t.props?i:Mi(i)}}catch(q){vs.length=0,an(q,e,1),N=Ce(Rt)}let F=N;if(P&&g!==!1){const q=Object.keys(P),{shapeFlag:H}=F;q.length&&H&7&&(l&&q.some(zn)&&(P=Fi(P,l)),F=ns(F,P,!1,!0))}return s.dirs&&(F=ns(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(s.dirs):s.dirs),s.transition&&co(F,s.transition),N=F,Js(R),N}const Mi=e=>{let t;for(const s in e)(s==="class"||s==="style"||sn(s))&&((t||(t={}))[s]=e[s]);return t},Fi=(e,t)=>{const s={};for(const o in e)(!zn(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Vi(e,t,s){const{props:o,children:r,component:l}=e,{props:a,children:i,patchFlag:c}=t,p=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?jo(o,a,p):!!a;if(c&8){const f=t.dynamicProps;for(let h=0;h<f.length;h++){const u=f[h];if(a[u]!==o[u]&&!un(p,u))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?jo(o,a,p):!0:!!a;return!1}function jo(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(t[l]!==e[l]&&!un(s,l))return!0}return!1}function Ui({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Cl=e=>e.__isSuspense;function Li(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):za(e)}const oe=Symbol.for("v-fgt"),fn=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),vs=[];let Je=null;function C(e=!1){vs.push(Je=e?null:[])}function qi(){vs.pop(),Je=vs[vs.length-1]||null}let Es=1;function en(e,t=!1){Es+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function $l(e){return e.dynamicChildren=Es>0?Je||Zt:null,qi(),Es>0&&Je&&Je.push(e),e}function S(e,t,s,o,r,l){return $l(n(e,t,s,o,r,l,!0))}function ht(e,t,s,o,r){return $l(Ce(e,t,s,o,r,!0))}function Ss(e){return e?e.__v_isVNode===!0:!1}function us(e,t){return e.type===t.type&&e.key===t.key}const El=({key:e})=>e??null,Gs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Pe(e)||De(e)||le(e)?{i:Le,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,o=0,r=null,l=e===oe?0:1,a=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&El(t),ref:t&&Gs(t),scopeId:el,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Le};return i?(po(c,s),l&128&&e.normalize(c)):s&&(c.shapeFlag|=Pe(s)?8:16),Es>0&&!a&&Je&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Je.push(c),c}const Ce=Bi;function Bi(e,t=null,s=null,o=0,r=null,l=!1){if((!e||e===di)&&(e=Rt),Ss(e)){const i=ns(e,t,!0);return s&&po(i,s),Es>0&&!l&&Je&&(i.shapeFlag&6?Je[Je.indexOf(e)]=i:Je.push(i)),i.patchFlag=-2,i}if(ec(e)&&(e=e.__vccOpts),t){t=Hi(t);let{class:i,style:c}=t;i&&!Pe(i)&&(t.class=re(i)),xe(c)&&(lo(c)&&!Z(c)&&(c=qe({},c)),t.style=Xn(c))}const a=Pe(e)?1:Cl(e)?128:Ja(e)?64:xe(e)?4:le(e)?2:0;return n(e,t,s,o,r,a,l,!0)}function Hi(e){return e?lo(e)||fl(e)?qe({},e):e:null}function ns(e,t,s=!1,o=!1){const{props:r,ref:l,patchFlag:a,children:i,transition:c}=e,p=t?Wi(r||{},t):r,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&El(p),ref:t&&t.ref?s&&l?Z(l)?l.concat(Gs(t)):[l,Gs(t)]:Gs(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==oe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ns(e.ssContent),ssFallback:e.ssFallback&&ns(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&co(f,c.clone(f)),f}function K(e=" ",t=0){return Ce(fn,null,e,t)}function Gi(e,t){const s=Ce(Hs,null,e);return s.staticCount=t,s}function z(e="",t=!1){return t?(C(),ht(Rt,null,e)):Ce(Rt,null,e)}function ut(e){return e==null||typeof e=="boolean"?Ce(Rt):Z(e)?Ce(oe,null,e.slice()):Ss(e)?Pt(e):Ce(fn,null,String(e))}function Pt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ns(e)}function po(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Z(t))s=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),po(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!fl(t)?t._ctx=Le:r===3&&Le&&(Le.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else le(t)?(t={default:t,_ctx:Le},s=32):(t=String(t),o&64?(s=16,t=[K(t)]):s=8);e.children=t,e.shapeFlag|=s}function Wi(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=re([t.class,o.class]));else if(r==="style")t.style=Xn([t.style,o.style]);else if(sn(r)){const l=t[r],a=o[r];a&&l!==a&&!(Z(l)&&l.includes(a))&&(t[r]=l?[].concat(l,a):a)}else r!==""&&(t[r]=o[r])}return t}function ct(e,t,s,o=null){pt(e,t,7,[s,o])}const Ki=cl();let Yi=0;function zi(e,t,s){const o=e.type,r=(t?t.appContext:e.appContext)||Ki,l={uid:Yi++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ar(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hl(o,r),emitsOptions:wl(o,r),emit:null,emitted:null,propsDefaults:we,inheritAttrs:o.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Ni.bind(null,l),e.ce&&e.ce(l),l}let We=null;const Sl=()=>We||Le;let tn,Vn;{const e=rn(),t=(s,o)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(o),l=>{r.length>1?r.forEach(a=>a(l)):r[0](l)}};tn=t("__VUE_INSTANCE_SETTERS__",s=>We=s),Vn=t("__VUE_SSR_SETTERS__",s=>Rs=s)}const js=e=>{const t=We;return tn(e),e.scope.on(),()=>{e.scope.off(),tn(t)}},Mo=()=>{We&&We.scope.off(),tn(null)};function Rl(e){return e.vnode.shapeFlag&4}let Rs=!1;function Qi(e,t=!1,s=!1){t&&Vn(t);const{props:o,children:r}=e.vnode,l=Rl(e);xi(e,o,l,t),Ei(e,r,s||t);const a=l?Ji(e,t):void 0;return t&&Vn(!1),a}function Ji(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fi);const{setup:o}=s;if(o){Et();const r=e.setupContext=o.length>1?Zi(e):null,l=js(e),a=Ns(o,e,0,[e.props,r]),i=xr(a);if(St(),l(),(i||e.sp)&&!ss(e)&&sl(e),i){if(a.then(Mo,Mo),t)return a.then(c=>{Fo(e,c)}).catch(c=>{an(c,e,0)});e.asyncDep=a}else Fo(e,a)}else kl(e)}function Fo(e,t,s){le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=Yr(t)),kl(e)}function kl(e,t,s){const o=e.type;e.render||(e.render=o.render||ft);{const r=js(e);Et();try{pi(e)}finally{St(),r()}}}const Xi={get(e,t){return Ue(e,"get",""),e[t]}};function Zi(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Xi),slots:e.slots,emit:e.emit,expose:t}}function pn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Yr(ao(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in gs)return gs[s](e)},has(t,s){return s in t||s in gs}})):e.proxy}function ec(e){return le(e)&&"__vccOpts"in e}const Q=(e,t)=>Ha(e,t,Rs);function Al(e,t,s){try{en(-1);const o=arguments.length;return o===2?xe(t)&&!Z(t)?Ss(t)?Ce(e,null,[t]):Ce(e,t):Ce(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Ss(s)&&(s=[s]),Ce(e,t,s))}finally{en(1)}}const tc="3.5.24";let Un;const Vo=typeof window<"u"&&window.trustedTypes;if(Vo)try{Un=Vo.createPolicy("vue",{createHTML:e=>e})}catch{}const Dl=Un?e=>Un.createHTML(e):e=>e,sc="http://www.w3.org/2000/svg",nc="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,Uo=vt&&vt.createElement("template"),oc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const r=t==="svg"?vt.createElementNS(sc,e):t==="mathml"?vt.createElementNS(nc,e):s?vt.createElement(e,{is:s}):vt.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>vt.createTextNode(e),createComment:e=>vt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,r,l){const a=s?s.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{Uo.innerHTML=Dl(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const i=Uo.content;if(o==="svg"||o==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},rc=Symbol("_vtc");function lc(e,t,s){const o=e[rc];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Lo=Symbol("_vod"),ac=Symbol("_vsh"),ic=Symbol(""),cc=/(?:^|;)\s*display\s*:/;function dc(e,t,s){const o=e.style,r=Pe(s);let l=!1;if(s&&!r){if(t)if(Pe(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();s[i]==null&&Ws(o,i,"")}else for(const a in t)s[a]==null&&Ws(o,a,"");for(const a in s)a==="display"&&(l=!0),Ws(o,a,s[a])}else if(r){if(t!==s){const a=o[ic];a&&(s+=";"+a),o.cssText=s,l=cc.test(s)}}else t&&e.removeAttribute("style");Lo in e&&(e[Lo]=l?o.display:"",e[ac]&&(o.display="none"))}const qo=/\s*!important$/;function Ws(e,t,s){if(Z(s))s.forEach(o=>Ws(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=uc(e,t);qo.test(s)?e.setProperty(Kt(o),s.replace(qo,""),"important"):e[o]=s}}const Bo=["Webkit","Moz","ms"],$n={};function uc(e,t){const s=$n[t];if(s)return s;let o=Ft(t);if(o!=="filter"&&o in e)return $n[t]=o;o=$r(o);for(let r=0;r<Bo.length;r++){const l=Bo[r]+o;if(l in e)return $n[t]=l}return t}const Ho="http://www.w3.org/1999/xlink";function Go(e,t,s,o,r,l=ha(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ho,t.slice(6,t.length)):e.setAttributeNS(Ho,t,s):s==null||l&&!Sr(s)?e.removeAttribute(t):e.setAttribute(t,l?"":nt(s)?String(s):s)}function Wo(e,t,s,o,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Dl(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const i=l==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(i!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Sr(s):s==null&&i==="string"?(s="",a=!0):i==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(r||t)}function Tt(e,t,s,o){e.addEventListener(t,s,o)}function fc(e,t,s,o){e.removeEventListener(t,s,o)}const Ko=Symbol("_vei");function pc(e,t,s,o,r=null){const l=e[Ko]||(e[Ko]={}),a=l[t];if(o&&a)a.value=o;else{const[i,c]=hc(t);if(o){const p=l[t]=_c(o,r);Tt(e,i,p,c)}else a&&(fc(e,i,a,c),l[t]=void 0)}}const Yo=/(?:Once|Passive|Capture)$/;function hc(e){let t;if(Yo.test(e)){t={};let o;for(;o=e.match(Yo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Kt(e.slice(2)),t]}let En=0;const bc=Promise.resolve(),mc=()=>En||(bc.then(()=>En=0),En=Date.now());function _c(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;pt(gc(o,s.value),t,5,[o])};return s.value=e,s.attached=mc(),s}function gc(e,t){if(Z(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vc=(e,t,s,o,r,l)=>{const a=r==="svg";t==="class"?lc(e,o,a):t==="style"?dc(e,s,o):sn(t)?zn(t)||pc(e,t,s,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yc(e,t,o,a))?(Wo(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Go(e,t,o,a,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Pe(o))?Wo(e,Ft(t),o,l,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Go(e,t,o,a))};function yc(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&zo(t)&&le(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return zo(t)&&Pe(s)?!1:t in e}const os=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Z(t)?s=>qs(t,s):t};function xc(e){e.target.composing=!0}function Qo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $t=Symbol("_assign");function Jo(e,t,s){return t&&(e=e.trim()),s&&(e=on(e)),e}const de={created(e,{modifiers:{lazy:t,trim:s,number:o}},r){e[$t]=os(r);const l=o||r.props&&r.props.type==="number";Tt(e,t?"change":"input",a=>{a.target.composing||e[$t](Jo(e.value,s,l))}),(s||l)&&Tt(e,"change",()=>{e.value=Jo(e.value,s,l)}),t||(Tt(e,"compositionstart",xc),Tt(e,"compositionend",Qo),Tt(e,"change",Qo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:r,number:l}},a){if(e[$t]=os(a),e.composing)return;const i=(l||e.type==="number")&&!/^0\d/.test(e.value)?on(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||r&&e.value.trim()===c)||(e.value=c))}},Ol={deep:!0,created(e,t,s){e[$t]=os(s),Tt(e,"change",()=>{const o=e._modelValue,r=ks(e),l=e.checked,a=e[$t];if(Z(o)){const i=Zn(o,r),c=i!==-1;if(l&&!c)a(o.concat(r));else if(!l&&c){const p=[...o];p.splice(i,1),a(p)}}else if(as(o)){const i=new Set(o);l?i.add(r):i.delete(r),a(i)}else a(Pl(e,l))})},mounted:Xo,beforeUpdate(e,t,s){e[$t]=os(s),Xo(e,t,s)}};function Xo(e,{value:t,oldValue:s},o){e._modelValue=t;let r;if(Z(t))r=Zn(t,o.props.value)>-1;else if(as(t))r=t.has(o.props.value);else{if(t===s)return;r=Is(t,Pl(e,!0))}e.checked!==r&&(e.checked=r)}const Nt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const r=as(t);Tt(e,"change",()=>{const l=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?on(ks(a)):ks(a));e[$t](e.multiple?r?new Set(l):l:l[0]),e._assigning=!0,cn(()=>{e._assigning=!1})}),e[$t]=os(o)},mounted(e,{value:t}){Zo(e,t)},beforeUpdate(e,t,s){e[$t]=os(s)},updated(e,{value:t}){e._assigning||Zo(e,t)}};function Zo(e,t){const s=e.multiple,o=Z(t);if(!(s&&!o&&!as(t))){for(let r=0,l=e.options.length;r<l;r++){const a=e.options[r],i=ks(a);if(s)if(o){const c=typeof i;c==="string"||c==="number"?a.selected=t.some(p=>String(p)===String(i)):a.selected=Zn(t,i)>-1}else a.selected=t.has(i);else if(Is(ks(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ks(e){return"_value"in e?e._value:e.value}function Pl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const wc=["ctrl","shift","alt","meta"],Cc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wc.some(s=>e[`${s}Key`]&&!t.includes(s))},As=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=((r,...l)=>{for(let a=0;a<t.length;a++){const i=Cc[t[a]];if(i&&i(r,t))return}return e(r,...l)}))},$c=qe({patchProp:vc},oc);let er;function Ec(){return er||(er=Ri($c))}const Sc=((...e)=>{const t=Ec().createApp(...e),{mount:s}=t;return t.mount=o=>{const r=kc(o);if(!r)return;const l=t._component;!le(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=s(r,!1,Rc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function Rc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function kc(e){return Pe(e)?document.querySelector(e):e}let Il;const hn=e=>Il=e,Tl=Symbol();function Ln(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ys;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ys||(ys={}));function Ac(){const e=Dr(!0),t=e.run(()=>ie({}));let s=[],o=[];const r=ao({install(l){hn(r),r._a=l,l.provide(Tl,r),l.config.globalProperties.$pinia=r,o.forEach(a=>s.push(a)),o=[]},use(l){return this._a?s.push(l):o.push(l),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const Nl=()=>{};function tr(e,t,s,o=Nl){e.add(t);const r=()=>{e.delete(t)&&o()};return!s&&Or()&&ma(r),r}function Qt(e,...t){e.forEach(s=>{s(...t)})}const Dc=e=>e(),sr=Symbol(),Sn=Symbol();function qn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,o)=>e.set(o,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const o=t[s],r=e[s];Ln(r)&&Ln(o)&&e.hasOwnProperty(s)&&!De(o)&&!Ct(o)?e[s]=qn(r,o):e[s]=o}return e}const Oc=Symbol();function Pc(e){return!Ln(e)||!Object.prototype.hasOwnProperty.call(e,Oc)}const{assign:Dt}=Object;function Ic(e){return!!(De(e)&&e.effect)}function Tc(e,t,s,o){const{state:r,actions:l,getters:a}=t,i=s.state.value[e];let c;function p(){i||(s.state.value[e]=r?r():{});const f=Va(s.state.value[e]);return Dt(f,l,Object.keys(a||{}).reduce((h,u)=>(h[u]=ao(Q(()=>{hn(s);const d=s._s.get(e);return a[u].call(d,d)})),h),{}))}return c=jl(e,p,t,s,o,!0),c}function jl(e,t,s={},o,r,l){let a;const i=Dt({actions:{}},s),c={deep:!0};let p,f,h=new Set,u=new Set,d;const $=o.state.value[e];!l&&!$&&(o.state.value[e]={}),ie({});let g;function R(w){let M;p=f=!1,typeof w=="function"?(w(o.state.value[e]),M={type:ys.patchFunction,storeId:e,events:d}):(qn(o.state.value[e],w),M={type:ys.patchObject,payload:w,storeId:e,events:d});const T=g=Symbol();cn().then(()=>{g===T&&(p=!0)}),f=!0,Qt(h,M,o.state.value[e])}const N=l?function(){const{state:M}=s,T=M?M():{};this.$patch(ke=>{Dt(ke,T)})}:Nl;function P(){a.stop(),h.clear(),u.clear(),o._s.delete(e)}const F=(w,M="")=>{if(sr in w)return w[Sn]=M,w;const T=function(){hn(o);const ke=Array.from(arguments),ce=new Set,me=new Set;function Ae(te){ce.add(te)}function Re(te){me.add(te)}Qt(u,{args:ke,name:T[Sn],store:H,after:Ae,onError:Re});let $e;try{$e=w.apply(this&&this.$id===e?this:H,ke)}catch(te){throw Qt(me,te),te}return $e instanceof Promise?$e.then(te=>(Qt(ce,te),te)).catch(te=>(Qt(me,te),Promise.reject(te))):(Qt(ce,$e),$e)};return T[sr]=!0,T[Sn]=M,T},q={_p:o,$id:e,$onAction:tr.bind(null,u),$patch:R,$reset:N,$subscribe(w,M={}){const T=tr(h,w,M.detached,()=>ke()),ke=a.run(()=>je(()=>o.state.value[e],ce=>{(M.flush==="sync"?f:p)&&w({storeId:e,type:ys.direct,events:d},ce)},Dt({},c,M)));return T},$dispose:P},H=Ts(q);o._s.set(e,H);const x=(o._a&&o._a.runWithContext||Dc)(()=>o._e.run(()=>(a=Dr()).run(()=>t({action:F}))));for(const w in x){const M=x[w];if(De(M)&&!Ic(M)||Ct(M))l||($&&Pc(M)&&(De(M)?M.value=$[w]:qn(M,$[w])),o.state.value[e][w]=M);else if(typeof M=="function"){const T=F(M,w);x[w]=T,i.actions[w]=M}}return Dt(H,x),Dt(he(H),x),Object.defineProperty(H,"$state",{get:()=>o.state.value[e],set:w=>{R(M=>{Dt(M,w)})}}),o._p.forEach(w=>{Dt(H,a.run(()=>w({store:H,app:o._a,pinia:o,options:i})))}),$&&l&&s.hydrate&&s.hydrate(H.$state,$),p=!0,f=!0,H}function Yt(e,t,s){let o;const r=typeof t=="function";o=r?s:t;function l(a,i){const c=yi();return a=a||(c?et(Tl,null):null),a&&hn(a),a=Il,a._s.has(e)||(r?jl(e,t,o,a):Tc(e,o,a)),a._s.get(e)}return l.$id=e,l}function Nc(e){const t=he(e),s={};for(const o in t){const r=t[o];r.effect?s[o]=Q({get:()=>e[o],set(l){e[o]=l}}):(De(r)||Ct(r))&&(s[o]=qa(e,o))}return s}const Xt=typeof document<"u";function Ml(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jc(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ml(e.default)}const ge=Object.assign;function Rn(e,t){const s={};for(const o in t){const r=t[o];s[o]=ot(r)?r.map(e):e(r)}return s}const xs=()=>{},ot=Array.isArray;function nr(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}const Fl=/#/g,Mc=/&/g,Fc=/\//g,Vc=/=/g,Uc=/\?/g,Vl=/\+/g,Lc=/%5B/g,qc=/%5D/g,Ul=/%5E/g,Bc=/%60/g,Ll=/%7B/g,Hc=/%7C/g,ql=/%7D/g,Gc=/%20/g;function ho(e){return e==null?"":encodeURI(""+e).replace(Hc,"|").replace(Lc,"[").replace(qc,"]")}function Wc(e){return ho(e).replace(Ll,"{").replace(ql,"}").replace(Ul,"^")}function Bn(e){return ho(e).replace(Vl,"%2B").replace(Gc,"+").replace(Fl,"%23").replace(Mc,"%26").replace(Bc,"`").replace(Ll,"{").replace(ql,"}").replace(Ul,"^")}function Kc(e){return Bn(e).replace(Vc,"%3D")}function Yc(e){return ho(e).replace(Fl,"%23").replace(Uc,"%3F")}function zc(e){return Yc(e).replace(Fc,"%2F")}function Ds(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Qc=/\/$/,Jc=e=>e.replace(Qc,"");function kn(e,t,s="/"){let o,r={},l="",a="";const i=t.indexOf("#");let c=t.indexOf("?");return c=i>=0&&c>i?-1:c,c>=0&&(o=t.slice(0,c),l=t.slice(c,i>0?i:t.length),r=e(l.slice(1))),i>=0&&(o=o||t.slice(0,i),a=t.slice(i,t.length)),o=td(o??t,s),{fullPath:o+l+a,path:o,query:r,hash:Ds(a)}}function Xc(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function or(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zc(e,t,s){const o=t.matched.length-1,r=s.matched.length-1;return o>-1&&o===r&&rs(t.matched[o],s.matched[r])&&Bl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function rs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Bl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!ed(e[s],t[s]))return!1;return!0}function ed(e,t){return ot(e)?rr(e,t):ot(t)?rr(t,e):e===t}function rr(e,t){return ot(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function td(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=s.length-1,a,i;for(a=0;a<o.length;a++)if(i=o[a],i!==".")if(i==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(a).join("/")}const At={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Hn=(function(e){return e.pop="pop",e.push="push",e})({}),An=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function sd(e){if(!e)if(Xt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Jc(e)}const nd=/^[^#]+#/;function od(e,t){return e.replace(nd,"#")+t}function rd(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const bn=()=>({left:window.scrollX,top:window.scrollY});function ld(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=rd(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lr(e,t){return(history.state?history.state.position-t:-1)+e}const Gn=new Map;function ad(e,t){Gn.set(e,t)}function id(e){const t=Gn.get(e);return Gn.delete(e),t}function cd(e){return typeof e=="string"||e&&typeof e=="object"}function Hl(e){return typeof e=="string"||typeof e=="symbol"}let Oe=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Gl=Symbol("");Oe.MATCHER_NOT_FOUND+"",Oe.NAVIGATION_GUARD_REDIRECT+"",Oe.NAVIGATION_ABORTED+"",Oe.NAVIGATION_CANCELLED+"",Oe.NAVIGATION_DUPLICATED+"";function ls(e,t){return ge(new Error,{type:e,[Gl]:!0},t)}function gt(e,t){return e instanceof Error&&Gl in e&&(t==null||!!(e.type&t))}const dd=["params","query","hash"];function ud(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of dd)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function fd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Vl," "),l=r.indexOf("="),a=Ds(l<0?r:r.slice(0,l)),i=l<0?null:Ds(r.slice(l+1));if(a in t){let c=t[a];ot(c)||(c=t[a]=[c]),c.push(i)}else t[a]=i}return t}function ar(e){let t="";for(let s in e){const o=e[s];if(s=Kc(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(ot(o)?o.map(r=>r&&Bn(r)):[o&&Bn(o)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function pd(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=ot(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const hd=Symbol(""),ir=Symbol(""),mn=Symbol(""),bo=Symbol(""),Wn=Symbol("");function fs(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function It(e,t,s,o,r,l=a=>a()){const a=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((i,c)=>{const p=u=>{u===!1?c(ls(Oe.NAVIGATION_ABORTED,{from:s,to:t})):u instanceof Error?c(u):cd(u)?c(ls(Oe.NAVIGATION_GUARD_REDIRECT,{from:t,to:u})):(a&&o.enterCallbacks[r]===a&&typeof u=="function"&&a.push(u),i())},f=l(()=>e.call(o&&o.instances[r],t,s,p));let h=Promise.resolve(f);e.length<3&&(h=h.then(p)),h.catch(u=>c(u))})}function Dn(e,t,s,o,r=l=>l()){const l=[];for(const a of e)for(const i in a.components){let c=a.components[i];if(!(t!=="beforeRouteEnter"&&!a.instances[i]))if(Ml(c)){const p=(c.__vccOpts||c)[t];p&&l.push(It(p,s,o,a,i,r))}else{let p=c();l.push(()=>p.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${i}" at "${a.path}"`);const h=jc(f)?f.default:f;a.mods[i]=f,a.components[i]=h;const u=(h.__vccOpts||h)[t];return u&&It(u,s,o,a,i,r)()}))}}return l}function bd(e,t){const s=[],o=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let a=0;a<l;a++){const i=t.matched[a];i&&(e.matched.find(p=>rs(p,i))?o.push(i):s.push(i));const c=e.matched[a];c&&(t.matched.find(p=>rs(p,c))||r.push(c))}return[s,o,r]}let md=()=>location.protocol+"//"+location.host;function Wl(e,t){const{pathname:s,search:o,hash:r}=t,l=e.indexOf("#");if(l>-1){let a=r.includes(e.slice(l))?e.slice(l).length:1,i=r.slice(a);return i[0]!=="/"&&(i="/"+i),or(i,"")}return or(s,e)+o+r}function _d(e,t,s,o){let r=[],l=[],a=null;const i=({state:u})=>{const d=Wl(e,location),$=s.value,g=t.value;let R=0;if(u){if(s.value=d,t.value=u,a&&a===$){a=null;return}R=g?u.position-g.position:0}else o(d);r.forEach(N=>{N(s.value,$,{delta:R,type:Hn.pop,direction:R?R>0?An.forward:An.back:An.unknown})})};function c(){a=s.value}function p(u){r.push(u);const d=()=>{const $=r.indexOf(u);$>-1&&r.splice($,1)};return l.push(d),d}function f(){if(document.visibilityState==="hidden"){const{history:u}=window;if(!u.state)return;u.replaceState(ge({},u.state,{scroll:bn()}),"")}}function h(){for(const u of l)u();l=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:c,listen:p,destroy:h}}function cr(e,t,s,o=!1,r=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:r?bn():null}}function gd(e){const{history:t,location:s}=window,o={value:Wl(e,s)},r={value:t.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(c,p,f){const h=e.indexOf("#"),u=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+c:md()+e+c;try{t[f?"replaceState":"pushState"](p,"",u),r.value=p}catch(d){console.error(d),s[f?"replace":"assign"](u)}}function a(c,p){l(c,ge({},t.state,cr(r.value.back,c,r.value.forward,!0),p,{position:r.value.position}),!0),o.value=c}function i(c,p){const f=ge({},r.value,t.state,{forward:c,scroll:bn()});l(f.current,f,!0),l(c,ge({},cr(o.value,c,null),{position:f.position+1},p),!1),o.value=c}return{location:o,state:r,push:i,replace:a}}function vd(e){e=sd(e);const t=gd(e),s=_d(e,t.state,t.location,t.replace);function o(l,a=!0){a||s.pauseListeners(),history.go(l)}const r=ge({location:"",base:e,go:o,createHref:od.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function yd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),vd(e)}let Ht=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Te=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Te||{});const xd={type:Ht.Static,value:""},wd=/[a-zA-Z0-9_]/;function Cd(e){if(!e)return[[]];if(e==="/")return[[xd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${s})/"${p}": ${d}`)}let s=Te.Static,o=s;const r=[];let l;function a(){l&&r.push(l),l=[]}let i=0,c,p="",f="";function h(){p&&(s===Te.Static?l.push({type:Ht.Static,value:p}):s===Te.Param||s===Te.ParamRegExp||s===Te.ParamRegExpEnd?(l.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:Ht.Param,value:p,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),p="")}function u(){p+=c}for(;i<e.length;){if(c=e[i++],c==="\\"&&s!==Te.ParamRegExp){o=s,s=Te.EscapeNext;continue}switch(s){case Te.Static:c==="/"?(p&&h(),a()):c===":"?(h(),s=Te.Param):u();break;case Te.EscapeNext:u(),s=o;break;case Te.Param:c==="("?s=Te.ParamRegExp:wd.test(c)?u():(h(),s=Te.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--);break;case Te.ParamRegExp:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:s=Te.ParamRegExpEnd:f+=c;break;case Te.ParamRegExpEnd:h(),s=Te.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--,f="";break;default:t("Unknown state");break}}return s===Te.ParamRegExp&&t(`Unfinished custom RegExp for param "${p}"`),h(),a(),r}const dr="[^/]+?",$d={sensitive:!1,strict:!1,start:!0,end:!0};var He=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(He||{});const Ed=/[.+*?^${}()[\]/\\]/g;function Sd(e,t){const s=ge({},$d,t),o=[];let r=s.start?"^":"";const l=[];for(const p of e){const f=p.length?[]:[He.Root];s.strict&&!p.length&&(r+="/");for(let h=0;h<p.length;h++){const u=p[h];let d=He.Segment+(s.sensitive?He.BonusCaseSensitive:0);if(u.type===Ht.Static)h||(r+="/"),r+=u.value.replace(Ed,"\\$&"),d+=He.Static;else if(u.type===Ht.Param){const{value:$,repeatable:g,optional:R,regexp:N}=u;l.push({name:$,repeatable:g,optional:R});const P=N||dr;if(P!==dr){d+=He.BonusCustomRegExp;try{`${P}`}catch(q){throw new Error(`Invalid custom RegExp for param "${$}" (${P}): `+q.message)}}let F=g?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(F=R&&p.length<2?`(?:/${F})`:"/"+F),R&&(F+="?"),r+=F,d+=He.Dynamic,R&&(d+=He.BonusOptional),g&&(d+=He.BonusRepeatable),P===".*"&&(d+=He.BonusWildcard)}f.push(d)}o.push(f)}if(s.strict&&s.end){const p=o.length-1;o[p][o[p].length-1]+=He.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function i(p){const f=p.match(a),h={};if(!f)return null;for(let u=1;u<f.length;u++){const d=f[u]||"",$=l[u-1];h[$.name]=d&&$.repeatable?d.split("/"):d}return h}function c(p){let f="",h=!1;for(const u of e){(!h||!f.endsWith("/"))&&(f+="/"),h=!1;for(const d of u)if(d.type===Ht.Static)f+=d.value;else if(d.type===Ht.Param){const{value:$,repeatable:g,optional:R}=d,N=$ in p?p[$]:"";if(ot(N)&&!g)throw new Error(`Provided param "${$}" is an array but it is not repeatable (* or + modifiers)`);const P=ot(N)?N.join("/"):N;if(!P)if(R)u.length<2&&(f.endsWith("/")?f=f.slice(0,-1):h=!0);else throw new Error(`Missing required param "${$}"`);f+=P}}return f||"/"}return{re:a,score:o,keys:l,parse:i,stringify:c}}function Rd(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===He.Static+He.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===He.Static+He.Segment?1:-1:0}function Kl(e,t){let s=0;const o=e.score,r=t.score;for(;s<o.length&&s<r.length;){const l=Rd(o[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-o.length)===1){if(ur(o))return 1;if(ur(r))return-1}return r.length-o.length}function ur(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kd={strict:!1,end:!0,sensitive:!1};function Ad(e,t,s){const o=Sd(Cd(e.path),s),r=ge(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Dd(e,t){const s=[],o=new Map;t=nr(kd,t);function r(h){return o.get(h)}function l(h,u,d){const $=!d,g=pr(h);g.aliasOf=d&&d.record;const R=nr(t,h),N=[g];if("alias"in h){const q=typeof h.alias=="string"?[h.alias]:h.alias;for(const H of q)N.push(pr(ge({},g,{components:d?d.record.components:g.components,path:H,aliasOf:d?d.record:g})))}let P,F;for(const q of N){const{path:H}=q;if(u&&H[0]!=="/"){const y=u.record.path,x=y[y.length-1]==="/"?"":"/";q.path=u.record.path+(H&&x+H)}if(P=Ad(q,u,R),d?d.alias.push(P):(F=F||P,F!==P&&F.alias.push(P),$&&h.name&&!hr(P)&&a(h.name)),Yl(P)&&c(P),g.children){const y=g.children;for(let x=0;x<y.length;x++)l(y[x],P,d&&d.children[x])}d=d||P}return F?()=>{a(F)}:xs}function a(h){if(Hl(h)){const u=o.get(h);u&&(o.delete(h),s.splice(s.indexOf(u),1),u.children.forEach(a),u.alias.forEach(a))}else{const u=s.indexOf(h);u>-1&&(s.splice(u,1),h.record.name&&o.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function i(){return s}function c(h){const u=Id(h,s);s.splice(u,0,h),h.record.name&&!hr(h)&&o.set(h.record.name,h)}function p(h,u){let d,$={},g,R;if("name"in h&&h.name){if(d=o.get(h.name),!d)throw ls(Oe.MATCHER_NOT_FOUND,{location:h});R=d.record.name,$=ge(fr(u.params,d.keys.filter(F=>!F.optional).concat(d.parent?d.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),h.params&&fr(h.params,d.keys.map(F=>F.name))),g=d.stringify($)}else if(h.path!=null)g=h.path,d=s.find(F=>F.re.test(g)),d&&($=d.parse(g),R=d.record.name);else{if(d=u.name?o.get(u.name):s.find(F=>F.re.test(u.path)),!d)throw ls(Oe.MATCHER_NOT_FOUND,{location:h,currentLocation:u});R=d.record.name,$=ge({},u.params,h.params),g=d.stringify($)}const N=[];let P=d;for(;P;)N.unshift(P.record),P=P.parent;return{name:R,path:g,params:$,matched:N,meta:Pd(N)}}e.forEach(h=>l(h));function f(){s.length=0,o.clear()}return{addRoute:l,resolve:p,removeRoute:a,clearRoutes:f,getRoutes:i,getRecordMatcher:r}}function fr(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function pr(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Od(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Od(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function hr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Pd(e){return e.reduce((t,s)=>ge(t,s.meta),{})}function Id(e,t){let s=0,o=t.length;for(;s!==o;){const l=s+o>>1;Kl(e,t[l])<0?o=l:s=l+1}const r=Td(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Td(e){let t=e;for(;t=t.parent;)if(Yl(t)&&Kl(e,t)===0)return t}function Yl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function br(e){const t=et(mn),s=et(bo),o=Q(()=>{const c=be(e.to);return t.resolve(c)}),r=Q(()=>{const{matched:c}=o.value,{length:p}=c,f=c[p-1],h=s.matched;if(!f||!h.length)return-1;const u=h.findIndex(rs.bind(null,f));if(u>-1)return u;const d=mr(c[p-2]);return p>1&&mr(f)===d&&h[h.length-1].path!==d?h.findIndex(rs.bind(null,c[p-2])):u}),l=Q(()=>r.value>-1&&Fd(s.params,o.value.params)),a=Q(()=>r.value>-1&&r.value===s.matched.length-1&&Bl(s.params,o.value.params));function i(c={}){if(Md(c)){const p=t[be(e.replace)?"replace":"push"](be(e.to)).catch(xs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:o,href:Q(()=>o.value.href),isActive:l,isExactActive:a,navigate:i}}function Nd(e){return e.length===1?e[0]:e}const jd=tl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:br,setup(e,{slots:t}){const s=Ts(br(e)),{options:o}=et(mn),r=Q(()=>({[_r(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[_r(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Nd(t.default(s));return e.custom?l:Al("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),mo=jd;function Md(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fd(e,t){for(const s in t){const o=t[s],r=e[s];if(typeof o=="string"){if(o!==r)return!1}else if(!ot(r)||r.length!==o.length||o.some((l,a)=>l!==r[a]))return!1}return!0}function mr(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _r=(e,t,s)=>e??t??s,Vd=tl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=et(Wn),r=Q(()=>e.route||o.value),l=et(ir,0),a=Q(()=>{let p=be(l);const{matched:f}=r.value;let h;for(;(h=f[p])&&!h.components;)p++;return p}),i=Q(()=>r.value.matched[a.value]);Bs(ir,Q(()=>a.value+1)),Bs(hd,i),Bs(Wn,r);const c=ie();return je(()=>[c.value,i.value,e.name],([p,f,h],[u,d,$])=>{f&&(f.instances[h]=p,d&&d!==f&&p&&p===u&&(f.leaveGuards.size||(f.leaveGuards=d.leaveGuards),f.updateGuards.size||(f.updateGuards=d.updateGuards))),p&&f&&(!d||!rs(f,d)||!u)&&(f.enterCallbacks[h]||[]).forEach(g=>g(p))},{flush:"post"}),()=>{const p=r.value,f=e.name,h=i.value,u=h&&h.components[f];if(!u)return gr(s.default,{Component:u,route:p});const d=h.props[f],$=d?d===!0?p.params:typeof d=="function"?d(p):d:null,R=Al(u,ge({},$,t,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(h.instances[f]=null)},ref:c}));return gr(s.default,{Component:R,route:p})||R}}});function gr(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const zl=Vd;function Ud(e){const t=Dd(e.routes,e),s=e.parseQuery||fd,o=e.stringifyQuery||ar,r=e.history,l=fs(),a=fs(),i=fs(),c=ja(At);let p=At;Xt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Rn.bind(null,k=>""+k),h=Rn.bind(null,zc),u=Rn.bind(null,Ds);function d(k,B){let G,J;return Hl(k)?(G=t.getRecordMatcher(k),J=B):J=k,t.addRoute(J,G)}function $(k){const B=t.getRecordMatcher(k);B&&t.removeRoute(B)}function g(){return t.getRoutes().map(k=>k.record)}function R(k){return!!t.getRecordMatcher(k)}function N(k,B){if(B=ge({},B||c.value),typeof k=="string"){const E=kn(s,k,B.path),O=t.resolve({path:E.path},B),I=r.createHref(E.fullPath);return ge(E,O,{params:u(O.params),hash:Ds(E.hash),redirectedFrom:void 0,href:I})}let G;if(k.path!=null)G=ge({},k,{path:kn(s,k.path,B.path).path});else{const E=ge({},k.params);for(const O in E)E[O]==null&&delete E[O];G=ge({},k,{params:h(E)}),B.params=h(B.params)}const J=t.resolve(G,B),fe=k.hash||"";J.params=f(u(J.params));const b=Xc(o,ge({},k,{hash:Wc(fe),path:J.path})),v=r.createHref(b);return ge({fullPath:b,hash:fe,query:o===ar?pd(k.query):k.query||{}},J,{redirectedFrom:void 0,href:v})}function P(k){return typeof k=="string"?kn(s,k,c.value.path):ge({},k)}function F(k,B){if(p!==k)return ls(Oe.NAVIGATION_CANCELLED,{from:B,to:k})}function q(k){return x(k)}function H(k){return q(ge(P(k),{replace:!0}))}function y(k,B){const G=k.matched[k.matched.length-1];if(G&&G.redirect){const{redirect:J}=G;let fe=typeof J=="function"?J(k,B):J;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=P(fe):{path:fe},fe.params={}),ge({query:k.query,hash:k.hash,params:fe.path!=null?{}:k.params},fe)}}function x(k,B){const G=p=N(k),J=c.value,fe=k.state,b=k.force,v=k.replace===!0,E=y(G,J);if(E)return x(ge(P(E),{state:typeof E=="object"?ge({},fe,E.state):fe,force:b,replace:v}),B||G);const O=G;O.redirectedFrom=B;let I;return!b&&Zc(o,J,G)&&(I=ls(Oe.NAVIGATION_DUPLICATED,{to:O,from:J}),Xe(J,J,!0,!1)),(I?Promise.resolve(I):T(O,J)).catch(D=>gt(D)?gt(D,Oe.NAVIGATION_GUARD_REDIRECT)?D:rt(D):ae(D,O,J)).then(D=>{if(D){if(gt(D,Oe.NAVIGATION_GUARD_REDIRECT))return x(ge({replace:v},P(D.to),{state:typeof D.to=="object"?ge({},fe,D.to.state):fe,force:b}),B||O)}else D=ce(O,J,!0,v,fe);return ke(O,J,D),D})}function w(k,B){const G=F(k,B);return G?Promise.reject(G):Promise.resolve()}function M(k){const B=V.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(k):k()}function T(k,B){let G;const[J,fe,b]=bd(k,B);G=Dn(J.reverse(),"beforeRouteLeave",k,B);for(const E of J)E.leaveGuards.forEach(O=>{G.push(It(O,k,B))});const v=w.bind(null,k,B);return G.push(v),A(G).then(()=>{G=[];for(const E of l.list())G.push(It(E,k,B));return G.push(v),A(G)}).then(()=>{G=Dn(fe,"beforeRouteUpdate",k,B);for(const E of fe)E.updateGuards.forEach(O=>{G.push(It(O,k,B))});return G.push(v),A(G)}).then(()=>{G=[];for(const E of b)if(E.beforeEnter)if(ot(E.beforeEnter))for(const O of E.beforeEnter)G.push(It(O,k,B));else G.push(It(E.beforeEnter,k,B));return G.push(v),A(G)}).then(()=>(k.matched.forEach(E=>E.enterCallbacks={}),G=Dn(b,"beforeRouteEnter",k,B,M),G.push(v),A(G))).then(()=>{G=[];for(const E of a.list())G.push(It(E,k,B));return G.push(v),A(G)}).catch(E=>gt(E,Oe.NAVIGATION_CANCELLED)?E:Promise.reject(E))}function ke(k,B,G){i.list().forEach(J=>M(()=>J(k,B,G)))}function ce(k,B,G,J,fe){const b=F(k,B);if(b)return b;const v=B===At,E=Xt?history.state:{};G&&(J||v?r.replace(k.fullPath,ge({scroll:v&&E&&E.scroll},fe)):r.push(k.fullPath,fe)),c.value=k,Xe(k,B,G,v),rt()}let me;function Ae(){me||(me=r.listen((k,B,G)=>{if(!_.listening)return;const J=N(k),fe=y(J,_.currentRoute.value);if(fe){x(ge(fe,{replace:!0,force:!0}),J).catch(xs);return}p=J;const b=c.value;Xt&&ad(lr(b.fullPath,G.delta),bn()),T(J,b).catch(v=>gt(v,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_CANCELLED)?v:gt(v,Oe.NAVIGATION_GUARD_REDIRECT)?(x(ge(P(v.to),{force:!0}),J).then(E=>{gt(E,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_DUPLICATED)&&!G.delta&&G.type===Hn.pop&&r.go(-1,!1)}).catch(xs),Promise.reject()):(G.delta&&r.go(-G.delta,!1),ae(v,J,b))).then(v=>{v=v||ce(J,b,!1),v&&(G.delta&&!gt(v,Oe.NAVIGATION_CANCELLED)?r.go(-G.delta,!1):G.type===Hn.pop&&gt(v,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),ke(J,b,v)}).catch(xs)}))}let Re=fs(),$e=fs(),te;function ae(k,B,G){rt(k);const J=$e.list();return J.length?J.forEach(fe=>fe(k,B,G)):console.error(k),Promise.reject(k)}function tt(){return te&&c.value!==At?Promise.resolve():new Promise((k,B)=>{Re.add([k,B])})}function rt(k){return te||(te=!k,Ae(),Re.list().forEach(([B,G])=>k?G(k):B()),Re.reset()),k}function Xe(k,B,G,J){const{scrollBehavior:fe}=e;if(!Xt||!fe)return Promise.resolve();const b=!G&&id(lr(k.fullPath,0))||(J||!G)&&history.state&&history.state.scroll||null;return cn().then(()=>fe(k,B,b)).then(v=>v&&ld(v)).catch(v=>ae(v,k,B))}const Ne=k=>r.go(k);let mt;const V=new Set,_={currentRoute:c,listening:!0,addRoute:d,removeRoute:$,clearRoutes:t.clearRoutes,hasRoute:R,getRoutes:g,resolve:N,options:e,push:q,replace:H,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:l.add,beforeResolve:a.add,afterEach:i.add,onError:$e.add,isReady:tt,install(k){k.component("RouterLink",mo),k.component("RouterView",zl),k.config.globalProperties.$router=_,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>be(c)}),Xt&&!mt&&c.value===At&&(mt=!0,q(r.location).catch(J=>{}));const B={};for(const J in At)Object.defineProperty(B,J,{get:()=>c.value[J],enumerable:!0});k.provide(mn,_),k.provide(bo,Wr(B)),k.provide(Wn,c);const G=k.unmount;V.add(k),k.unmount=function(){V.delete(k),V.size<1&&(p=At,me&&me(),me=null,c.value=At,mt=!1,te=!1),G()}}};function A(k){return k.reduce((B,G)=>B.then(()=>M(G)),Promise.resolve())}return _}function Ms(){return et(mn)}function Ql(e){return et(bo)}const Ld={__name:"App",setup(e){return(t,s)=>(C(),ht(be(zl)))}},Ls=window.djangoConfig?.projectId??6,Ie=window.djangoConfig?.baseUrl??"http://localhost:8000",vr=window.djangoConfig?.csrfToken??"falsocsrf",ue={apiBaseUrl:Ie,csrfToken:vr,idProject:Ls,urlLogo:Ie+"/static/img/logo.png",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":vr},URLProjectData:Ie+"/api/projects/all-info/"+Ls+"/",URLSourcesAvailable:Ie+"/api/projects/resources/available/",URLTechnicalsAvailable:Ie+"/api/technicals/avaliables/",URLVehiclesAvailable:Ie+"/api/vehicles/avaliables/",URLResourcesProject:Ie+"/api/projects/"+Ls+"/resources/",URLUpdateResourceItem:Ie+"/api/projects/resources/update/",URLDeleteResourceProject:Ie+"/api/projects/resources/delete/${id_project_resource}/",URLSheetProjects:Ie+"/api/workorders/sheets/project/"+Ls+"/",URLAddSheetProject:Ie+"/api/workorders/sheets/create/",URLUpdateSheetProject:Ie+"/api/workorders/sheets/update/",URLAddResourceToProject:Ie+"/api/projects/resources/add/",URLCreateCustodyChain:Ie+"/api/workorders/custody_chain/create/",URLCustodyChainDetail:Ie+"/api/workorders/custody_chain/detail/${id}/",URLUpdateCustodyChain:Ie+"/api/workorders/custody_chain/${id}/edit/",PDFCustodyChainReport:Ie+"/reports/custody-chain/${id}/",PDFCertFinalDisposition:Ie+"/reports/final-disposition/${id}/",URLWorkSheetReport:Ie+"/reports/worksheet/${id}/"},is=Yt("projectResourcesStore",{state:()=>({resources:[],selectedResource:null,resourcesProject:[],newResourceProject:{id:null,project:null,resource:Object,type:null,detailed_description:null,cost:0,frecuency_type:"DAY",interval_days:2,week_days:null,month_days:null,operation_start_date:null,operation_end_date:null,is_retired:!1,retirement_date:null,retirement_reason:null,is_active:!0,is_selected:!1,is_confirm_delete:!1}}),actions:{async fetchResourcesProject(){console.log("Fetching project resources");try{const e=await fetch(ue.URLResourcesProject,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch project resources");const t=await e.json();this.resourcesProject=t.data}catch(e){console.error("Error fetching project resources:",e),this.resourcesProject=[]}},async addResourcesToProject(e){try{const t=e.map(r=>{const a=r.resource?.type_equipment==="SERVIC"?r.physical_equipment_code||0:r.resource_id,i={project_id:ue.idProject,resource_id:r.resource_id,detailed_description:r.detailed_description,cost:r.cost||0,maintenance_cost:r.maintenance_cost||0,operation_start_date:r.operation_start_date,include_maintenance:r.include_maintenance,frequency_type:r.include_maintenance?r.frequency_type||"DAY":null,physical_equipment_code:a};if(r.include_maintenance)switch(r.frequency_type){case"DAY":const c=parseInt(r.interval_days);i.interval_days=isNaN(c)||c<1?1:c;break;case"WEEK":i.weekdays=r.weekdays||[];break;case"MONTH":i.monthdays=r.monthdays||[];break}return i}),s=await fetch(ue.URLAddResourceToProject,{method:"POST",headers:ue.headers,body:JSON.stringify(t)}),o=await s.json();if(!s.ok)throw new Error(o.error||`Error al agregar recursos. Se agregaron ${o.added||0} de ${t.length}`);return o}catch(t){throw console.error("Error adding resources to project:",t),t}},async updateResourceProject(e){try{const t=await fetch(ue.URLUpdateResourceItem,{method:"PUT",headers:ue.headers,body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.error||"Failed to update project resource");const o=this.resourcesProject.findIndex(r=>r.id===e.id);return o!==-1&&(this.resourcesProject[o]={...this.resourcesProject[o],...s.data}),s.data}catch(t){throw console.error("Error updating project resource:",t),t}},async deleteResourceProject(e){try{const t=ue.URLDeleteResourceProject.replace("${id_project_resource}",e),s=await fetch(t,{method:"DELETE",headers:ue.headers});if(!s.ok){let o="Failed to delete project resource";try{o=(await s.json()).error||o}catch{o=await s.text()||o}throw new Error(o)}this.resourcesProject=this.resourcesProject.filter(o=>o.id!==e)}catch(t){throw console.error("Error deleting project resource:",t),t}}}}),qd=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(0):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},Bd=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},Kn=e=>{if(!e)return"--";const[t,s,o]=e.split("-"),r=new Date(t,s-1,o);return new Intl.DateTimeFormat("es-GT",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r)},Hd={class:"space-y-3"},Gd={class:"flex justify-between items-center mb-4"},Wd={class:"overflow-x-auto"},Kd={class:"table table-zebra w-full"},Yd={key:0},zd={class:"p-2 border border-gray-300"},Qd={class:"p-2 border border-gray-300 text-center"},Jd={class:"p-2 border border-gray-300"},Xd={class:"flex items-center gap-2"},Zd={key:0,class:"text-red-500 border rounded p-1 bg-red-100 text-xs mr-1"},eu={key:1,class:"text-blue-600 border rounded p-1 bg-blue-100 text-xs mr-1",title:"Este recurso est en uso en cadenas de custodia"},tu={class:"p-2 border border-gray-300"},su={class:"p-2 border border-gray-300 text-right font-mono"},nu={class:"p-2 border border-gray-300 text-center"},ou={class:"text-xs"},ru={class:"p-2 border border-gray-300 text-end font-mono"},lu={class:"p-2 border border-gray-300 text-end"},au={class:"flex gap-2 justify-end"},iu=["onClick"],cu=["title","disabled","onClick"],du={class:"stats shadow w-full"},uu={class:"stat"},fu={class:"stat-value text-primary"},pu={class:"stat-desc"},hu={class:"stat text-end"},bu={class:"stat-value text-info text-end"},mu={__name:"TabResources",emits:["edit-resource"],setup(e,{emit:t}){const s=t,o=is(),r=Q(()=>o.resourcesProject),l=ie(null),a=p=>parseFloat(p)===0,i=p=>{s("edit-resource",p)},c=async p=>{if(l.value===p.id)try{await o.deleteResourceProject(p.id),l.value=null}catch(f){console.error("Error al eliminar recurso:",f),alert(f.message||"Error al eliminar el recurso"),l.value=null}else l.value=p.id};return(p,f)=>(C(),S("div",Hd,[n("div",Gd,[f[1]||(f[1]=n("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[n("i",{class:"las la-tools text-blue-600"}),K(" Recursos Asignados ")],-1)),Ce(be(mo),{class:"btn btn-primary btn-sm",to:{name:"resource-form"}},{default:Ut(()=>[...f[0]||(f[0]=[n("i",{class:"las la-plus"},null,-1),K(" Asignar Recursos ",-1)])]),_:1})]),n("div",Wd,[n("table",Kd,[f[5]||(f[5]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white"},[n("th",{class:"p-2 border border-gray-100 text-center"},"#"),n("th",{class:"p-2 border border-gray-100 text-center"},"Tipo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Cdigo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Descripcin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Costo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Frecuencia"),n("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Inicio"),n("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),n("tbody",null,[r.value.length===0?(C(),S("tr",Yd,[...f[2]||(f[2]=[n("td",{colspan:"8",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay recursos asignados a este proyecto")],-1)])])):(C(!0),S(oe,{key:1},_e(r.value,h=>(C(),S("tr",{key:h.id,class:re({"text-red-500 font-bold bg-red-100":a(h.cost)})},[n("td",zd,m(h.id),1),n("td",Qd,m(h.type_resource),1),n("td",Jd,[n("div",Xd,[h.is_retired?(C(),S("span",Zd,"RETIRADO")):z("",!0),h.is_deleteable?z("",!0):(C(),S("span",eu,"EN USO")),K(" "+m(h.resource_item_code),1)])]),n("td",tu,m(h.detailed_description),1),n("td",su,m(be(Bd)(h.cost)),1),n("td",nu,[n("span",ou,m(h.frequency_type==="DAY"?"Diario":h.frequency_type==="WEEK"?"Semanal":h.frequency_type==="MONTH"?"Mensual":h.frequency_type),1)]),n("td",ru,m(be(Kn)(h.operation_start_date)),1),n("td",lu,[n("div",au,[n("button",{class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar",onClick:u=>i(h)},[...f[3]||(f[3]=[n("i",{class:"las la-edit"},null,-1),K(" EDITAR ",-1)])],8,iu),n("button",{class:re(["btn btn-xs border-red-500 text-red-500 bg-white",{"opacity-50 cursor-not-allowed":!h.is_deleteable,"bg-red-500 text-black":l.value===h.id}]),title:h.is_deleteable?l.value===h.id?"Haz clic nuevamente para confirmar":"Eliminar recurso":"No se puede eliminar: el recurso est en uso en una o ms cadenas de custodia",disabled:!h.is_deleteable,onClick:u=>c(h)},[f[4]||(f[4]=n("i",{class:"las la-trash"},null,-1)),K(" "+m(l.value===h.id?"CONFIRMAR":"ELIMINAR"),1)],10,cu)])])],2))),128))])])]),n("div",du,[n("div",uu,[f[6]||(f[6]=n("div",{class:"stat-title"},"Total Recursos",-1)),n("div",fu,m(r.value.length),1),n("div",pu,m(r.value.filter(h=>h.type_resource==="EQUIPO").length)+" Equipos y "+m(r.value.filter(h=>h.type_resource==="SERVICIO").length)+" Servicios",1)]),n("div",hu,[f[7]||(f[7]=n("div",{class:"stat-title"},"Costo Total",-1)),n("div",bu,m(be(qd)(r.value.reduce((h,u)=>h+parseFloat(u.cost),0))),1),f[8]||(f[8]=n("div",{class:"stat-desc"},"Suma de todos los recursos",-1))])])]))}},Ve=Yt("projectStore",{state:()=>({project:{id:null,partner_id:null,partner_name:null,location:null,cardinal_point:null,contact_name:null,contact_phone:null,start_date:null,end_date:null,is_closed:!1},workOrders:[],workOrdersCount:0,totalCustodyChains:0,loading:!1,error:null}),getters:{allCustodyChains:e=>e.workOrders.flatMap(t=>t.custody_chains||[]),getWorkOrderById:e=>t=>e.workOrders.find(s=>s.id===t),getCustodyChainById:e=>t=>{for(const s of e.workOrders){const o=s.custody_chains?.find(r=>r.id===t);if(o)return o}return null},projectStats:e=>({totalWorkOrders:e.workOrdersCount,totalCustodyChains:e.totalCustodyChains,inProgressWorkOrders:e.workOrders.filter(t=>t.status==="IN_PROGRESS").length,invoicedWorkOrders:e.workOrders.filter(t=>t.status==="INVOICED").length})},actions:{async fetchProjectData(){this.loading=!0,this.error=null,console.log(`Fetching all info for project ${ue.idProject}...`);try{const e=await fetch(ue.URLProjectData,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error(`Failed to fetch project info: ${e.status}`);const t=await e.json();if(t.success&&t.data)this.project=t.data.project,this.workOrders=t.data.work_orders||[],this.workOrdersCount=t.data.work_orders_count||0,this.totalCustodyChains=t.data.total_custody_chains||0,console.log(`Project ${this.project.id} loaded successfully with ${this.workOrdersCount} work orders`);else throw new Error(t.error||"Invalid response format")}catch(e){console.error("Error fetching project data:",e),this.error=e.message,this.resetProjectData()}finally{this.loading=!1}},async fetchProjectAllInfo(e){this.loading=!0,this.error=null,console.log(`Fetching all info for project ${e}...`);try{const t=`${ue.apiBaseUrl}/api/projects/all-info/${e}/`,s=await fetch(t,{method:"GET",headers:ue.headers});if(!s.ok)throw new Error(`Failed to fetch project info: ${s.status}`);const o=await s.json();if(o.success&&o.data)this.project=o.data.project,this.workOrders=o.data.work_orders||[],this.workOrdersCount=o.data.work_orders_count||0,this.totalCustodyChains=o.data.total_custody_chains||0,console.log(`Project ${e} loaded successfully with ${this.workOrdersCount} work orders`);else throw new Error(o.error||"Invalid response format")}catch(t){console.error("Error fetching project all info:",t),this.error=t.message,this.resetProjectData()}finally{this.loading=!1}},resetProjectData(){this.project={id:null,partner_id:null,partner_name:null,location:null,cardinal_point:null,contact_name:null,contact_phone:null,start_date:null,end_date:null,is_closed:!1},this.workOrders=[],this.workOrdersCount=0,this.totalCustodyChains=0},updateWorkOrder(e,t){const s=this.workOrders.findIndex(o=>o.id===e);s!==-1&&(this.workOrders[s]={...this.workOrders[s],...t})},updateCustodyChain(e,t){for(const s of this.workOrders){const o=s.custody_chains?.findIndex(r=>r.id===e);if(o!==-1&&o!==void 0){s.custody_chains[o]={...s.custody_chains[o],...t};break}}},async refreshCurrentProject(){await this.fetchProjectData()}}}),_o=Yt("sheetProjectsStore",{state:()=>({newSheetProject:{id:null,project:null,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:null,contact_phone_reference:null},loading:!1,error:null}),getters:{sheetProjects:()=>Ve().workOrders||[],getSheetProjectById:()=>e=>Ve().getWorkOrderById(e),hasInProgressSheet:()=>Ve().workOrders.some(t=>t.status==="IN_PROGRESS"),lastActiveSheetProjectID:()=>Ve().workOrders.find(s=>s.status==="IN_PROGRESS")?.id||null,getCustodyChainsForSheet:()=>e=>Ve().getWorkOrderById(e)?.custody_chains||[]},actions:{async addSheetProject(e){this.loading=!0,this.error=null,console.log("Adding new sheet project",e);try{const t={project_id:e.project,period_start:e.period_start,service_type:e.service_type};e.contact_reference&&(t.contact_reference=e.contact_reference),e.contact_phone_reference&&(t.contact_phone_reference=e.contact_phone_reference);const s=await fetch(ue.URLAddSheetProject,{method:"POST",headers:ue.headers,body:JSON.stringify(t)}),o=await s.json();if(!s.ok)throw new Error(o.error||`HTTP error! status: ${s.status}`);return await Ve().refreshCurrentProject(),o.data.id}catch(t){throw console.error("Error adding sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},async updateSheetProject(e){this.loading=!0,this.error=null,console.log("Updating sheet project:",e);try{const t=await fetch(ue.URLUpdateSheetProject,{method:"PUT",headers:ue.headers,body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.error||`HTTP error! status: ${t.status}`);return await Ve().refreshCurrentProject(),s.data}catch(t){throw console.error("Error updating sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},async closeSheetProject(e){this.loading=!0,this.error=null,console.log("Closing sheet project with ID:",e);try{const s=Ve().getWorkOrderById(e);if(!s)throw new Error("Planilla no encontrada");return await this.updateSheetProject({...s,status:"INVOICED",period_end:new Date().toISOString().split("T")[0]}),!0}catch(t){throw console.error("Error closing sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},initializeNewSheetProject(e){this.newSheetProject={id:null,project:e.id,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:e.contact_name,contact_phone_reference:e.contact_phone}},resetNewSheetProject(){this.newSheetProject={id:null,project:null,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:null,contact_phone_reference:null}}}}),_u={class:"space-y-3"},gu={class:"flex justify-between items-center mb-4"},vu={key:1,class:"text-amber-700 badge bg-yellow-100"},yu={class:"overflow-x-auto"},xu={class:"table table-zebra w-full"},wu={key:0},Cu={class:"p-2 border border-gray-300"},$u={class:"p-2 border border-gray-300 font-mono"},Eu={class:"p-2 border border-gray-300"},Su={class:"p-2 border border-gray-300 text-end"},Ru={class:"p-2 border border-gray-300 text-end"},ku={class:"p-2 border border-gray-300 text-end"},Au={class:"p-2 border border-gray-300"},Du={class:"p-2 border border-gray-300"},Ou={class:"p-2 border border-gray-300"},Pu={class:"p-2 border border-gray-300 text-right font-mono"},Iu={class:"p-2 border border-gray-300 text-right font-mono"},Tu={class:"p-2 border border-gray-300 text-right font-mono"},Nu={class:"p-2 border border-gray-300 text-end"},ju={class:"flex gap-2 justify-end"},Mu=["onClick"],Fu=["onClick"],Vu=["onClick","title"],Uu=["href"],Lu=["href"],qu={__name:"TabSheetProject",emits:["open-sheet-form","edit-sheet"],setup(e,{emit:t}){const s=Ms(),o=Ve(),r=_o(),l=Q(()=>o.workOrders||[]),a=Q(()=>l.value.some(N=>N.status==="IN_PROGRESS")),i=Q(()=>l.value.map(N=>{const P=N.custody_chains||[],F=P.reduce((y,x)=>y+(x.total_gallons||0),0),q=P.reduce((y,x)=>y+(x.total_barrels||0),0),H=P.reduce((y,x)=>y+(x.total_cubic_meters||0),0);return{...N,calculated_total_gallons:F,calculated_total_barrels:q,calculated_total_cubic_meters:H,custody_chains_count:P.length}})),c=N=>N?new Intl.DateTimeFormat("es-GT").format(new Date(N)):"N/A",p=N=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"bg-green-500 text-white"},INVOICED:{text:"FACTURADO",class:"bg-cyan-500 text-white"},CANCELLED:{text:"CANCELADO",class:"bg-orange-500 text-white"}})[N]||{text:N,class:"bg-gray-500 text-white"},f=t,h=()=>{f("open-sheet-form")},u=N=>{f("edit-sheet",N)},d=ie(null),$=N=>{d.value===N?(g(N),d.value=null):(d.value=N,setTimeout(()=>{d.value===N&&(d.value=null)},3e3))},g=async N=>{try{console.log("Cerrando planilla:",N),await r.closeSheetProject(N),d.value=null,await o.fetchProjectData()}catch(P){console.error("Error al cerrar planilla:",P)}},R=N=>{s.push({name:"sheet-project-view",params:{id:N}})};return(N,P)=>(C(),S("div",_u,[n("div",gu,[P[2]||(P[2]=n("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[n("i",{class:"las la-file-invoice-dollar text-blue-600"}),K(" Planillas del Proyecto ")],-1)),a.value?(C(),S("div",vu,[...P[1]||(P[1]=[n("i",{class:"las la-exclamation-triangle"},null,-1),K(" PLANILLA EN EJECUCIN ",-1)])])):(C(),S("button",{key:0,onClick:h,class:"btn btn-primary btn-sm"},[...P[0]||(P[0]=[n("i",{class:"las la-plus"},null,-1),K(" Crear Nueva Planilla ",-1)])]))]),n("div",yu,[n("table",xu,[P[9]||(P[9]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white"},[n("th",{class:"p-2 border border-gray-100 text-center"},"#"),n("th",{class:"p-2 border border-gray-100 text-center"},"Serie"),n("th",{class:"p-2 border border-gray-100 text-center"},"Estado"),n("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Emisin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Inicio"),n("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Fin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Contacto Ref."),n("th",{class:"p-2 border border-gray-100 text-center"},"Telfono"),n("th",{class:"p-2 border border-gray-100 text-center"},"Tipo Servicio"),n("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),n("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),n("th",{class:"p-2 border border-gray-100 text-center"},"M"),n("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),n("tbody",null,[i.value.length===0?(C(),S("tr",wu,[...P[3]||(P[3]=[n("td",{colspan:"13",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay planillas registradas para este proyecto")],-1)])])):(C(!0),S(oe,{key:1},_e(i.value,F=>(C(),S("tr",{key:F.id},[n("td",Cu,m(F.id),1),n("td",$u,m(F.series_code),1),n("td",Eu,[n("span",{class:re(["badge px-3 py-1 rounded text-xs font-medium",p(F.status).class])},m(p(F.status).text),3)]),n("td",Su,m(c(F.issue_date)),1),n("td",Ru,m(c(F.period_start)),1),n("td",ku,m(F.period_end?c(F.period_end):"--"),1),n("td",Au,m(F.contact_reference||"N/A"),1),n("td",Du,m(F.contact_phone_reference||"N/A"),1),n("td",Ou,m(F.service_type),1),n("td",Pu,m(parseFloat(F.calculated_total_gallons||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),n("td",Iu,m(parseFloat(F.calculated_total_barrels||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),n("td",Tu,m(parseFloat(F.calculated_total_cubic_meters||0).toFixed(2)),1),n("td",Nu,[n("div",ju,[n("button",{onClick:q=>u(F),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar planilla"},[...P[4]||(P[4]=[n("i",{class:"las la-edit"},null,-1),K(" EDITAR ",-1)])],8,Mu),n("button",{onClick:q=>R(F.id),class:"btn btn-xs border-purple-500 text-purple-500 bg-white",title:"Ver cadenas de custodia"},[P[5]||(P[5]=n("i",{class:"las la-link"},null,-1)),K(" C. CUSTODIA ("+m(F.custody_chains_count)+") ",1)],8,Fu),n("button",{onClick:q=>$(F.id),class:re(["btn btn-xs bg-white",d.value===F.id?"border-orange-500 text-orange-500":"border-red-500 text-red-500"]),title:d.value===F.id?"Haz clic nuevamente para confirmar":"Cerrar planilla"},[P[6]||(P[6]=n("i",{class:"las la-times"},null,-1)),K(" "+m(d.value===F.id?"CONFIRMAR":"CERRAR"),1)],10,Vu),n("a",{href:be(ue).URLWorkSheetReport.replace("${id}",F.id),target:"_blank",class:"btn btn-xs border-green-500 text-green-500 bg-white",title:"Descargar reporte PDF de la planilla"},[...P[7]||(P[7]=[n("i",{class:"las la-file-pdf"},null,-1),K(" PLANILLA ",-1)])],8,Uu),n("a",{href:be(ue).PDFCertFinalDisposition.replace("${id}",F.id),target:"_blank",class:"btn btn-xs border-amber-500 text-amber-600 bg-white",title:"Descargar certificado de disposicin final"},[...P[8]||(P[8]=[n("i",{class:"las la-certificate"},null,-1),K(" CDF ",-1)])],8,Lu)])])]))),128))])])])]))}};function Bu(e,t,s){const o=[],{frequency_type:r,interval_days:l,weekdays:a,monthdays:i}=e;if(r==="DAY"){const c=l===0?1:l;let p=new Date(t);for(;p<=s;)o.push(new Date(p)),p.setDate(p.getDate()+c)}else if(r==="WEEK"){if(!a||a.length===0)return console.warn("Recurso WEEK sin weekdays definidos:",e),o;let c=new Date(t);for(;c<=s;){const p=(c.getDay()+6)%7;a.includes(p)&&o.push(new Date(c)),c.setDate(c.getDate()+1)}}else if(r==="MONTH"){if(!i||i.length===0)return console.warn("Recurso MONTH sin monthdays definidos:",e),o;let c=new Date(t);for(;c<=s;){const p=c.getDate();i.includes(p)&&o.push(new Date(c)),c.setDate(c.getDate()+1)}}return o}function Hu(e,t=90,s=null){const o=s?new Date(s):new Date;o.setHours(0,0,0,0);const r=new Date(o);r.setDate(o.getDate()+t);const l=[];return e.forEach(a=>{if(!a.is_active||a.is_retired||a.type_resource!=="SERVICIO")return;if(!a.operation_start_date){console.warn("Recurso sin fecha de inicio de operacin:",a);return}const[i,c,p]=a.operation_start_date.split("-").map(Number),f=new Date(i,c-1,p),h=f>o?f:o;Bu(a,h,r).forEach(d=>{l.push({resource_id:a.id,resource_item_id:a.resource_item_id,resource_code:a.resource_item_code,resource_name:a.resource_item_name,description:a.detailed_description,cost:parseFloat(a.cost),frequency_type:a.frequency_type,interval_days:a.interval_days,weekdays:a.weekdays,monthdays:a.monthdays,operation_start_date:a.operation_start_date,scheduled_date:d.toISOString().split("T")[0],day_of_week:d.toLocaleDateString("es-GT",{weekday:"long"}),week_number:Gu(d),days_until:Math.ceil((d-o)/(1e3*60*60*24))})})}),l.sort((a,i)=>new Date(a.scheduled_date)-new Date(i.scheduled_date))}function Gu(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);const o=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-o)/864e5+1)/7)}function Wu(e){return e.reduce((t,s)=>{const o=`Semana ${s.week_number}`;return t[o]||(t[o]=[]),t[o].push(s),t},{})}function Ku(e){return e.reduce((t,s)=>{const r=new Date(s.scheduled_date).toLocaleDateString("es-GT",{year:"numeric",month:"long"});return t[r]||(t[r]=[]),t[r].push(s),t},{})}function Yu(e){return{total_maintenances:e.length,total_cost:e.reduce((t,s)=>t+s.cost,0),resources_count:new Set(e.map(t=>t.resource_id)).size,by_week:Wu(e),by_month:Ku(e)}}const zu={class:"space-y-4"},Qu={class:"bg-slate-700 rounded-lg p-3 shadow border border-slate-600"},Ju={class:"flex items-center justify-between"},Xu={class:"text-center flex-1"},Zu={class:"text-white font-bold text-xl capitalize"},ef={class:"grid grid-cols-3 gap-2 mt-3"},tf={class:"bg-white rounded-lg p-3 text-center border border-gray-200"},sf={class:"text-gray-800 font-bold text-2xl"},nf={class:"bg-white rounded-lg p-3 text-center border border-gray-200"},of={class:"text-gray-800 font-bold text-2xl"},rf={class:"bg-white rounded-lg p-3 text-center border border-gray-200"},lf={class:"text-gray-800 font-bold text-lg"},af={key:0,class:"alert alert-warning"},cf={key:1,class:"alert alert-info"},df={key:2,class:"bg-white rounded-lg shadow-lg overflow-hidden border-2 border-slate-300"},uf={class:"grid grid-cols-7 bg-slate-700"},ff=["onClick"],pf={class:"flex items-center justify-between mb-1"},hf={key:0,class:"badge badge-xs badge-success"},bf={key:0,class:"space-y-0.5"},mf={class:"text-xs truncate text-gray-600"},_f={key:0,class:"text-xs text-gray-500 pl-3"},gf={key:3,class:"bg-white rounded-lg shadow-lg p-4 border-l-4 border-lime-500"},vf={class:"flex items-center justify-between mb-4"},yf={class:"text-lg font-semibold text-gray-700"},xf={class:"overflow-x-auto"},wf={class:"table table-sm"},Cf={class:"text-xs"},$f={class:"badge badge-outline badge-sm"},Ef={class:"text-xs font-medium"},Sf={class:"text-xs text-gray-600"},Rf={class:"text-xs"},kf={class:"text-xs text-right font-semibold"},Af={class:"bg-lime-100 font-semibold"},Df={class:"text-right text-xs"},Of={key:4,class:"alert alert-info"},Pf={__name:"TabCalendar",setup(e){const t=is(),{resourcesProject:s}=Nc(t),o=ie(!0),r=["Lun","Mar","Mi","Jue","Vie","Sb","Dom"],l=ie(0),a=ie(null),i=Q(()=>{const y=new Date,x=y.getFullYear(),w=y.getMonth()+l.value,M=new Date(x,w,1),T=new Date(x,w+1,0);return{year:M.getFullYear(),month:M.getMonth(),firstDay:M,lastDay:T,daysInMonth:T.getDate()}}),c=Q(()=>{if(!s.value||s.value.length===0)return[];const{firstDay:y,lastDay:x}=i.value,w=Math.ceil((x-y)/(1e3*60*60*24))+1;return Hu(s.value,w,y)}),p=Q(()=>{const y={};return c.value.forEach(x=>{y[x.scheduled_date]||(y[x.scheduled_date]=[]),y[x.scheduled_date].push(x)}),y}),f=Q(()=>{const{firstDay:y,daysInMonth:x,year:w,month:M}=i.value,T=[];let ke=(y.getDay()+6)%7,ce=[];for(let me=0;me<ke;me++)ce.push(null);for(let me=1;me<=x;me++){const Ae=`${w}-${String(M+1).padStart(2,"0")}-${String(me).padStart(2,"0")}`,Re=p.value[Ae]||[];ce.push({day:me,dateStr:Ae,maintenances:Re,isToday:h(w,M,me),hasMaintenances:Re.length>0}),ce.length===7&&(T.push(ce),ce=[])}if(ce.length>0){for(;ce.length<7;)ce.push(null);T.push(ce)}return T}),h=(y,x,w)=>{const M=new Date;return M.getFullYear()===y&&M.getMonth()===x&&M.getDate()===w},u=Q(()=>Yu(c.value)),d=Q(()=>{const{firstDay:y}=i.value;return{monthYear:y.toLocaleDateString("es-GT",{month:"long",year:"numeric"})}}),$=()=>{l.value-=1,a.value=null},g=()=>{l.value+=1,a.value=null},R=()=>{l.value=0,a.value=null},N=y=>{y&&y.hasMaintenances&&(a.value=a.value?.dateStr===y.dateStr?null:y)},P=y=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(y),F=y=>({DAY:"bg-blue-500",WEEK:"bg-purple-500",MONTH:"bg-orange-500"})[y]||"bg-gray-500",q=y=>({DAY:"badge-primary",WEEK:"badge-secondary",MONTH:"badge-accent"})[y]||"badge-ghost",H=y=>{switch(y.frequency_type){case"DAY":return y.interval_days===0?"Diario":`Cada ${y.interval_days} das`;case"WEEK":return"Semanal";case"MONTH":return"Mensual";default:return y.frequency_type}};return bt(async()=>{(!s.value||s.value.length===0)&&await t.fetchResourcesProject(),o.value=!1}),je(s,y=>{y&&y.length>0&&(o.value=!1)},{immediate:!0}),(y,x)=>(C(),S("div",zu,[n("div",Qu,[n("div",Ju,[n("button",{onClick:$,class:"btn btn-circle btn-sm bg-white text-gray-600 hover:bg-gray-50 border-gray-300"},[...x[1]||(x[1]=[n("i",{class:"las la-chevron-left text-xl"},null,-1)])]),n("div",Xu,[n("h2",Zu,m(d.value.monthYear),1),l.value!==0?(C(),S("button",{key:0,onClick:R,class:"btn btn-xs bg-white text-gray-600 hover:bg-gray-50 border-gray-300 mt-2"},[...x[2]||(x[2]=[n("i",{class:"las la-calendar-day"},null,-1),K(" Mes Actual ",-1)])])):z("",!0)]),n("button",{onClick:g,class:"btn btn-circle btn-sm bg-white text-gray-600 hover:bg-gray-50 border-gray-300"},[...x[3]||(x[3]=[n("i",{class:"las la-chevron-right text-xl"},null,-1)])])]),n("div",ef,[n("div",tf,[x[4]||(x[4]=n("p",{class:"text-gray-500 text-xs"},"Mantenimientos",-1)),n("p",sf,m(u.value.total_maintenances),1)]),n("div",nf,[x[5]||(x[5]=n("p",{class:"text-gray-500 text-xs"},"Recursos",-1)),n("p",of,m(u.value.resources_count),1)]),n("div",rf,[x[6]||(x[6]=n("p",{class:"text-gray-500 text-xs"},"Costo Total",-1)),n("p",lf,m(P(u.value.total_cost)),1)])]),x[7]||(x[7]=Gi('<div class="flex justify-center gap-3 mt-2 bg-slate-800 text-white rounded-lg py-1.5 px-2"><div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-blue-500"></span><span class="text-white text-xs">Intervalo das</span></div><div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-purple-500"></span><span class="text-white text-xs">Das semana</span></div><div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-orange-500"></span><span class="text-white text-xs">Das mes</span></div></div>',1))]),o.value?(C(),S("div",af,[...x[8]||(x[8]=[n("i",{class:"las la-spinner la-spin text-2xl"},null,-1),n("span",null,"Cargando recursos del proyecto...",-1)])])):!be(s)||be(s).length===0?(C(),S("div",cf,[...x[9]||(x[9]=[n("i",{class:"las la-info-circle text-2xl"},null,-1),n("span",null,"No hay recursos asignados a este proyecto.",-1)])])):(C(),S("div",df,[n("div",uf,[(C(),S(oe,null,_e(r,w=>n("div",{key:w,class:"p-2 text-center text-sm font-semibold text-white border-r border-slate-600 last:border-r-0"},m(w),1)),64))]),(C(!0),S(oe,null,_e(f.value,(w,M)=>(C(),S("div",{key:M,class:"grid grid-cols-7 border-t-2 border-slate-300"},[(C(!0),S(oe,null,_e(w,(T,ke)=>(C(),S("div",{key:ke,class:re(["min-h-24 p-1 border-r-2 border-slate-300 last:border-r-0 transition-colors",{"bg-gray-50":!T,"bg-lime-50 hover:bg-lime-100 cursor-pointer":T?.hasMaintenances,"bg-white":T&&!T.hasMaintenances,"ring-2 ring-lime-500 ring-inset":T?.isToday,"bg-lime-200":a.value?.dateStr===T?.dateStr}]),onClick:ce=>N(T)},[T?(C(),S(oe,{key:0},[n("div",pf,[n("span",{class:re(["text-sm font-medium",{"text-lime-700":T.isToday,"text-gray-700":!T.isToday&&T.hasMaintenances,"text-gray-400":!T.hasMaintenances}])},m(T.day),3),T.hasMaintenances?(C(),S("span",hf,m(T.maintenances.length),1)):z("",!0)]),T.hasMaintenances?(C(),S("div",bf,[(C(!0),S(oe,null,_e(T.maintenances.slice(0,3),(ce,me)=>(C(),S("div",{key:ce.resource_id,class:"flex items-center gap-1"},[n("span",{class:re(["w-2 h-2 rounded-full flex-shrink-0",F(ce.frequency_type)])},null,2),n("span",mf,m(ce.resource_code),1)]))),128)),T.maintenances.length>3?(C(),S("div",_f," +"+m(T.maintenances.length-3)+" ms ",1)):z("",!0)])):z("",!0)],64)):z("",!0)],10,ff))),128))]))),128))])),a.value?(C(),S("div",gf,[n("div",vf,[n("h3",yf,[x[10]||(x[10]=n("i",{class:"las la-calendar-check text-lime-600"},null,-1)),K(" Mantenimientos del "+m(new Date(a.value.dateStr).toLocaleDateString("es-GT",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),1)]),n("button",{onClick:x[0]||(x[0]=w=>a.value=null),class:"btn btn-circle btn-sm btn-ghost"},[...x[11]||(x[11]=[n("i",{class:"las la-times"},null,-1)])])]),n("div",xf,[n("table",wf,[x[13]||(x[13]=n("thead",null,[n("tr",{class:"bg-lime-50"},[n("th",{class:"text-xs"},"Cdigo"),n("th",{class:"text-xs"},"Recurso"),n("th",{class:"text-xs"},"Descripcin"),n("th",{class:"text-xs"},"Frecuencia"),n("th",{class:"text-xs text-right"},"Costo")])],-1)),n("tbody",null,[(C(!0),S(oe,null,_e(a.value.maintenances,w=>(C(),S("tr",{key:w.resource_id,class:"hover:bg-lime-50"},[n("td",Cf,[n("span",$f,m(w.resource_code),1)]),n("td",Ef,m(w.resource_name),1),n("td",Sf,m(w.description||"-"),1),n("td",Rf,[n("span",{class:re(["badge badge-sm",q(w.frequency_type)])},m(H(w)),3)]),n("td",kf,m(P(w.cost)),1)]))),128))]),n("tfoot",null,[n("tr",Af,[x[12]||(x[12]=n("td",{colspan:"4",class:"text-right text-xs"},"Total del da:",-1)),n("td",Df,m(P(a.value.maintenances.reduce((w,M)=>w+M.cost,0))),1)])])])])])):z("",!0),be(s)&&be(s).length>0&&c.value.length===0?(C(),S("div",Of,[...x[14]||(x[14]=[n("i",{class:"las la-info-circle text-2xl"},null,-1),n("span",null,"No hay mantenimientos programados para este mes.",-1)])])):z("",!0)]))}},If={key:0,class:"flex justify-between items-center mb-4 pb-3 border-b-2 border-blue-300"},Tf={class:"text-lg font-semibold text-gray-700"},Nf={class:"modal-content"},Os={__name:"Modal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"lg",validator:e=>["sm","md","lg","xl","2xl"].includes(e)}},emits:["close"],setup(e,{emit:t}){const s=t,o=()=>{s("close")},r={sm:"modal-box w-11/12 max-w-md",md:"modal-box w-11/12 max-w-2xl",lg:"modal-box w-11/12 max-w-4xl",xl:"modal-box w-11/12 max-w-6xl","2xl":"modal-box w-11/12 max-w-7xl"};return(l,a)=>(C(),S("div",{class:re(["modal",{"modal-open":e.isOpen}])},[n("div",{class:re(r[e.size])},[e.title?(C(),S("div",If,[n("h3",Tf,m(e.title),1),n("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:o},"  ")])):z("",!0),n("div",Nf,[ui(l.$slots,"default")])],2),n("div",{class:"modal-backdrop",onClick:o})],2))}},go=Yt("resourcesStore",{state:()=>({selectedResource:null,resources:[],newResource:{id:null,code:null,name:null,type:null,type_equipment:null,type_equipment_display:null,brand:null,model:null,status_equipment:null,status_disponibility:null,current_location:null,capacity_gallons:null,is_selected:!1,is_confirm_delete:!1,is_retired:!1}}),getters:{resourcesAvailable:e=>e.resources,physicalEquipmentsNotAvailable:e=>e.resources.filter(t=>t.type_equipment!=="SERVIC"&&t.available===!1)},actions:{async fetchResourcesAvailable(){console.log("Fetching available resources...");try{const e=await fetch(ue.URLSourcesAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.resources=t.data||[]}catch(e){console.error("Error fetching available resources:",e),this.resources=[]}},setSelectedResource(e){console.log("Setting selected resource with ID:",e),this.selectedResource=this.resources.find(t=>t.id===e)||null}}}),jf={class:"form-control w-full relative"},Mf={key:0,class:"label"},Ff={class:"label-text"},Vf=["placeholder"],Uf={key:1,class:"absolute z-10 w-full mt-1 bg-base-100 shadow-lg rounded-lg max-h-60 overflow-auto top-full"},Lf={class:"menu"},qf=["onMousedown"],Bf={class:"hover:bg-base-200"},Jl={__name:"AutocompleteResource",props:{label:{type:String,default:"Recurso"},placeholder:{type:String,default:"Buscar recurso..."},excludeIds:{type:Array,default:()=>[]}},emits:["resource-selected"],setup(e,{emit:t}){const s=e,o=t,r=go(),l=ie(""),a=ie(!1),i=Q(()=>{const u=r.resourcesAvailable||r.resources;return Array.isArray(u)?u:u&&typeof u=="object"?Object.values(u):[]});bt(async()=>{console.log("mounted AutocompleteResource"),await r.fetchResourcesAvailable()});const c=Q(()=>{let u=i.value;return u=u.filter(d=>d.available===!0),s.excludeIds.length>0&&(u=u.filter(d=>!s.excludeIds.includes(d.id))),l.value?u.filter(d=>(d.display_name||d.title||"").toLowerCase().includes(l.value.toLowerCase())):u}),p=()=>{a.value=!0},f=u=>{l.value="",r.setSelectedResource(u.id),a.value=!1,o("resource-selected",u)},h=()=>{setTimeout(()=>{a.value=!1},200)};return(u,d)=>(C(),S("div",jf,[e.label?(C(),S("label",Mf,[n("span",Ff,m(e.label),1)])):z("",!0),ne(n("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=$=>l.value=$),onInput:p,onFocus:d[1]||(d[1]=$=>a.value=!0),onBlur:h,placeholder:e.placeholder,class:"input input-bordered w-full"},null,40,Vf),[[de,l.value]]),a.value&&c.value.length>0?(C(),S("div",Uf,[n("ul",Lf,[(C(!0),S(oe,null,_e(c.value,$=>(C(),S("li",{key:$.id,onMousedown:g=>f($)},[n("a",Bf,m($.display_name||$.title),1)],40,qf))),128))])])):z("",!0)]))}},Hf={class:"space-y-4"},Gf={key:0,class:"alert alert-error shadow-lg"},Wf={key:1,class:"alert alert-success shadow-lg"},Kf={key:0,class:"grid grid-cols-12 gap-4 items-center"},Yf={class:"col-span-8"},zf={key:1,class:"grid grid-cols-12 gap-4 items-center"},Qf={class:"col-span-8"},Jf=["value"],Xf={class:"grid grid-cols-12 gap-4 items-start"},Zf={class:"col-span-8"},ep={class:"grid grid-cols-12 gap-4 items-center"},tp={class:"col-span-8"},sp={class:"grid grid-cols-12 gap-4 items-center"},np={class:"col-span-8"},op={class:"grid grid-cols-12 gap-4 items-center"},rp={class:"col-span-8"},lp=["disabled"],ap={class:"grid grid-cols-12 gap-4 items-center"},ip={class:"col-span-8"},cp=["disabled"],dp={class:"grid grid-cols-12 gap-4 items-center"},up={class:"col-span-8"},fp={class:"label cursor-pointer justify-start gap-3"},pp=["disabled"],hp={class:"label-text"},bp={key:2,class:"bg-gray-50 rounded-lg p-4 space-y-3"},mp={class:"grid grid-cols-12 gap-4 items-center"},_p={class:"col-span-8"},gp=["value"],vp={key:0,class:"grid grid-cols-12 gap-4 items-center"},yp={class:"col-span-8"},xp={class:"label"},wp={class:"label-text-alt text-info"},Cp={key:1,class:"grid grid-cols-12 gap-4 items-start"},$p={class:"col-span-8"},Ep={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-2"},Sp=["onClick"],Rp={class:"hidden sm:inline"},kp={class:"sm:hidden"},Ap={class:"label"},Dp={class:"label-text-alt text-info"},Op={key:2,class:"grid grid-cols-12 gap-4 items-start"},Pp={class:"col-span-8"},Ip={class:"grid grid-cols-7 sm:grid-cols-10 gap-2"},Tp=["onClick"],Np={class:"label"},jp={class:"label-text-alt text-info"},Mp={class:"flex justify-end gap-3 pt-4"},Fp=["disabled"],Vp=["disabled"],Up={key:0,class:"loading loading-spinner loading-sm"},Lp={key:1},qp={__name:"ResourceForm",props:{resource:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,r=is(),l=go(),a=Ve(),i=ie(!1),c=ie(""),p=ie(""),f=[{value:"DAY",label:"Por intervalo de das"},{value:"WEEK",label:"Das de la semana"},{value:"MONTH",label:"Das del mes"}],h=[{value:0,label:"Lunes"},{value:1,label:"Martes"},{value:2,label:"Mircoles"},{value:3,label:"Jueves"},{value:4,label:"Viernes"},{value:5,label:"Sbado"},{value:6,label:"Domingo"}],u=ie({id:null,resource_id:null,resource_display_name:"",detailed_description:"",type_resource:"SERVICIO",cost:0,frequency_type:"DAY",interval_days:3,weekdays:[],monthdays:[],maintenance_cost:0,operation_start_date:null,operation_end_date:null,include_maintenance:!0}),d=Q(()=>!!s.resource),$=Q(()=>u.value.type_resource==="SERVICIO"),g=Q(()=>d.value?r.resources.filter(x=>x.id!==s.resource?.id&&x.type_resource==="EQUIPO").map(x=>x.resource_id):r.resources.filter(x=>x.type_resource==="EQUIPO").map(x=>x.resource_id));je(()=>s.resource,x=>{x&&(u.value={id:x.id,resource_id:x.resource_id,resource_display_name:x.resource_display_name||x.detailed_description,detailed_description:x.detailed_description,type_resource:x.type_resource,cost:x.cost||0,frequency_type:x.frequency_type||"DAY",interval_days:x.interval_days||3,weekdays:x.weekdays||[],monthdays:x.monthdays||[],maintenance_cost:x.maintenance_cost||0,operation_start_date:x.operation_start_date,operation_end_date:x.operation_end_date,include_maintenance:x.interval_days>0||x.weekdays&&x.weekdays.length>0||x.monthdays&&x.monthdays.length>0})},{immediate:!0});const R=()=>{const x=l.selectedResource;x&&(u.value.resource_id=x.id,u.value.resource_display_name=x.display_name,u.value.detailed_description=x.display_name,u.value.type_resource=x.type_equipment==="SERVIC"?"SERVICIO":"EQUIPO",u.value.type_resource==="SERVICIO"&&(u.value.include_maintenance=!0,u.value.frequency_type="DAY",u.value.interval_days=3))},N=()=>{u.value.include_maintenance?u.value.frequency_type==="DAY"&&u.value.interval_days===0&&(u.value.interval_days=3):(u.value.frequency_type="DAY",u.value.interval_days=0,u.value.weekdays=[],u.value.monthdays=[],u.value.maintenance_cost=0)},P=()=>{u.value.frequency_type==="DAY"?(u.value.interval_days=u.value.interval_days||3,u.value.weekdays=[],u.value.monthdays=[]):u.value.frequency_type==="WEEK"?(u.value.interval_days=0,u.value.weekdays=u.value.weekdays||[],u.value.monthdays=[]):u.value.frequency_type==="MONTH"&&(u.value.interval_days=0,u.value.weekdays=[],u.value.monthdays=u.value.monthdays||[])},F=x=>{const w=u.value.weekdays.indexOf(x);w===-1?u.value.weekdays.push(x):u.value.weekdays.splice(w,1)},q=x=>{const w=u.value.monthdays.indexOf(x);w===-1?u.value.monthdays.push(x):u.value.monthdays.splice(w,1)},H=()=>{if(!d.value&&!u.value.resource_id)return c.value="Debe seleccionar un recurso",!1;if(!u.value.operation_start_date)return c.value="Debe ingresar la fecha de inicio de operaciones",!1;if(u.value.include_maintenance){if(u.value.frequency_type==="DAY"&&(!u.value.interval_days||u.value.interval_days<1))return c.value="El intervalo de das debe ser mayor a 0",!1;if(u.value.frequency_type==="WEEK"&&(!u.value.weekdays||u.value.weekdays.length===0))return c.value="Debe seleccionar al menos un da de la semana",!1;if(u.value.frequency_type==="MONTH"&&(!u.value.monthdays||u.value.monthdays.length===0))return c.value="Debe seleccionar al menos un da del mes",!1}return!0},y=async()=>{if(c.value="",p.value="",!!H()){i.value=!0;try{const x={...u.value,interval_days:u.value.include_maintenance&&u.value.frequency_type==="DAY"?u.value.interval_days:0,weekdays:u.value.include_maintenance&&u.value.frequency_type==="WEEK"?u.value.weekdays:null,monthdays:u.value.include_maintenance&&u.value.frequency_type==="MONTH"?u.value.monthdays:null};d.value?(await r.updateResourceProject(x),p.value="Recurso actualizado exitosamente"):(await r.addResourcesToProject([x]),p.value="Recurso agregado exitosamente"),setTimeout(()=>{o("close")},1500)}catch(x){console.error("Error al guardar recurso:",x),c.value=x.message||"Error al guardar el recurso"}finally{i.value=!1}}};return bt(()=>{d.value||(u.value.operation_start_date=a.project?.start_date||null)}),(x,w)=>(C(),S("div",Hf,[c.value?(C(),S("div",Gf,[n("div",null,[w[10]||(w[10]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("span",null,m(c.value),1)]),n("button",{onClick:w[0]||(w[0]=M=>c.value=""),class:"btn btn-sm btn-ghost"},[...w[11]||(w[11]=[n("i",{class:"las la-times"},null,-1)])])])):z("",!0),p.value?(C(),S("div",Wf,[n("div",null,[w[12]||(w[12]=n("i",{class:"las la-check-circle text-2xl"},null,-1)),n("span",null,m(p.value),1)])])):z("",!0),n("form",{onSubmit:As(y,["prevent"]),class:"space-y-3"},[d.value?(C(),S("div",zf,[w[14]||(w[14]=n("label",{class:"col-span-4 text-right font-semibold"}," Recurso ",-1)),n("div",Qf,[n("input",{type:"text",class:"input input-bordered bg-gray-100 w-full",value:u.value.resource_display_name,disabled:""},null,8,Jf)])])):(C(),S("div",Kf,[w[13]||(w[13]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Seleccionar Recurso "),n("span",{class:"text-error"},"*")],-1)),n("div",Yf,[Ce(Jl,{placeholder:"Buscar recurso disponible...",excludeIds:g.value,onResourceSelected:R},null,8,["excludeIds"])])])),n("div",Xf,[w[15]||(w[15]=n("label",{class:"col-span-4 text-right font-semibold pt-3"}," Descripcin Detallada ",-1)),n("div",Zf,[ne(n("textarea",{class:"textarea textarea-bordered h-20 w-full","onUpdate:modelValue":w[1]||(w[1]=M=>u.value.detailed_description=M),placeholder:"Ingrese detalles adicionales del recurso..."},null,512),[[de,u.value.detailed_description]])])]),n("div",ep,[w[16]||(w[16]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Fecha Inicio Operaciones "),n("span",{class:"text-error"},"*")],-1)),n("div",tp,[ne(n("input",{type:"date",class:"input input-bordered w-full","onUpdate:modelValue":w[2]||(w[2]=M=>u.value.operation_start_date=M),required:""},null,512),[[de,u.value.operation_start_date]])])]),n("div",sp,[w[17]||(w[17]=n("label",{class:"col-span-4 text-right font-semibold"}," Fecha Fin Operaciones ",-1)),n("div",np,[ne(n("input",{type:"date",class:"input input-bordered w-full","onUpdate:modelValue":w[3]||(w[3]=M=>u.value.operation_end_date=M)},null,512),[[de,u.value.operation_end_date]])])]),n("div",op,[w[18]||(w[18]=n("label",{class:"col-span-4 text-right font-semibold"}," Costo Alquiler (Bs) ",-1)),n("div",rp,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-bordered text-right w-full","onUpdate:modelValue":w[4]||(w[4]=M=>u.value.cost=M),placeholder:"0.00",disabled:$.value},null,8,lp),[[de,u.value.cost]])])]),n("div",ap,[w[19]||(w[19]=n("label",{class:"col-span-4 text-right font-semibold"}," Costo Mantenimiento (Bs) ",-1)),n("div",ip,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-bordered text-right w-full","onUpdate:modelValue":w[5]||(w[5]=M=>u.value.maintenance_cost=M),placeholder:"0.00",disabled:!u.value.include_maintenance},null,8,cp),[[de,u.value.maintenance_cost]])])]),w[28]||(w[28]=n("div",{class:"divider"},"Configuracin de Mantenimiento",-1)),n("div",dp,[w[20]||(w[20]=n("label",{class:"col-span-4 text-right font-semibold"}," Incluir Mantenimiento ",-1)),n("div",up,[n("label",fp,[ne(n("input",{type:"checkbox",class:"checkbox checkbox-primary","onUpdate:modelValue":w[6]||(w[6]=M=>u.value.include_maintenance=M),disabled:$.value,onChange:N},null,40,pp),[[Ol,u.value.include_maintenance]]),n("span",hp,m(u.value.include_maintenance?"S":"No"),1)])])]),u.value.include_maintenance?(C(),S("div",bp,[n("div",mp,[w[21]||(w[21]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Tipo de Frecuencia "),n("span",{class:"text-error"},"*")],-1)),n("div",_p,[ne(n("select",{class:"select select-bordered w-full","onUpdate:modelValue":w[7]||(w[7]=M=>u.value.frequency_type=M),onChange:P},[(C(),S(oe,null,_e(f,M=>n("option",{key:M.value,value:M.value},m(M.label),9,gp)),64))],544),[[Nt,u.value.frequency_type]])])]),u.value.frequency_type==="DAY"?(C(),S("div",vp,[w[23]||(w[23]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Intervalo en das "),n("span",{class:"text-error"},"*")],-1)),n("div",yp,[ne(n("input",{type:"number",min:"1",class:"input input-bordered w-full","onUpdate:modelValue":w[8]||(w[8]=M=>u.value.interval_days=M),placeholder:"Ej: 3",required:""},null,512),[[de,u.value.interval_days]]),n("div",xp,[n("span",wp,[w[22]||(w[22]=n("i",{class:"las la-info-circle"},null,-1)),K(" Mantenimiento cada "+m(u.value.interval_days||0)+" da(s) ",1)])])])])):u.value.frequency_type==="WEEK"?(C(),S("div",Cp,[w[25]||(w[25]=n("label",{class:"col-span-4 text-right font-semibold pt-2"},[K(" Das de la semana "),n("span",{class:"text-error"},"*")],-1)),n("div",$p,[n("div",Ep,[(C(),S(oe,null,_e(h,M=>n("button",{key:M.value,type:"button",class:re(["btn btn-sm",u.value.weekdays.includes(M.value)?"btn-primary":"btn-outline"]),onClick:T=>F(M.value)},[n("span",Rp,m(M.label),1),n("span",kp,m(M.label.substring(0,3)),1)],10,Sp)),64))]),n("div",Ap,[n("span",Dp,[w[24]||(w[24]=n("i",{class:"las la-info-circle"},null,-1)),K(" "+m(u.value.weekdays.length)+" da(s) seleccionado(s) ",1)])])])])):u.value.frequency_type==="MONTH"?(C(),S("div",Op,[w[27]||(w[27]=n("label",{class:"col-span-4 text-right font-semibold pt-2"},[K(" Das del mes "),n("span",{class:"text-error"},"*")],-1)),n("div",Pp,[n("div",Ip,[(C(),S(oe,null,_e(31,M=>n("button",{key:M,type:"button",class:re(["btn btn-sm",u.value.monthdays.includes(M)?"btn-primary":"btn-outline"]),onClick:T=>q(M)},m(M),11,Tp)),64))]),n("div",Np,[n("span",jp,[w[26]||(w[26]=n("i",{class:"las la-info-circle"},null,-1)),K(" "+m(u.value.monthdays.length)+" da(s) seleccionado(s) ",1)])])])])):z("",!0)])):z("",!0),n("div",Mp,[n("button",{type:"button",class:"btn btn-ghost",onClick:w[9]||(w[9]=M=>o("close")),disabled:i.value}," Cancelar ",8,Fp),n("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(C(),S("span",Up)):(C(),S("span",Lp,m(d.value?"Actualizar":"Guardar"),1))],8,Vp)])],32)]))}},Bp={class:"max-w-2xl mx-auto p-1"},Hp={class:"text-xl font-bold mb-6"},Gp={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Wp={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Kp={class:"border-b-1 border-r-1 border-sky-200"},Yp={class:"ml-2"},zp={class:"border-b-1 border-r-1 border-sky-200"},Qp={class:"ml-2"},Jp={class:"border-b-1 border-r-1 border-sky-200"},Xp={class:"ml-2"},Zp={class:"border-b-1 border-r-1 border-sky-200"},eh={class:"ml-2"},th={class:"border-b-1 border-r-1 border-sky-200"},sh={class:"ml-2"},nh={key:0,class:"border-b-1 border-r-1 border-sky-200"},oh={key:1,class:"border-b-1 border-r-1 border-sky-200"},rh={class:"ml-2"},lh={key:2,class:"border-b-1 border-r-1 border-sky-200"},ah={class:"ml-2"},ih={key:3,class:"border-b-1 border-r-1 border-sky-200"},ch={class:"ml-2"},dh={key:4,class:"border-b-1 border-r-1 border-sky-200"},uh={class:"ml-2"},fh={key:0,class:"alert alert-error shadow-lg mb-4"},ph={key:0,class:"form-control w-full"},hh={class:"form-control w-full"},bh={key:1,class:"form-control w-full"},mh={class:"form-control w-full"},_h={key:2,class:"form-control w-full"},gh={key:3,class:"form-control w-full"},vh={class:"flex gap-3 justify-end mt-6"},yh={type:"submit",class:"btn btn-primary"},xh={__name:"SheetPorjectForm",props:{sheet:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,r=_o(),l=Ve(),a=Q(()=>l.project),i=Q(()=>s.sheet!==null),c=ie({issue_date:"",period_start:"",period_end:"",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:"",contact_phone_reference:""}),p=ie("");bt(async()=>{await l.fetchProjectData(),i.value||r.initializeNewSheetProject(a.value)}),je(()=>s.sheet,$=>{$&&(c.value={issue_date:$.issue_date||"",period_start:$.period_start||"",period_end:$.period_end||"",service_type:$.service_type||"ALQUILER Y MANTENIMIENTO",contact_reference:$.contact_reference||"",contact_phone_reference:$.contact_phone_reference||""})},{immediate:!0});const f=async $=>{$.preventDefault(),p.value="";try{if(i.value){const g={id:s.sheet.id,issue_date:c.value.issue_date||null,period_start:c.value.period_start,period_end:c.value.period_end||null,service_type:c.value.service_type,contact_reference:c.value.contact_reference,contact_phone_reference:c.value.contact_phone_reference};await r.updateSheetProject(g),console.log("Planilla actualizada:",s.sheet.id)}else{const g={...r.newSheetProject,period_start:c.value.period_start,service_type:c.value.service_type},R=await r.addSheetProject(g);console.log("Planilla creada con ID:",R)}o("close")}catch(g){console.error("Error al guardar planilla:",g),p.value=g.message||"Error al guardar la planilla"}},h=()=>{o("close")},u=$=>$?new Intl.DateTimeFormat("es-GT").format(new Date($)):"N/A",d=$=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[$]||{text:$,class:"badge-ghost"};return($,g)=>(C(),S("div",Bp,[n("h5",Hp,m(i.value?`Planilla #${e.sheet.id} - ${e.sheet.series_code}`:"Nueva Planilla de Proyecto"),1),n("div",Gp,[g[16]||(g[16]=n("h6",{class:"font-semibold text-lg mb-3"},"Informacin del Proyecto",-1)),n("div",Wp,[n("div",Kp,[g[6]||(g[6]=n("span",{class:"font-medium"},"Proyecto ID:",-1)),n("span",Yp,m(a.value?.id),1)]),n("div",zp,[g[7]||(g[7]=n("span",{class:"font-medium"},"Cliente:",-1)),n("span",Qp,m(a.value?.partner_name),1)]),n("div",Jp,[g[8]||(g[8]=n("span",{class:"font-medium"},"Ubicacin:",-1)),n("span",Xp,m(a.value?.location),1)]),n("div",Zp,[g[9]||(g[9]=n("span",{class:"font-medium"},"Contacto:",-1)),n("span",eh,m(a.value?.contact_name),1)]),n("div",th,[g[10]||(g[10]=n("span",{class:"font-medium"},"Telfono:",-1)),n("span",sh,m(a.value?.contact_phone),1)]),i.value?(C(),S("div",nh,[g[11]||(g[11]=n("span",{class:"font-medium"},"Estado:",-1)),n("span",{class:re(["ml-2 badge",d(e.sheet.status).class])},m(d(e.sheet.status).text),3)])):z("",!0),i.value?(C(),S("div",oh,[g[12]||(g[12]=n("span",{class:"font-medium"},"Fecha Emisin:",-1)),n("span",rh,m(u(e.sheet.issue_date)),1)])):z("",!0),i.value?(C(),S("div",lh,[g[13]||(g[13]=n("span",{class:"font-medium"},"Total Galones:",-1)),n("span",ah,m(e.sheet.total_gallons?.toLocaleString()||0),1)])):z("",!0),i.value?(C(),S("div",ih,[g[14]||(g[14]=n("span",{class:"font-medium"},"Total Barriles:",-1)),n("span",ch,m(e.sheet.total_barrels?.toLocaleString()||0),1)])):z("",!0),i.value?(C(),S("div",dh,[g[15]||(g[15]=n("span",{class:"font-medium"},"Total M:",-1)),n("span",uh,m(e.sheet.total_cubic_meters?.toFixed(1)||0),1)])):z("",!0)])]),p.value?(C(),S("div",fh,[n("div",null,[g[17]||(g[17]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",null,m(p.value),1)])])):z("",!0),n("form",{onSubmit:As(f,["prevent"]),class:"space-y-4"},[i.value?(C(),S("div",ph,[g[18]||(g[18]=n("label",{class:"label",for:"issue_date"},[n("span",{class:"label-text font-medium"},"Fecha de Emisin")],-1)),ne(n("input",{type:"date",id:"issue_date","onUpdate:modelValue":g[0]||(g[0]=R=>c.value.issue_date=R),class:"input input-bordered w-full"},null,512),[[de,c.value.issue_date]]),g[19]||(g[19]=n("label",{class:"label"},[n("span",{class:"label-text-alt"},"Fecha de emisin de la planilla")],-1))])):z("",!0),n("div",hh,[g[20]||(g[20]=n("label",{class:"label",for:"period_start"},[n("span",{class:"label-text font-medium"},"Fecha Inicio Perodo *")],-1)),ne(n("input",{type:"date",id:"period_start","onUpdate:modelValue":g[1]||(g[1]=R=>c.value.period_start=R),required:"",class:"input input-bordered w-full"},null,512),[[de,c.value.period_start]]),g[21]||(g[21]=n("label",{class:"label"},[n("span",{class:"label-text-alt"},"Fecha de inicio del perodo a facturar")],-1))]),i.value?(C(),S("div",bh,[g[22]||(g[22]=n("label",{class:"label",for:"period_end"},[n("span",{class:"label-text font-medium"},"Fecha Fin Perodo")],-1)),ne(n("input",{type:"date",id:"period_end","onUpdate:modelValue":g[2]||(g[2]=R=>c.value.period_end=R),class:"input input-bordered w-full"},null,512),[[de,c.value.period_end]]),g[23]||(g[23]=n("label",{class:"label"},[n("span",{class:"label-text-alt"},"Fecha de fin del perodo (opcional)")],-1))])):z("",!0),n("div",mh,[g[25]||(g[25]=n("label",{class:"label",for:"service_type"},[n("span",{class:"label-text font-medium"},"Tipo de Servicio *")],-1)),ne(n("select",{id:"service_type","onUpdate:modelValue":g[3]||(g[3]=R=>c.value.service_type=R),required:"",class:"select select-bordered w-full"},[...g[24]||(g[24]=[n("option",{value:"ALQUILER"},"ALQUILER",-1),n("option",{value:"MANTENIMIENTO"},"MANTENIMIENTO",-1),n("option",{value:"ALQUILER Y MANTENIMIENTO"},"ALQUILER Y MANTENIMIENTO",-1)])],512),[[Nt,c.value.service_type]])]),i.value?(C(),S("div",_h,[g[26]||(g[26]=n("label",{class:"label",for:"contact_reference"},[n("span",{class:"label-text font-medium"},"Contacto de Referencia")],-1)),ne(n("input",{type:"text",id:"contact_reference","onUpdate:modelValue":g[4]||(g[4]=R=>c.value.contact_reference=R),placeholder:"Nombre del contacto",class:"input input-bordered w-full"},null,512),[[de,c.value.contact_reference]])])):z("",!0),i.value?(C(),S("div",gh,[g[27]||(g[27]=n("label",{class:"label",for:"contact_phone_reference"},[n("span",{class:"label-text font-medium"},"Telfono de Referencia")],-1)),ne(n("input",{type:"text",id:"contact_phone_reference","onUpdate:modelValue":g[5]||(g[5]=R=>c.value.contact_phone_reference=R),placeholder:"Telfono del contacto",class:"input input-bordered w-full"},null,512),[[de,c.value.contact_phone_reference]])])):z("",!0),n("div",vh,[n("button",{type:"button",class:"btn btn-outline",onClick:h}," Cancelar "),n("button",yh,m(i.value?"Actualizar":"Crear")+" Planilla ",1)])],32)]))}},wh={id:"project-app",class:"w-[90%] mx-auto p-4 bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300"},Ch={class:"flex justify-between items-center border-b-blue-500 border-b pb-1 mb-3"},$h={class:"text-xl font-semibold text-blue-500"},Eh={class:"flex items-center gap-3"},Sh={class:"text-gray-500"},Rh={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},kh={class:"space-y-1"},Ah={class:"flex items-center gap-2 py-0.5"},Dh={class:"font-semibold text-xs"},Oh={class:"flex items-center gap-2 py-0.5"},Ph={class:"font-semibold text-xs"},Ih={key:0,class:"badge badge-info ml-1"},Th={class:"space-y-1"},Nh={class:"flex items-center gap-2 py-0.5"},jh={class:"font-semibold text-xs"},Mh={class:"flex items-center gap-2 py-0.5"},Fh={key:0,class:"font-semibold text-xs"},Vh={key:1,class:"text-success font-bold text-xs"},Uh={class:"space-y-1"},Lh={class:"flex items-center gap-2 py-0.5"},qh={class:"font-semibold text-xs"},Bh={class:"flex items-center gap-2 py-0.5"},Hh={class:"font-semibold text-xs"},Gh={role:"tablist",class:"tabs tabs-lifted bg-base-100 p-1"},Wh={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},Kh={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},Yh={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},zh={__name:"ProjectsView",setup(e){const t=Ve(),s=is(),o=Q(()=>t.project),r=ie(!1),l=ie(""),a=ie(null),i=ie(null),c=ie(null),p=d=>{l.value="Editar Recurso del Proyecto",a.value="ResourceForm",i.value=d,r.value=!0},f=()=>{l.value="Nueva Planilla del Proyecto #"+o.value?.id,a.value="SheetProjectForm",c.value=null,r.value=!0},h=d=>{l.value="Editar Planilla #"+d.id+" - Proyecto #"+o.value?.id,a.value="SheetProjectForm",c.value=d,r.value=!0},u=()=>{r.value=!1,a.value=null,l.value="",i.value=null,c.value=null};return bt(()=>{t.fetchProjectData(),s.fetchResourcesProject()}),(d,$)=>(C(),S("div",null,[n("div",wh,[n("div",Ch,[n("h1",$h," Ficha de Proyecto #"+m(o.value?.id||"N/A"),1),n("div",Eh,[n("div",Sh,[n("span",{class:re(["badge",o.value?.is_closed?"badge-error":"badge-success"])},m(o.value?.is_closed?"Cerrado":"Abierto"),3)])])]),n("div",Rh,[n("div",kh,[n("div",Ah,[$[0]||($[0]=n("i",{class:"las la-building text-blue-500 text-sm"},null,-1)),$[1]||($[1]=n("span",{class:"text-xs text-gray-500"},"Cliente:",-1)),n("span",Dh,m(o.value?.partner_name||"N/A"),1)]),n("div",Oh,[$[2]||($[2]=n("i",{class:"las la-map-marker text-blue-500 text-sm"},null,-1)),$[3]||($[3]=n("span",{class:"text-xs text-gray-500"},"Campamento:",-1)),n("span",Ph,[K(m(o.value?.location||"N/A")+" ",1),o.value?.location&&o.value?.cardinal_point?(C(),S("span",Ih,m(o.value?.cardinal_point?` ${o.value.cardinal_point}`:""),1)):z("",!0)])])]),n("div",Th,[n("div",Nh,[$[4]||($[4]=n("i",{class:"las la-calendar-check text-blue-500 text-sm"},null,-1)),$[5]||($[5]=n("span",{class:"text-xs text-gray-500"},"Inicio:",-1)),n("span",jh,m(be(Kn)(o.value?.start_date)),1)]),n("div",Mh,[$[6]||($[6]=n("i",{class:"las la-calendar-times text-blue-500 text-sm"},null,-1)),$[7]||($[7]=n("span",{class:"text-xs text-gray-500"},"Fin:",-1)),o.value?.end_date?(C(),S("span",Fh,m(be(Kn)(o.value?.end_date)),1)):(C(),S("span",Vh,"EN CURSO"))])]),n("div",Uh,[n("div",Lh,[$[8]||($[8]=n("i",{class:"las la-user text-blue-500 text-sm"},null,-1)),$[9]||($[9]=n("span",{class:"text-xs text-gray-500"},"Contacto:",-1)),n("span",qh,m(o.value?.contact_name||"N/A"),1)]),n("div",Bh,[$[10]||($[10]=n("i",{class:"las la-phone text-blue-500 text-sm"},null,-1)),$[11]||($[11]=n("span",{class:"text-xs text-gray-500"},"Telfono:",-1)),n("span",Hh,m(o.value?.contact_phone||"N/A"),1)])])]),n("div",Gh,[$[12]||($[12]=n("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-amber-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Recursos Asignados",checked:""},null,-1)),n("div",Wh,[Ce(mu,{onEditResource:p})]),$[13]||($[13]=n("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-cyan-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Planillas de Trabajo"},null,-1)),n("div",Kh,[Ce(qu,{onOpenSheetForm:f,onEditSheet:h})]),$[14]||($[14]=n("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-lime-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Calendario Mantenimientos"},null,-1)),n("div",Yh,[Ce(Pf)])]),$[15]||($[15]=n("div",{class:"mt-8 bg-white border-t border-gray-200 shadow-md rounded-b-xl flex justify-end gap-3 px-4 py-3"},[n("a",{href:"/projects/",class:"btn btn-primary btn-sm"},[n("i",{class:"las la-times"}),K(" Volver A Proyectos ")])],-1))]),Ce(Os,{"is-open":r.value,title:l.value,size:"lg",onClose:u},{default:Ut(()=>[a.value==="ResourceForm"?(C(),ht(qp,{key:0,resource:i.value,onClose:u},null,8,["resource"])):z("",!0),a.value==="SheetProjectForm"?(C(),ht(xh,{key:1,sheet:c.value,onClose:u},null,8,["sheet"])):z("",!0)]),_:1},8,["is-open","title"])]))}},Qh={class:"container mx-auto p-4"},Jh={key:0,class:"alert alert-error shadow-lg mb-4"},Xh={key:1,class:"alert alert-success shadow-lg mb-4"},Zh={class:"card-body space-y-4"},eb={class:"flex gap-4"},tb={class:"form-control w-full"},sb={class:"mt-2 mb-2"},nb={class:"table table-zebra w-full"},ob={class:"border border-gray-300"},rb={class:"border border-gray-300"},lb={class:"border border-gray-300"},ab={class:"border border-gray-300"},ib=["onUpdate:modelValue"],cb=["value"],db={key:1,class:"text-gray-400 text-sm"},ub={class:"border border-gray-300"},fb=["onUpdate:modelValue"],pb={class:"border border-gray-300"},hb=["onUpdate:modelValue","onFocus","disabled"],bb={class:"border border-gray-300 text-center"},mb=["onUpdate:modelValue","disabled","onChange"],_b={class:"border border-gray-300"},gb={key:0,class:"space-y-2"},vb=["onUpdate:modelValue","onChange"],yb=["value"],xb={key:0},wb=["onUpdate:modelValue"],Cb={key:1,class:"flex flex-wrap gap-1"},$b=["onClick"],Eb={key:2,class:"grid grid-cols-7 gap-1"},Sb=["onClick"],Rb={key:1,class:"text-gray-400 text-sm"},kb={class:"border border-gray-300"},Ab=["onUpdate:modelValue","onFocus","disabled"],Db={class:"border border-gray-300 text-center"},Ob=["onClick","disabled"],Pb={key:0},Ib={class:"flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},Tb=["disabled"],Nb={key:0,class:"loading loading-spinner loading-sm"},jb={key:1},Mb={__name:"ResourceItemsForm",setup(e){const t=go(),s=is(),o=Ve(),r=Ms(),l=ie([]),a=ie(!1),i=ie(""),c=ie(""),p=Q(()=>t.physicalEquipmentsNotAvailable||[]),f=Q(()=>l.value.filter(y=>y.resource?.type_equipment_display!=="SERVICIO").map(y=>y.resource_id)),h=[{value:"DAY",label:"Por intervalo de das"},{value:"WEEK",label:"Das de la semana"},{value:"MONTH",label:"Das del mes"}],u=[{value:0,label:"Lunes"},{value:1,label:"Martes"},{value:2,label:"Mircoles"},{value:3,label:"Jueves"},{value:4,label:"Viernes"},{value:5,label:"Sbado"},{value:6,label:"Domingo"}],d=async()=>{const y=t.selectedResource,x=y.type_equipment==="SERVIC";if(!x&&t.resources&&Array.isArray(t.resources)){const M=t.resources.find(T=>T.id===y.id);M&&(M.is_selected=!0)}const w={resource:y,resource_id:y.id,resource_display_name:y.display_name,detailed_description:y.display_name,frequency_type:"DAY",interval_days:x?3:0,weekdays:[],monthdays:[],cost:0,maintenance_cost:0,operation_start_date:o.project?.start_date||null,include_maintenance:x,physical_equipment_code:null};l.value.push(w),t.selectedResource=null},$=y=>{const x=l.value[y];if(x.resource?.type_equipment_display!=="SERVICIO"&&t.resources&&Array.isArray(t.resources)){const w=t.resources.find(M=>M.id===x.resource_id);w&&(w.is_selected=!1)}l.value.splice(y,1)},g=async()=>{i.value="",c.value="",a.value=!0;try{if(l.value.filter(w=>!w.operation_start_date).length>0){i.value="Todos los recursos deben tener una fecha de inicio de operaciones",a.value=!1;return}const x=await s.addResourcesToProject(l.value);c.value=`Se agregaron ${x.added} recurso(s) exitosamente`,r.push("/project")}catch(y){console.error("Error submitting form:",y),i.value=y.message||"Error al guardar los recursos. Por favor intente nuevamente."}finally{a.value=!1}},R=(y,x)=>{if(!y.include_maintenance)y.frequency_type="DAY",y.interval_days=0,y.weekdays=[],y.monthdays=[],y.maintenance_cost=0;else{y.frequency_type=y.frequency_type||"DAY",y.frequency_type==="DAY"&&(!y.interval_days||y.interval_days===0)&&(y.interval_days=3);const T=x.target.closest("tr").querySelector('input[data-input="interval"]');T&&setTimeout(()=>{T.focus(),T.select()},50)}},N=y=>{y.frequency_type==="DAY"?((!y.interval_days||y.interval_days===0)&&(y.interval_days=3),y.weekdays=[],y.monthdays=[]):y.frequency_type==="WEEK"?(y.interval_days=0,y.weekdays=y.weekdays||[],y.monthdays=[]):y.frequency_type==="MONTH"&&(y.interval_days=0,y.weekdays=[],y.monthdays=y.monthdays||[])},P=(y,x)=>{y.weekdays||(y.weekdays=[]);const w=y.weekdays.indexOf(x);w===-1?y.weekdays.push(x):y.weekdays.splice(w,1)},F=(y,x)=>{y.monthdays||(y.monthdays=[]);const w=y.monthdays.indexOf(x);w===-1?y.monthdays.push(x):y.monthdays.splice(w,1)},q=y=>{y.cost===0&&(y.cost=null)},H=y=>{y.maintenance_cost===0&&(y.maintenance_cost=null)};return bt(async()=>{await t.fetchResourcesAvailable()}),(y,x)=>(C(),S("div",Qh,[i.value?(C(),S("div",Jh,[n("div",null,[x[1]||(x[1]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("span",null,m(i.value),1)]),n("button",{onClick:x[0]||(x[0]=w=>i.value=""),class:"btn btn-sm btn-ghost"},[...x[2]||(x[2]=[n("i",{class:"las la-times"},null,-1)])])])):z("",!0),c.value?(C(),S("div",Xh,[n("div",null,[x[3]||(x[3]=n("i",{class:"las la-check-circle text-2xl"},null,-1)),n("span",null,m(c.value),1)])])):z("",!0),n("form",{class:"card bg-base-100 shadow-xl border border-gray-200 rounded-lg",onSubmit:As(g,["prevent"])},[n("div",Zh,[n("div",eb,[n("div",tb,[x[4]||(x[4]=n("label",{class:"label"},[n("span",{class:"label-text font-semibold"},"Seleccionar Recurso *")],-1)),Ce(Jl,{placeholder:"Buscar recurso disponible...",excludeIds:f.value,onResourceSelected:d},null,8,["excludeIds"])])]),n("div",sb,[n("table",nb,[x[8]||(x[8]=n("thead",null,[n("tr",{class:"bg-lime-800 text-white border border-green-500 text-center uppercase"},[n("th",{class:"border"},"#"),n("th",{class:"border"},"Detalle"),n("th",{class:"border"},"Tipo"),n("th",{class:"border"},"Equipo Fsico"),n("th",{class:"border"},"Fecha Inicio *"),n("th",{class:"border"},"Costo Alq"),n("th",{class:"border"},"Mant"),n("th",{class:"border"},"Frecuencia"),n("th",{class:"border"},"Costo Mnt"),n("th",{class:"border"},"Acciones")])],-1)),n("tbody",null,[(C(!0),S(oe,null,_e(l.value,(w,M)=>(C(),S("tr",{key:M},[n("td",ob,m(M+1),1),n("td",rb,m(w.resource_display_name||w.detailed_description),1),n("td",lb,m(w.resource?.type_equipment_display==="SERVICIO"?"SERVICIO":"EQUIPO"),1),n("td",ab,[w.resource?.type_equipment==="SERVIC"?ne((C(),S("select",{key:0,class:"select select-sm select-bordered w-full","onUpdate:modelValue":T=>w.physical_equipment_code=T},[x[5]||(x[5]=n("option",{value:null},"Sin equipo asignado",-1)),(C(!0),S(oe,null,_e(p.value,T=>(C(),S("option",{key:T.id,value:T.id},m(T.code)+" - "+m(T.type_equipment_display),9,cb))),128))],8,ib)),[[Nt,w.physical_equipment_code]]):(C(),S("span",db,"-"))]),n("td",ub,[ne(n("input",{type:"date",class:re(["input input-sm input-bordered w-full",{"input-error":!w.operation_start_date}]),"onUpdate:modelValue":T=>w.operation_start_date=T,required:""},null,10,fb),[[de,w.operation_start_date]])]),n("td",pb,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":T=>w.cost=T,onFocus:T=>q(w),placeholder:"0.00",disabled:w.resource?.type_equipment_display==="SERVICIO"},null,40,hb),[[de,w.cost]])]),n("td",bb,[ne(n("input",{type:"checkbox",class:"checkbox checkbox-sm","onUpdate:modelValue":T=>w.include_maintenance=T,disabled:w.resource?.type_equipment_display==="SERVICIO",onChange:T=>R(w,T)},null,40,mb),[[Ol,w.include_maintenance]])]),n("td",_b,[w.include_maintenance?(C(),S("div",gb,[ne(n("select",{class:"select select-sm select-bordered w-full","onUpdate:modelValue":T=>w.frequency_type=T,onChange:T=>N(w)},[(C(),S(oe,null,_e(h,T=>n("option",{key:T.value,value:T.value},m(T.label),9,yb)),64))],40,vb),[[Nt,w.frequency_type]]),w.frequency_type==="DAY"?(C(),S("div",xb,[ne(n("input",{type:"number",min:"1",class:"input input-sm input-bordered w-full","onUpdate:modelValue":T=>w.interval_days=T,"data-input":"interval",placeholder:"Das"},null,8,wb),[[de,w.interval_days]])])):w.frequency_type==="WEEK"?(C(),S("div",Cb,[(C(),S(oe,null,_e(u,T=>n("button",{key:T.value,type:"button",class:re(["btn btn-xs",w.weekdays?.includes(T.value)?"btn-primary":"btn-outline"]),onClick:ke=>P(w,T.value)},m(T.label.substring(0,3)),11,$b)),64))])):w.frequency_type==="MONTH"?(C(),S("div",Eb,[(C(),S(oe,null,_e(31,T=>n("button",{key:T,type:"button",class:re(["btn btn-xs",w.monthdays?.includes(T)?"btn-primary":"btn-outline"]),onClick:ke=>F(w,T)},m(T),11,Sb)),64))])):z("",!0)])):(C(),S("span",Rb,"-"))]),n("td",kb,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":T=>w.maintenance_cost=T,onFocus:T=>H(w),placeholder:"0.00",disabled:!w.include_maintenance},null,40,Ab),[[de,w.maintenance_cost]])]),n("td",Db,[n("button",{type:"button",class:"btn btn-sm btn-error",onClick:T=>$(M),disabled:a.value},[...x[6]||(x[6]=[n("i",{class:"las la-trash text-lg"},null,-1)])],8,Ob)])]))),128)),l.value.length===0?(C(),S("tr",Pb,[...x[7]||(x[7]=[n("td",{colspan:"10",class:"text-center py-4 text-gray-500"}," No hay recursos agregados. Seleccione un recurso del autocomplete. ",-1)])])):z("",!0)])])]),x[10]||(x[10]=n("div",{class:"divider"},null,-1)),n("div",Ib,[Ce(be(mo),{to:"/project",class:re(["btn btn-ghost",{"btn-disabled":a.value}])},{default:Ut(()=>[...x[9]||(x[9]=[K(" Cancelar ",-1)])]),_:1},8,["class"]),n("button",{type:"submit",class:"btn btn-primary",disabled:l.value.length===0||a.value},[a.value?(C(),S("span",Nb)):(C(),S("span",jb,"Guardar Recursos ("+m(l.value.length)+")",1))],8,Tb)])])],32)]))}},Xl=Yt("technicalStore",{state:()=>({technical:{},technicals:[]}),actions:{async fetchTechnicalsAvailable(){console.log("Fetching available technicals...");try{const e=await fetch(ue.URLTechnicalsAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch technicals");const t=await e.json();this.technicals=t.data}catch(e){console.error("Error fetching technicals:",e)}}}}),Zl=Yt("vehicleStore",{state:()=>({vehicle:{},vehicles:[]}),actions:{async fetchVehicles(){console.log("Fetching available vehicles...");try{const e=await fetch(ue.URLVehiclesAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch vehicles");const t=await e.json();this.vehicles=t.data}catch(e){console.error("Error fetching vehicles:",e)}}}}),Fb={key:0,class:"max-w-4xl mx-auto p-1"},Vb={class:"text-xl font-bold mb-6"},Ub={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Lb={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},qb={class:"border-b-1 border-r-1 border-sky-200"},Bb={class:"ml-2"},Hb={class:"border-b-1 border-r-1 border-sky-200"},Gb={class:"ml-2"},Wb={class:"border-b-1 border-r-1 border-sky-200"},Kb={class:"ml-2"},Yb={class:"border-b-1 border-r-1 border-sky-200"},zb={class:"ml-2 font-mono"},Qb={class:"border-b-1 border-r-1 border-sky-200"},Jb={class:"ml-2 text-blue-600"},Xb={class:"border-b-1 border-r-1 border-sky-200"},Zb={class:"ml-2"},em={class:"border-b-1 border-r-1 border-sky-200"},tm={class:"ml-2"},sm={class:"border-b-1 border-r-1 border-sky-200"},nm={class:"ml-2"},om={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},rm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},lm={class:"border-b-1 border-r-1 border-sky-200"},am={class:"ml-2"},im={class:"border-b-1 border-r-1 border-sky-200"},cm={class:"border-b-1 border-r-1 border-sky-200"},dm={class:"border-b-1 border-r-1 border-sky-200"},um={class:"ml-2 font-mono text-xs"},fm={class:"border-b-1 border-r-1 border-sky-200"},pm={class:"ml-2"},hm={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},bm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},mm={class:"border-b-1 border-r-1 border-sky-200"},_m={class:"ml-2"},gm={class:"border-b-1 border-r-1 border-sky-200"},vm={class:"ml-2"},ym={class:"border-b-1 border-r-1 border-sky-200"},xm={class:"ml-2"},wm={class:"border-b-1 border-r-1 border-sky-200"},Cm={class:"ml-2"},$m={class:"border-b-1 border-r-1 border-sky-200"},Em={class:"ml-2"},Sm={class:"border-b-1 border-r-1 border-sky-200"},Rm={class:"ml-2"},km={class:"border-b-1 border-r-1 border-sky-200"},Am={class:"ml-2"},Dm={class:"border-b-1 border-r-1 border-sky-200"},Om={class:"ml-2"},Pm={key:0,class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Im={class:"font-semibold text-lg mb-3"},Tm={class:"overflow-x-auto border border-gray-300 rounded"},Nm={class:"table table-sm w-full"},jm={class:"border-r border-gray-300"},Mm={class:"border-r border-gray-300 font-mono text-sm"},Fm={key:1,class:"bg-sky-50 rounded-lg p-4 mb-6 border-gray-200 border"},Vm={class:"overflow-x-auto bg-base-100 border border-gray-300 rounded"},Um={class:"table table-xs w-full border-collapse"},Lm={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},qm={class:"border border-gray-300 text-center"},Bm={class:"border border-gray-300 text-center font-mono text-xs"},Hm={class:"border border-gray-300 text-center font-mono text-xs"},Gm={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},Wm={class:"border border-gray-300 text-center text-gray-400"},Km={key:2,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},Ym={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},ea={__name:"TechnicalPresentation",props:{technical:{type:Object,default:null}},setup(e){const t=e,s=a=>a?new Date(a).toLocaleDateString("es-ES"):"N/A",o=(a,i)=>{if(!i)return"badge-ghost";const c=new Date,p=new Date(i),f=Math.floor((p-c)/(1e3*60*60*24));return f<0?"badge-error":f<=30?"badge-warning":"badge-success"},r=a=>{if(!a)return"Sin vencer";const i=new Date,c=new Date(a),p=Math.floor((c-i)/(1e3*60*60*24));return p<0?"VENCIDO":p<=30?"PRXIMO A VENCER":"VIGENTE"},l=Q(()=>t.technical?.vaccination_records?t.technical.vaccination_records.reduce((a,i)=>{const c=i.vaccine_type_display;return a[c]||(a[c]=[]),a[c].push(i),a},{}):{});return(a,i)=>e.technical?(C(),S("div",Fb,[n("h5",Vb,m(e.technical.first_name)+" "+m(e.technical.last_name),1),n("div",Ub,[i[8]||(i[8]=n("h6",{class:"font-semibold text-lg mb-3"},"Datos Personales",-1)),n("div",Lb,[n("div",qb,[i[0]||(i[0]=n("span",{class:"font-medium"},"ID:",-1)),n("span",Bb,m(e.technical.id),1)]),n("div",Hb,[i[1]||(i[1]=n("span",{class:"font-medium"},"Nombre:",-1)),n("span",Gb,m(e.technical.first_name),1)]),n("div",Wb,[i[2]||(i[2]=n("span",{class:"font-medium"},"Apellido:",-1)),n("span",Kb,m(e.technical.last_name),1)]),n("div",Yb,[i[3]||(i[3]=n("span",{class:"font-medium"},"Cdula (DNI):",-1)),n("span",zb,m(e.technical.dni),1)]),n("div",Qb,[i[4]||(i[4]=n("span",{class:"font-medium"},"Email:",-1)),n("span",Jb,m(e.technical.email),1)]),n("div",Xb,[i[5]||(i[5]=n("span",{class:"font-medium"},"Telfono:",-1)),n("span",Zb,m(e.technical.nro_phone),1)]),n("div",em,[i[6]||(i[6]=n("span",{class:"font-medium"},"Fecha Nacimiento:",-1)),n("span",tm,m(s(e.technical.birth_date)),1)]),n("div",sm,[i[7]||(i[7]=n("span",{class:"font-medium"},"Fecha Ingreso:",-1)),n("span",nm,m(s(e.technical.date_joined)),1)])])]),n("div",om,[i[14]||(i[14]=n("h6",{class:"font-semibold text-lg mb-3"},"Informacin Laboral",-1)),n("div",rm,[n("div",lm,[i[9]||(i[9]=n("span",{class:"font-medium"},"rea de Trabajo:",-1)),n("span",am,m(e.technical.work_area_display),1)]),n("div",im,[i[10]||(i[10]=n("span",{class:"font-medium"},"Afiliado IESS:",-1)),n("span",{class:re(["ml-2 badge",e.technical.is_iess_affiliated?"badge-success":"badge-ghost"])},m(e.technical.is_iess_affiliated?"S":"No"),3)]),n("div",cm,[i[11]||(i[11]=n("span",{class:"font-medium"},"Seguro de Vida:",-1)),n("span",{class:re(["ml-2 badge",e.technical.has_life_insurance_policy?"badge-success":"badge-ghost"])},m(e.technical.has_life_insurance_policy?"S":"No"),3)]),n("div",dm,[i[12]||(i[12]=n("span",{class:"font-medium"},"Cdigo QUEST NCST:",-1)),n("span",um,m(e.technical.quest_ncst_code),1)]),n("div",fm,[i[13]||(i[13]=n("span",{class:"font-medium"},"Instructor QUEST:",-1)),n("span",pm,m(e.technical.quest_instructor),1)])])]),n("div",hm,[i[23]||(i[23]=n("h6",{class:"font-semibold text-lg mb-3"},"Licencias y Certificados",-1)),n("div",bm,[n("div",mm,[i[15]||(i[15]=n("span",{class:"font-medium"},"Licencia (Expedida):",-1)),n("span",_m,m(s(e.technical.license_issue_date)),1)]),n("div",gm,[i[16]||(i[16]=n("span",{class:"font-medium"},"Licencia (Vence):",-1)),n("span",vm,[n("span",{class:re(["badge",o(e.technical.license_issue_date,e.technical.license_expiry_date)])},m(s(e.technical.license_expiry_date)),3)])]),n("div",ym,[i[17]||(i[17]=n("span",{class:"font-medium"},"Cond. Defensiva (Expedida):",-1)),n("span",xm,m(s(e.technical.defensive_driving_certificate_issue_date)),1)]),n("div",wm,[i[18]||(i[18]=n("span",{class:"font-medium"},"Cond. Defensiva (Vence):",-1)),n("span",Cm,[n("span",{class:re(["badge",o(e.technical.defensive_driving_certificate_issue_date,e.technical.defensive_driving_certificate_expiry_date)])},m(s(e.technical.defensive_driving_certificate_expiry_date)),3)])]),n("div",$m,[i[19]||(i[19]=n("span",{class:"font-medium"},"Certificado MAE (Expedida):",-1)),n("span",Em,m(s(e.technical.mae_certificate_issue_date)),1)]),n("div",Sm,[i[20]||(i[20]=n("span",{class:"font-medium"},"Certificado MAE (Vence):",-1)),n("span",Rm,m(s(e.technical.mae_certificate_expiry_date)),1)]),n("div",km,[i[21]||(i[21]=n("span",{class:"font-medium"},"Certificado Mdico (Expedida):",-1)),n("span",Am,m(s(e.technical.medical_certificate_issue_date)),1)]),n("div",Dm,[i[22]||(i[22]=n("span",{class:"font-medium"},"Certificado Mdico (Vence):",-1)),n("span",Om,m(s(e.technical.medical_certificate_expiry_date)),1)])])]),e.technical.passes&&e.technical.passes.length>0?(C(),S("div",Pm,[n("h6",Im,"Pases de Acceso ("+m(e.technical.passes.length)+")",1),n("div",Tm,[n("table",Nm,[i[24]||(i[24]=n("thead",{class:"bg-sky-100"},[n("tr",null,[n("th",{class:"border-r border-gray-300"},"Bloque"),n("th",{class:"border-r border-gray-300"},"Vencimiento"),n("th",null,"Estado")])],-1)),n("tbody",null,[(C(!0),S(oe,null,_e(e.technical.passes,c=>(C(),S("tr",{key:c.id,class:"hover"},[n("td",jm,m(c.bloque_display||c.bloque),1),n("td",Mm,m(s(c.fecha_caducidad)),1),n("td",null,[n("span",{class:re(["badge",o(null,c.fecha_caducidad)])},m(r(c.fecha_caducidad)),3)])]))),128))])])])])):z("",!0),e.technical.vaccination_records&&e.technical.vaccination_records.length>0?(C(),S("div",Fm,[i[28]||(i[28]=n("h6",{class:"font-semibold text-lg mb-3"},"Registro de Vacunaciones",-1)),n("div",Vm,[n("table",Um,[i[27]||(i[27]=n("thead",null,[n("tr",{class:"bg-sky-100"},[n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"VACUNA"),n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"DOSIS"),n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"FECHA"),n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"LOTE")])],-1)),n("tbody",null,[(C(!0),S(oe,null,_e(l.value,(c,p)=>(C(),S(oe,{key:p},[(C(!0),S(oe,null,_e(c.slice(0,5),(f,h)=>(C(),S("tr",{key:f.id,class:"hover:bg-sky-50"},[h===0?(C(),S("td",Lm,m(p),1)):z("",!0),n("td",qm,m(f.dose_number),1),n("td",Bm,m(s(f.application_date)),1),n("td",Hm,m(f.batch_number||""),1)]))),128)),(C(!0),S(oe,null,_e(Math.max(0,5-c.length),f=>(C(),S("tr",{key:`${p}-empty-${f}`,class:"hover:bg-sky-50"},[c.length===0&&f===1?(C(),S("td",Gm,m(p),1)):z("",!0),n("td",Wm,m(c.length+f),1),i[25]||(i[25]=n("td",{class:"border border-gray-300 text-center"},null,-1)),i[26]||(i[26]=n("td",{class:"border border-gray-300 text-center"},null,-1))]))),128))],64))),128))])])])])):z("",!0),e.technical.notes?(C(),S("div",Km,[i[29]||(i[29]=n("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),n("p",Ym,m(e.technical.notes),1)])):z("",!0)])):z("",!0)}},zm={key:0,class:"max-w-4xl mx-auto p-1"},Qm={class:"text-xl font-bold mb-6"},Jm={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Xm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Zm={class:"border-b-1 border-r-1 border-sky-200"},e_={class:"ml-2"},t_={class:"border-b-1 border-r-1 border-sky-200"},s_={class:"ml-2 font-mono"},n_={class:"border-b-1 border-r-1 border-sky-200"},o_={class:"ml-2"},r_={class:"border-b-1 border-r-1 border-sky-200"},l_={class:"ml-2"},a_={class:"border-b-1 border-r-1 border-sky-200"},i_={class:"ml-2"},c_={class:"border-b-1 border-r-1 border-sky-200"},d_={class:"ml-2"},u_={class:"border-b-1 border-r-1 border-sky-200"},f_={class:"border-b-1 border-r-1 border-sky-200"},p_={class:"ml-2 font-mono text-xs"},h_={class:"border-b-1 border-r-1 border-sky-200"},b_={class:"ml-2 font-mono text-xs"},m_={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},__={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},g_={class:"border-b-1 border-r-1 border-sky-200"},v_={class:"ml-2"},y_={class:"border-b-1 border-r-1 border-sky-200"},x_={class:"border-b-1 border-r-1 border-sky-200"},w_={class:"border-b-1 border-r-1 border-sky-200"},C_={class:"border-b-1 border-r-1 border-sky-200"},$_={class:"ml-2"},E_={class:"border-b-1 border-r-1 border-sky-200"},S_={class:"ml-2"},R_={class:"border-b-1 border-r-1 border-sky-200"},k_={class:"ml-2"},A_={class:"border-b-1 border-r-1 border-sky-200"},D_={class:"ml-2"},O_={class:"border-b-1 border-r-1 border-sky-200"},P_={class:"ml-2"},I_={class:"border-b-1 border-r-1 border-sky-200"},T_={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},N_={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},j_={class:"border-b-1 border-r-1 border-sky-200"},M_={class:"ml-2"},F_={class:"border-b-1 border-r-1 border-sky-200"},V_={class:"ml-2"},U_={class:"border-b-1 border-r-1 border-sky-200"},L_={class:"ml-2"},q_={class:"border-b-1 border-r-1 border-sky-200"},B_={key:0,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},H_={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},ta={__name:"VehiclePresentation",props:{vehicle:{type:Object,default:null}},setup(e){const t=r=>r?new Date(r).toLocaleDateString("es-ES"):"N/A",s=r=>{switch(r){case"DISPONIBLE":return"badge-success";case"VIGENTE":return"badge-success";case"VENCIDO":return"badge-error";case"PROXIMO_A_VENCER":return"badge-warning";default:return"badge-ghost"}},o=r=>{if(!r)return!1;const l=new Date,a=new Date(r),i=Math.floor((a-l)/(1e3*60*60*24));return i<=30&&i>0};return(r,l)=>e.vehicle?(C(),S("div",zm,[n("h5",Qm,m(e.vehicle.brand)+" "+m(e.vehicle.model),1),n("div",Jm,[l[9]||(l[9]=n("h6",{class:"font-semibold text-lg mb-3"},"Estado del Vehculo",-1)),n("div",Xm,[n("div",Zm,[l[0]||(l[0]=n("span",{class:"font-medium"},"ID:",-1)),n("span",e_,m(e.vehicle.id),1)]),n("div",t_,[l[1]||(l[1]=n("span",{class:"font-medium"},"Placa:",-1)),n("span",s_,m(e.vehicle.no_plate),1)]),n("div",n_,[l[2]||(l[2]=n("span",{class:"font-medium"},"Marca:",-1)),n("span",o_,m(e.vehicle.brand),1)]),n("div",r_,[l[3]||(l[3]=n("span",{class:"font-medium"},"Modelo:",-1)),n("span",l_,m(e.vehicle.model),1)]),n("div",a_,[l[4]||(l[4]=n("span",{class:"font-medium"},"Tipo:",-1)),n("span",i_,m(e.vehicle.type_vehicle),1)]),n("div",c_,[l[5]||(l[5]=n("span",{class:"font-medium"},"Ao:",-1)),n("span",d_,m(e.vehicle.year),1)]),n("div",u_,[l[6]||(l[6]=n("span",{class:"font-medium"},"Estado:",-1)),n("span",{class:re(["ml-2 badge",s(e.vehicle.status_vehicle)])},m(e.vehicle.status_vehicle),3)]),n("div",f_,[l[7]||(l[7]=n("span",{class:"font-medium"},"Nmero de Motor:",-1)),n("span",p_,m(e.vehicle.engine_number),1)]),n("div",h_,[l[8]||(l[8]=n("span",{class:"font-medium"},"Nmero de Chasis:",-1)),n("span",b_,m(e.vehicle.chassis_number),1)])])]),n("div",m_,[l[20]||(l[20]=n("h6",{class:"font-semibold text-lg mb-3"},"Documentos y Certificaciones",-1)),n("div",__,[n("div",g_,[l[10]||(l[10]=n("span",{class:"font-medium"},"Matrcula (Fecha):",-1)),n("span",v_,m(t(e.vehicle.date_matricula)),1)]),n("div",y_,[l[11]||(l[11]=n("span",{class:"font-medium"},"Matrcula (Vence):",-1)),n("span",{class:re(["ml-2",o(e.vehicle.due_date_matricula)?"text-warning font-semibold":""])},m(t(e.vehicle.due_date_matricula)),3)]),n("div",x_,[l[12]||(l[12]=n("span",{class:"font-medium"},"Cert. Operacional:",-1)),n("span",{class:re(["ml-2 badge",s(e.vehicle.status_cert_oper)])},m(e.vehicle.status_cert_oper),3)]),n("div",w_,[l[13]||(l[13]=n("span",{class:"font-medium"},"Cert. Oper. (Vence):",-1)),n("span",{class:re(["ml-2",o(e.vehicle.due_date_cert_oper)?"text-warning font-semibold":""])},m(t(e.vehicle.due_date_cert_oper)),3)]),n("div",C_,[l[14]||(l[14]=n("span",{class:"font-medium"},"MTOP (Fecha):",-1)),n("span",$_,m(t(e.vehicle.date_mtop)),1)]),n("div",E_,[l[15]||(l[15]=n("span",{class:"font-medium"},"MTOP (Vence):",-1)),n("span",S_,m(t(e.vehicle.due_date_mtop)),1)]),n("div",R_,[l[16]||(l[16]=n("span",{class:"font-medium"},"Revisin Tcnica:",-1)),n("span",k_,m(t(e.vehicle.date_technical_review)),1)]),n("div",A_,[l[17]||(l[17]=n("span",{class:"font-medium"},"Rev. Tcnica (Vence):",-1)),n("span",D_,m(t(e.vehicle.due_date_technical_review)),1)]),n("div",O_,[l[18]||(l[18]=n("span",{class:"font-medium"},"Satlite (Fecha):",-1)),n("span",P_,m(t(e.vehicle.date_satellite)),1)]),n("div",I_,[l[19]||(l[19]=n("span",{class:"font-medium"},"Satlite (Vence):",-1)),n("span",{class:re(["ml-2",o(e.vehicle.due_date_satellite)?"text-warning font-semibold":""])},m(t(e.vehicle.due_date_satellite)),3)])])]),n("div",T_,[l[25]||(l[25]=n("h6",{class:"font-semibold text-lg mb-3"},"Seguro",-1)),n("div",N_,[n("div",j_,[l[21]||(l[21]=n("span",{class:"font-medium"},"Aseguradora:",-1)),n("span",M_,m(e.vehicle.insurance_company),1)]),n("div",F_,[l[22]||(l[22]=n("span",{class:"font-medium"},"Pliza Nro:",-1)),n("span",V_,m(e.vehicle.nro_poliza||"N/A"),1)]),n("div",U_,[l[23]||(l[23]=n("span",{class:"font-medium"},"Fecha Expedicin:",-1)),n("span",L_,m(t(e.vehicle.insurance_issue_date)),1)]),n("div",q_,[l[24]||(l[24]=n("span",{class:"font-medium"},"Vencimiento:",-1)),n("span",{class:re(["ml-2",o(e.vehicle.insurance_expiration_date)?"text-warning font-semibold":""])},m(t(e.vehicle.insurance_expiration_date)),3)])])]),e.vehicle.notes?(C(),S("div",B_,[l[26]||(l[26]=n("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),n("p",H_,m(e.vehicle.notes),1)])):z("",!0)])):z("",!0)}},G_={class:"w-[95%] mx-auto p-6"},W_={class:"bg-white rounded-lg shadow-md p-2 mb-2 border border-gray-200"},K_={class:"flex justify-between items-center"},Y_={class:"text-gray-800 flex items-center gap-2 font-semibold"},z_={class:"flex gap-2"},Q_={class:"grid grid-cols-1 gap-4"},J_={class:"bg-gradient-to-r from-blue-500 to-sky-600 text-white p-4 rounded-t-lg backdrop-blur-sm"},X_={class:"flex justify-between items-start"},Z_={class:"flex-1"},eg={class:"flex items-center gap-3 mb-2"},tg={class:"text-xl font-bold"},sg={class:"badge text-blue-500 font-semibold bg-white px-3 py-1"},ng={class:"text-right"},og={class:"text-2xl p1 rounded text-error bg-gray-100 w-100% font-mono border border-sky-600 border-2"},rg={class:"me-2"},lg={class:"p-2"},ag={class:"grid grid-cols-4 gap-4"},ig={class:"flex items-center gap-2"},cg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},dg={class:"flex items-center gap-2"},ug={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},fg={class:"flex items-center gap-2"},pg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},hg={class:"flex items-center gap-2"},bg={class:"flex gap-1 flex-1"},mg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},_g=["onClick"],gg={class:"p-2 border-b bg-gray-50 border-b-gray-200"},vg={class:"grid grid-cols-4 gap-4"},yg={class:"flex items-center gap-2"},xg={class:"flex gap-1 flex-1"},wg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Cg={class:""},$g=["onClick"],Eg={class:"flex items-center gap-2"},Sg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Rg={class:"flex items-center gap-2"},kg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Ag={class:"flex items-center gap-2"},Dg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Og={class:"p-4 border-b border-b-gray-200"},Pg={class:"font-semibold text-gray-700 mb-3"},Ig={class:"overflow-x-auto"},Tg={class:"table table-sm w-full table-zebra"},Ng={class:"border border-gray-300 p-2"},jg={class:"border border-gray-300 p-2"},Mg={class:"border border-gray-300 p-2 text-center"},Fg={key:0},Vg={class:"pt-2 pb-2"},Ug={class:"flex gap-4"},Lg={class:"flex gap-4"},qg={class:"p-3 border rounded border-gray-200"},Bg={class:"text-xl text-primary ml-5"},Hg={class:"p-3 border rounded border-gray-200"},Gg={class:"text-xl text-primary ml-5"},Wg={class:"p-3 border rounded border-gray-200"},Kg={class:"text-xl text-primary ml-5"},Yg={class:"flex-1 border rounded p-3 border-gray-200"},zg={class:"text-primary ml-5"},Qg={class:"bg-gray-50 p-4 rounded-b-lg flex justify-between gap-2"},Jg={class:"flex gap-2"},Xg=["onClick"],Zg={key:0,class:"bg-white rounded-lg shadow-md p-8 text-center"},ev={__name:"CustodyChainView",setup(e){const t=Ve(),s=Xl(),o=Zl();bt(async()=>{await t.fetchProjectData(),await s.fetchTechnicalsAvailable(),await o.fetchVehicles()});const r=Ms(),l=ie(null),a=ie(null),i=ie(!1),c=ie(!1),p=Q(()=>{if(!t.projectData?.work_orders)return[];const $=[];return t.projectData.work_orders.forEach(g=>{g.custody_chains&&g.custody_chains.forEach(R=>{$.push({...R,work_order:g})})}),$}),f=$=>{a.value=$,i.value=!0},h=$=>{l.value=$,c.value=!0},u=$=>$?$.substring(0,5):"N/A",d=$=>$?new Date($).toLocaleDateString("es-ES"):"N/A";return($,g)=>(C(),S("div",G_,[n("div",W_,[n("div",K_,[n("h1",Y_,[g[6]||(g[6]=n("i",{class:"las la-file-invoice text-blue-500"},null,-1)),K(" Cadenas de Custodia - "+m(be(t).projectData?.project?.partner_name),1)]),n("div",z_,[n("button",{class:"btn btn-secondary btn-sm",onClick:g[0]||(g[0]=R=>be(r).push({name:"project-detail"}))},[...g[7]||(g[7]=[n("i",{class:"las la-arrow-left"},null,-1),K(" Volver ",-1)])]),n("button",{class:"btn btn-primary btn-sm",onClick:g[1]||(g[1]=R=>be(r).push({name:"custody-chain-form"}))},[...g[8]||(g[8]=[n("i",{class:"las la-plus"},null,-1),K(" Nueva Cadena de Custodia ",-1)])])])])]),n("div",Q_,[(C(!0),S(oe,null,_e(p.value,R=>(C(),S("div",{key:R.id,class:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow"},[n("div",J_,[n("div",X_,[n("div",Z_,[n("div",eg,[n("h2",tg," #"+m(be(t).projectData?.project?.id)+" "+m(be(t).projectData?.project?.partner_name)+" - "+m(be(t).projectData?.project?.location),1),n("span",sg,m(be(t).projectData?.project?.cardinal_point||"N/A"),1)])]),n("div",ng,[n("div",og,[g[9]||(g[9]=n("span",{class:"text-gray-700 ms-5"},"Nro.",-1)),n("span",rg,m(R.consecutive),1)])])])]),n("div",lg,[n("div",ag,[n("div",ig,[g[10]||(g[10]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Fecha:",-1)),n("span",cg,m(d(R.activity_date)),1)]),n("div",dg,[g[12]||(g[12]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Inicio - Fin:",-1)),n("span",ug,[K(m(u(R.start_time))+" - "+m(u(R.end_time))+" ",1),g[11]||(g[11]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),K(" "+m(R.time_duration?.toFixed(2)||"0.00")+" HRS ",1)])]),n("div",fg,[g[13]||(g[13]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Ubicacin:",-1)),n("span",pg,m(R.location),1)]),n("div",hg,[g[16]||(g[16]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Placa Vehiculo:",-1)),n("div",bg,[n("span",mg,[K(m(R.vehicle?.no_plate)+" ",1),g[14]||(g[14]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),K(" "+m(R.vehicle?.brand)+" "+m(R.vehicle?.model),1)]),n("button",{type:"button",class:"btn btn-sm btn-outline",onClick:N=>h(R.vehicle),title:"Ver detalles del vehculo"},[...g[15]||(g[15]=[n("i",{class:"las la-eye"},null,-1)])],8,_g)])])])]),n("div",gg,[n("div",vg,[n("div",yg,[g[19]||(g[19]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Tcnico:",-1)),n("div",xg,[n("span",wg,[K(m(R.technical?.first_name)+" "+m(R.technical?.last_name)+" ",1),g[17]||(g[17]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),n("span",Cg,"CI: "+m(R.dni_driver),1)]),n("button",{type:"button",class:"btn btn-sm btn-outline",onClick:N=>f(R.technical),title:"Ver detalles del tcnico"},[...g[18]||(g[18]=[n("i",{class:"las la-eye"},null,-1)])],8,$g)])]),n("div",Eg,[g[20]||(g[20]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Cargo:",-1)),n("span",Sg,m(R.driver_position),1)]),n("div",Rg,[g[22]||(g[22]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Contacto:",-1)),n("span",kg,[K(m(R.contact_name)+" ",1),g[21]||(g[21]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),n("span",null,m(be(t).projectData?.project?.contact_phone),1)])]),n("div",Ag,[g[23]||(g[23]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Empresa:",-1)),n("span",Dg,m(be(t).projectData?.project?.partner_name),1)])])]),n("div",Og,[n("h3",Pg,"Detalle de Cadena de Custodia ("+m(R.details_count)+" equipos)",1),n("div",Ig,[n("table",Tg,[g[26]||(g[26]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white text-center"},[n("th",{class:"border border-gray-300 w-10"},"#"),n("th",{class:"border border-gray-300"},"Equipo"),n("th",{class:"border border-gray-300 w-30"},"ID Recurso"),n("th",{class:"border border-gray-300 w-30"},"Acciones")])],-1)),n("tbody",null,[(C(!0),S(oe,null,_e(R.details,(N,P)=>(C(),S("tr",{class:"hover:bg-yellow-100",key:N.id},[n("td",Ng,m(P+1),1),n("td",jg,m(N.project_resource?.resource_item_name),1),n("td",Mg,m(N.project_resource_id),1),g[24]||(g[24]=n("td",{class:"border border-gray-300 p-2 text-center"},[n("span",{class:"border rounded p-1 cursor-pointer bg-red-400 text-white hover:bg-red-600 font-semibold"}," Eliminar ")],-1))]))),128)),!R.details||R.details.length===0?(C(),S("tr",Fg,[...g[25]||(g[25]=[n("td",{colspan:"4",class:"text-center py-4 text-gray-500"}," No hay detalles en esta cadena de custodia ",-1)])])):z("",!0)])])]),n("div",Vg,[n("div",Ug,[n("div",Lg,[n("div",qg,[g[27]||(g[27]=K(" Galones: ",-1)),n("span",Bg,m(R.total_gallons),1)]),n("div",Hg,[g[28]||(g[28]=K(" Metro Cubicos: ",-1)),n("span",Gg,m(R.total_cubic_meters),1)]),n("div",Wg,[g[29]||(g[29]=K(" Barriles: ",-1)),n("span",Kg,m(R.total_barrels),1)])]),n("div",Yg,[g[30]||(g[30]=n("span",{class:"font-semibold"},"Notas:",-1)),n("span",zg,m(R.metadata?.notes||"Sin notas"),1)])])])]),n("div",Qg,[n("button",{class:"btn btn-sm btn-primary",onClick:g[2]||(g[2]=N=>be(r).push({name:"project-detail"}))},[...g[31]||(g[31]=[n("i",{class:"las la-arrow-left"},null,-1),K(" Volver ",-1)])]),n("div",Jg,[n("button",{class:"btn btn-sm btn-primary",onClick:N=>be(r).push({name:"custody-chain-form",params:{id:R.id}})},[...g[32]||(g[32]=[n("i",{class:"las la-edit"},null,-1),K(" Editar ",-1)])],8,Xg),g[33]||(g[33]=n("button",{class:"btn btn-sm btn-primary"},[n("i",{class:"las la-print"}),K(" Imprimir ")],-1)),g[34]||(g[34]=n("button",{class:"btn btn-sm bg-red-600 text-white"},[n("i",{class:"las la-times-circle"}),K(" Anular ")],-1))])])]))),128)),p.value.length===0?(C(),S("div",Zg,[g[36]||(g[36]=n("i",{class:"las la-inbox text-6xl text-gray-300"},null,-1)),g[37]||(g[37]=n("p",{class:"text-gray-500 mt-4"},"No hay cadenas de custodia registradas para este proyecto",-1)),n("button",{class:"btn btn-primary btn-sm mt-4",onClick:g[3]||(g[3]=R=>be(r).push({name:"custody-chain-form"}))},[...g[35]||(g[35]=[n("i",{class:"las la-plus"},null,-1),K(" Crear Primera Cadena ",-1)])])])):z("",!0)]),Ce(Os,{"is-open":i.value,title:`Detalles del Tcnico - ${a.value?.first_name} ${a.value?.last_name}`,size:"xl",onClose:g[4]||(g[4]=R=>i.value=!1)},{default:Ut(()=>[a.value?(C(),ht(ea,{key:0,technical:a.value},null,8,["technical"])):z("",!0)]),_:1},8,["is-open","title"]),Ce(Os,{"is-open":c.value,title:`Detalles del Vehculo - ${l.value?.no_plate}`,size:"xl",onClose:g[5]||(g[5]=R=>c.value=!1)},{default:Ut(()=>[l.value?(C(),ht(ta,{key:0,vehicle:l.value},null,8,["vehicle"])):z("",!0)]),_:1},8,["is-open","title"])]))}},tv=Yt("custodyChainStore",{state:()=>({custodyChains:[],sheetProjectInfo:null,selectedCustodyChain:null,loading:!1,error:null,newCustodyChain:{id:null,id_sheet_project:null,issue_date:null,consecutive:"00000",activity_date:null,location:null,total_gallons:0,duration_hours:0,have_logistic:"NA"}}),actions:{async addCustodyChain(e){console.log("Adding new custody chain",e);try{const t=await fetch(ue.URLCreateCustodyChain,{method:"POST",headers:ue.headers,body:JSON.stringify(e)});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to create custody chain")}const s=await t.json();return this.custodyChains.push(s.data),this.resetNewCustodyChain(),s.data}catch(t){throw console.error("Error creating custody chain:",t),t}},resetNewCustodyChain(){this.newCustodyChain={id:null,id_sheet_project:null,issue_date:new Date().toISOString().split("T")[0],consecutive:"00000",activity_date:new Date().toISOString().split("T")[0],location:null,total_gallons:0,duration_hours:0,have_logistic:"NA"}},async fetchCustodyCapphainDetail(e){this.loading=!0,this.error=null,console.log("Fetching custody chain detail for ID:",e);try{const t=ue.URLCustodyChainDetail.replace("${id}",e),s=await fetch(t,{method:"GET",headers:ue.headers});if(!s.ok)throw new Error("Failed to fetch custody chain detail");const o=await s.json();return this.selectedCustodyChain=o.data,o.data}catch(t){throw console.error("Error fetching custody chain detail:",t),this.error=t.message,t}finally{this.loading=!1}},async updateCustodyChain(e,t){this.loading=!0,this.error=null,console.log("Updating custody chain",e,t);try{const s=ue.URLUpdateCustodyChain.replace("${id}",e),o=await fetch(s,{method:"PUT",headers:ue.headers,body:JSON.stringify(t)});if(!o.ok){const a=await o.json();throw new Error(a.message||"Failed to update custody chain")}const r=await o.json(),l=this.custodyChains.findIndex(a=>a.id===e);return l!==-1&&(this.custodyChains[l]={...this.custodyChains[l],...r.data}),r.data}catch(s){throw console.error("Error updating custody chain:",s),this.error=s.message,s}finally{this.loading=!1}}}}),jt=e=>{if(!e)return!1;const t=new Date;return new Date(e)<t},wt=e=>{if(!e)return!1;const t=new Date,s=new Date(e),o=Math.floor((s-t)/(1e3*60*60*24));return o<=30&&o>0},sv=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let s=!1,o=!1;return jt(e.license_expiry_date)?(t.push({type:"error",field:"Licencia de Conducir",message:"Licencia de conducir VENCIDA"}),s=!0):wt(e.license_expiry_date)&&(t.push({type:"warning",field:"Licencia de Conducir",message:"Licencia de conducir prxima a vencer"}),o=!0),jt(e.defensive_driving_certificate_expiry_date)?(t.push({type:"error",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva VENCIDO"}),s=!0):wt(e.defensive_driving_certificate_expiry_date)&&(t.push({type:"warning",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva prximo a vencer"}),o=!0),jt(e.medical_certificate_expiry_date)?(t.push({type:"error",field:"Certificado Mdico",message:"Certificado mdico VENCIDO"}),s=!0):wt(e.medical_certificate_expiry_date)&&(t.push({type:"warning",field:"Certificado Mdico",message:"Certificado mdico prximo a vencer"}),o=!0),e.passes&&e.passes.length>0&&e.passes.forEach(r=>{jt(r.fecha_caducidad)?(t.push({type:"error",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso VENCIDO"}),s=!0):wt(r.fecha_caducidad)&&(t.push({type:"warning",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso prximo a vencer"}),o=!0)}),e.is_iess_affiliated||(t.push({type:"warning",field:"IESS",message:"No est afiliado al IESS"}),o=!0),{hasErrors:s,hasWarnings:o,issues:t}},nv=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let s=!1,o=!1;return jt(e.due_date_matricula)?(t.push({type:"error",field:"Matrcula",message:"Matrcula VENCIDA"}),s=!0):wt(e.due_date_matricula)&&(t.push({type:"warning",field:"Matrcula",message:"Matrcula prxima a vencer"}),o=!0),e.status_cert_oper==="VENCIDO"?(t.push({type:"error",field:"Certificado Operacional",message:"Certificado operacional VENCIDO"}),s=!0):wt(e.due_date_cert_oper)&&(t.push({type:"warning",field:"Certificado Operacional",message:"Certificado operacional prximo a vencer"}),o=!0),jt(e.due_date_technical_review)?(t.push({type:"error",field:"Revisin Tcnica",message:"Revisin tcnica VENCIDA"}),s=!0):wt(e.due_date_technical_review)&&(t.push({type:"warning",field:"Revisin Tcnica",message:"Revisin tcnica prxima a vencer"}),o=!0),jt(e.insurance_expiration_date)?(t.push({type:"error",field:"Seguro",message:"Seguro VENCIDO"}),s=!0):wt(e.insurance_expiration_date)&&(t.push({type:"warning",field:"Seguro",message:"Seguro prximo a vencer"}),o=!0),jt(e.due_date_satellite)?(t.push({type:"error",field:"Satlite",message:"Certificado de satlite VENCIDO"}),s=!0):wt(e.due_date_satellite)&&(t.push({type:"warning",field:"Satlite",message:"Certificado de satlite prximo a vencer"}),o=!0),{hasErrors:s,hasWarnings:o,issues:t}},sa=42,na=.158987,oa=.00378541,ov=e=>{const t=parseFloat(e)||0;return{barrels:parseFloat((t/sa).toFixed(2)),cubicMeters:parseFloat((t*oa).toFixed(2))}},rv=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t*sa).toFixed(2)),cubicMeters:parseFloat((t*na).toFixed(2))}},lv=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t/oa).toFixed(2)),barrels:parseFloat((t/na).toFixed(2))}},av={class:"max-w-7xl mx-auto p-4"},iv={class:"bg-white rounded-lg p-4 mb-4 border border-gray-200 shadow-sm"},cv={class:"flex justify-between items-center"},dv={class:"text-xl font-semibold text-gray-800"},uv={class:"text-sm text-gray-600 mt-1"},fv={class:"flex items-center gap-3"},pv={class:"form-control"},hv=["disabled"],bv=["value"],mv={class:"flex flex-col items-center"},_v={key:0,class:"mt-3 pt-3 border-t border-gray-200"},gv={key:0,class:"flex items-center gap-2 text-sm text-amber-600"},vv={key:1,class:"flex items-center gap-2 text-sm text-red-600"},yv={key:2,class:"flex items-center gap-2 text-sm text-green-600"},xv={key:0,class:"mb-6 space-y-3"},wv={key:0,class:"alert alert-error shadow-lg"},Cv={class:"flex items-start w-full"},$v={class:"flex-1"},Ev={class:"text-sm mt-2 space-y-1"},Sv={key:1,class:"alert alert-warning shadow-lg"},Rv={class:"flex items-start w-full"},kv={class:"flex-1"},Av={class:"text-sm mt-2 space-y-1"},Dv={key:2,class:"alert alert-error shadow-lg"},Ov={class:"flex items-start w-full"},Pv={class:"flex-1"},Iv={class:"text-sm mt-2 space-y-1"},Tv={key:3,class:"alert alert-warning shadow-lg"},Nv={class:"flex items-start w-full"},jv={class:"flex-1"},Mv={class:"text-sm mt-2 space-y-1"},Fv={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},Vv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Uv={class:"form-control w-full"},Lv={class:"label",for:"technical"},qv={class:"label-text font-medium"},Bv={key:0,class:"badge badge-error badge-sm ml-1"},Hv={key:1,class:"badge badge-warning badge-sm ml-1"},Gv={class:"flex gap-2"},Wv=["disabled"],Kv=["value"],Yv={class:"form-control w-full"},zv={class:"label",for:"vehicle"},Qv={class:"label-text font-medium"},Jv={key:0,class:"badge badge-error badge-sm ml-1"},Xv={key:1,class:"badge badge-warning badge-sm ml-1"},Zv={class:"flex gap-2"},e0=["disabled"],t0=["value"],s0={class:"form-control w-full"},n0=["disabled"],o0={class:"form-control w-full"},r0=["disabled"],l0={class:"form-control w-full"},a0=["disabled"],i0={class:"form-control w-full"},c0=["disabled"],d0={class:"form-control w-full"},u0=["disabled"],f0={class:"form-control w-full"},p0=["disabled"],h0={key:0,class:"label"},b0={class:"label-text-alt text-error"},m0={class:"form-control w-full"},_0={class:"form-control w-full"},g0=["disabled"],v0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},y0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},x0={class:"form-control w-full"},w0=["disabled"],C0={class:"form-control w-full"},$0=["disabled"],E0={class:"form-control w-full"},S0=["disabled"],R0={class:"form-control w-full"},k0=["disabled"],A0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},D0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O0={class:"form-control w-full"},P0=["disabled"],I0={class:"form-control w-full"},T0=["disabled"],N0={class:"form-control w-full"},j0=["disabled"],M0={class:"form-control w-full"},F0=["disabled"],V0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},U0={class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},L0={class:"badge badge-primary ml-2"},q0={class:"overflow-x-auto"},B0={class:"table table-zebra w-full table-sm"},H0={class:"bg-gray-500 text-white"},G0={class:"border border-gray-300 w-16 text-center"},W0=["disabled"],K0=["onClick"],Y0={class:"border border-gray-300 text-center"},z0=["checked","disabled","onClick"],Q0={class:"border border-gray-300"},J0={class:"border border-gray-300"},X0={class:"border border-gray-300"},Z0={class:"border border-gray-300 text-right font-mono"},ey={key:0},ty={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},sy={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ny={class:"form-control w-full"},oy=["disabled"],ry={class:"form-control w-full"},ly=["disabled"],ay={class:"form-control w-full"},iy=["disabled"],cy={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},dy={class:"form-control w-full"},uy=["disabled"],fy={class:"flex gap-3 justify-end mt-6"},py=["disabled"],hy=["disabled"],by={key:0,class:"las la-save"},my={key:1,class:"las la-spinner animate-spin"},_y={__name:"CustodyChainForm",setup(e){const t=Ve(),s=Xl(),o=Zl(),r=is(),l=tv(),a=Ms(),i=Ql(),c=ie(!1),p=ie(!1),f=ie(!1),h=Q(()=>{const V=parseInt(i.params.id);return isNaN(V)?0:V}),u=Q(()=>h.value>0),d=ie({technical:null,vehicle:null,sheet_project:null,consecutive:"",activity_date:new Date().toISOString().split("T")[0],location:"",issue_date:new Date().toISOString().split("T")[0],status:"DRAFT",start_time:"",end_time:"",time_duration:0,contact_name:"",dni_contact:"",contact_position:"",date_contact:new Date().toISOString().split("T")[0],driver_name:"",dni_driver:"",driver_position:"",driver_date:new Date().toISOString().split("T")[0],total_gallons:0,total_barrels:0,total_cubic_meters:0,notes:"",technical_name:"",technical_dni:"",technical_position:"",vehicle_plate:"",vehicle_brand:"",vehicle_model:"",have_logistic:"NA"}),$=ie([]),g=ie("DRAFT"),R=Q(()=>g.value==="CLOSE");Q(()=>!R.value);const N=async()=>{if(u.value)try{c.value=!0;const V=await l.fetchCustodyCapphainDetail(h.value);if(V){const _=V.custody_chain,A=V.technical,k=V.vehicle,B=V.details||[];g.value=_.status||"DRAFT",d.value={technical:A?.id||null,vehicle:k?.id||null,sheet_project:_.sheet_project_id,consecutive:_.consecutive,activity_date:_.activity_date,location:_.location,issue_date:_.issue_date||new Date().toISOString().split("T")[0],status:_.status||"DRAFT",start_time:_.start_time||"",end_time:_.end_time||"",time_duration:_.time_duration||0,contact_name:_.contact_name||"",dni_contact:_.dni_contact||"",contact_position:_.contact_position||"",date_contact:_.date_contact||new Date().toISOString().split("T")[0],driver_name:_.driver_name||"",dni_driver:_.dni_driver||"",driver_position:_.driver_position||"",driver_date:_.driver_date||new Date().toISOString().split("T")[0],total_gallons:parseFloat(_.total_gallons)||0,total_barrels:parseFloat(_.total_barrels)||0,total_cubic_meters:parseFloat(_.total_cubic_meters)||0,notes:_.meta?.notes||"",technical_name:A?`${A.first_name} ${A.last_name}`:"",technical_dni:A?.dni||"",technical_position:A?.work_area_display||A?.work_area||"",vehicle_plate:k?.no_plate||"",vehicle_brand:k?.brand||"",vehicle_model:k?.model||"",have_logistic:_.have_logistic||"NA"},B.length>0&&($.value=B.map(G=>G.project_resource.id))}else console.warn("Cadena de custodia no encontrada"),a.push({name:"projects-detail"})}catch(V){console.error("Error al cargar cadena de custodia:",V),alert("Error al cargar los datos de la cadena de custodia: "+V.message),a.push({name:"projects-detail"})}finally{c.value=!1}};bt(async()=>{await t.fetchProjectData(),await s.fetchTechnicalsAvailable(),await o.fetchVehicles(),await r.fetchResourcesProject(),u.value?await N():(d.value.location=t.project?.location||"",d.value.contact_name=t.project?.contact_name||"")});const P=Q(()=>r.resourcesProject.map(V=>({...V,selected:$.value.includes(V.id)}))),F=Q(()=>P.value.filter(V=>V.selected)),q=Q(()=>s.technicals.map(V=>({id:V.id,display:`${V.first_name} ${V.last_name}`,fullData:V}))),H=Q(()=>o.vehicles.map(V=>({id:V.id,display:`${V.no_plate} - ${V.brand} ${V.model}`,fullData:V}))),y=V=>{const _=$.value.indexOf(V);_>-1?$.value.splice(_,1):$.value.push(V)},x=()=>{if(d.value.start_time&&d.value.end_time){const V=d.value.start_time.split(":"),_=d.value.end_time.split(":"),A=parseInt(V[0])*60+parseInt(V[1]),B=parseInt(_[0])*60+parseInt(_[1])-A;d.value.time_duration=B>0?B:0}},w=async()=>{try{if(c.value=!0,!d.value.technical||!d.value.vehicle||F.value.length===0){alert("Por favor complete los campos requeridos y seleccione al menos un recurso");return}const V={custody_chain:{technical_id:d.value.technical,vehicle_id:d.value.vehicle,activity_date:d.value.activity_date,issue_date:d.value.issue_date,consecutive:d.value.consecutive,status:d.value.status,location:d.value.location,start_time:d.value.start_time,end_time:d.value.end_time,time_duration:d.value.time_duration,contact_name:d.value.contact_name,dni_contact:d.value.dni_contact,contact_position:d.value.contact_position,date_contact:d.value.date_contact,driver_name:d.value.driver_name,dni_driver:d.value.dni_driver,driver_position:d.value.driver_position,driver_date:d.value.driver_date,total_gallons:parseFloat((parseFloat(d.value.total_gallons)||0).toFixed(2)),total_barrels:parseFloat((parseFloat(d.value.total_barrels)||0).toFixed(2)),total_cubic_meters:parseFloat((parseFloat(d.value.total_cubic_meters)||0).toFixed(2)),have_logistic:d.value.have_logistic,meta:{notes:d.value.notes,id_user_updated:ue.userId||1}},details:$.value.map(_=>({project_resource_id:_}))};if(u.value){if(await l.updateCustodyChain(h.value,V)){await t.fetchProjectData();const A=t.workOrders.find(k=>k.status==="IN_PROGRESS");A?a.push({name:"sheet-project-view",params:{id:A.id}}):a.push({name:"projects-detail"})}}else{const _={technical_id:d.value.technical,vehicle_id:d.value.vehicle,project_id:ue.idProject,activity_date:d.value.activity_date,issue_date:d.value.issue_date,consecutive:d.value.consecutive,location:d.value.location,start_time:d.value.start_time,end_time:d.value.end_time,duration_hours:d.value.time_duration,contact_name:d.value.contact_name,dni_contact:d.value.dni_contact,contact_position:d.value.contact_position,date_contact:d.value.date_contact,driver_name:d.value.driver_name,dni_driver:d.value.dni_driver,driver_position:d.value.driver_position,driver_date:d.value.driver_date,technical_name:d.value.technical_name,technical_dni:d.value.technical_dni,technical_position:d.value.technical_position,vehicle_plate:d.value.vehicle_plate,vehicle_brand:d.value.vehicle_brand,vehicle_model:d.value.vehicle_model,total_gallons:parseFloat(d.value.total_gallons)||0,total_barrels:parseFloat(d.value.total_barrels)||0,total_cubic_meters:parseFloat(d.value.total_cubic_meters)||0,have_logistic:d.value.have_logistic,notes:d.value.notes,resources:$.value};if(await l.addCustodyChain(_)){await t.fetchProjectData();const k=t.workOrders.find(B=>B.status==="IN_PROGRESS");k?a.push({name:"sheet-project-view",params:{id:k.id}}):a.push({name:"projects-detail"})}}}catch(V){console.error("Error al guardar:",V),alert("Error al "+(u.value?"actualizar":"guardar")+" la cadena de custodia: "+V.message)}finally{c.value=!1}},M=()=>{ce.value&&(p.value=!0)},T=()=>{me.value&&(f.value=!0)},ke=()=>{const V=t.workOrders.find(_=>_.status==="IN_PROGRESS");V?a.push({name:"sheet-project-view",params:{id:V.id}}):a.push({name:"projects-detail"})};je(()=>t.project?.location,V=>{V&&!d.value.location&&!u.value&&(d.value.location=V)}),je(()=>t.project?.contact_name,V=>{V&&!d.value.contact_name&&!u.value&&(d.value.contact_name=V)});const ce=Q(()=>d.value.technical?s.technicals.find(V=>V.id===d.value.technical):null),me=Q(()=>d.value.vehicle?o.vehicles.find(V=>V.id===d.value.vehicle):null),Ae=Q(()=>sv(ce.value)),Re=Q(()=>nv(me.value)),$e=Q(()=>Ae.value.hasErrors||Ae.value.hasWarnings||Re.value.hasErrors||Re.value.hasWarnings),te=Q(()=>{if(!d.value.start_time||!d.value.end_time)return{isValid:!0,message:""};const V=d.value.start_time.split(":"),_=d.value.end_time.split(":"),A=parseInt(V[0])*60+parseInt(V[1]);return parseInt(_[0])*60+parseInt(_[1])<=A?{isValid:!1,message:"La hora de fin debe ser mayor que la hora de inicio"}:{isValid:!0,message:""}});je(()=>d.value.start_time,()=>{x()}),je(()=>d.value.end_time,()=>{x()}),je(()=>d.value.activity_date,V=>{V&&!u.value&&(d.value.issue_date=V,d.value.driver_date=V)}),je(()=>d.value.technical,V=>{if(V&&!u.value){const _=s.technicals.find(A=>A.id===V);_&&(d.value.technical_name=`${_.first_name} ${_.last_name}`,d.value.technical_dni=_.dni,d.value.technical_position=_.work_area_display||_.work_area,d.value.driver_name=`${_.first_name} ${_.last_name}`,d.value.dni_driver=_.dni,d.value.driver_position=_.work_area_display||_.work_area,d.value.driver_date=new Date().toISOString().split("T")[0])}}),je(()=>d.value.vehicle,V=>{if(V&&!u.value){const _=o.vehicles.find(A=>A.id===V);_&&(d.value.vehicle_plate=_.no_plate,d.value.vehicle_brand=_.brand,d.value.vehicle_model=_.model)}});const ae=ie(null);je(()=>d.value.total_gallons,(V,_)=>{if(ae.value==="gallons"&&V!==_){const A=ov(V);ae.value=null,d.value.total_barrels=parseFloat(A.barrels.toFixed(2)),d.value.total_cubic_meters=parseFloat(A.cubicMeters.toFixed(2))}}),je(()=>d.value.total_barrels,(V,_)=>{if(ae.value==="barrels"&&V!==_){const A=rv(V);ae.value=null,d.value.total_gallons=parseFloat(A.gallons.toFixed(2)),d.value.total_cubic_meters=parseFloat(A.cubicMeters.toFixed(2))}}),je(()=>d.value.total_cubic_meters,(V,_)=>{if(ae.value==="cubicMeters"&&V!==_){const A=lv(V);ae.value=null,d.value.total_gallons=parseFloat(A.gallons.toFixed(2)),d.value.total_barrels=parseFloat(A.barrels.toFixed(2))}});const tt=()=>{ae.value="gallons"},rt=()=>{ae.value="barrels"},Xe=()=>{ae.value="cubicMeters"},Ne=Q(()=>[{value:"DRAFT",label:"BORRADOR",class:"badge-warning"},{value:"CLOSE",label:"CERRADO",class:"badge-success"}]),mt=Q(()=>Ne.value.find(V=>V.value===d.value.status)||Ne.value[0]);return(V,_)=>(C(),S("div",av,[n("div",iv,[n("div",cv,[n("div",null,[n("h2",dv,[_[25]||(_[25]=n("i",{class:"las la-link text-blue-600"},null,-1)),K(" "+m(u.value?`${R.value?"Ver":"Editar"} Cadena de Custodia #${h.value}`:"Nueva Cadena de Custodia"),1)]),n("p",uv,m(R.value?"Esta cadena de custodia est cerrada y no puede ser modificada":u.value?"Modifique los datos de la cadena de custodia":"Complete los datos para crear una nueva cadena de custodia"),1)]),n("div",fv,[n("div",pv,[_[26]||(_[26]=n("label",{class:"label py-0 mb-1"},[n("span",{class:"label-text font-semibold text-xs"},"Estado")],-1)),ne(n("select",{"onUpdate:modelValue":_[0]||(_[0]=A=>d.value.status=A),disabled:R.value,class:re(["select select-bordered select-sm",{"select-warning":d.value.status==="DRAFT","select-success":d.value.status==="CLOSE"}])},[(C(!0),S(oe,null,_e(Ne.value,A=>(C(),S("option",{key:A.value,value:A.value},m(A.label),9,bv))),128))],10,hv),[[Nt,d.value.status]])]),n("div",mv,[_[27]||(_[27]=n("span",{class:"text-xs text-gray-500 mb-1"},"Estado Actual",-1)),n("span",{class:re(["badge badge-lg",mt.value.class])},[n("i",{class:re(["las mr-1",{"la-edit":d.value.status==="DRAFT","la-lock":d.value.status==="CLOSE"}])},null,2),K(" "+m(mt.value.label),1)],2)])])]),u.value?(C(),S("div",_v,[!R.value&&d.value.status==="DRAFT"?(C(),S("div",gv,[..._[28]||(_[28]=[n("i",{class:"las la-info-circle text-lg"},null,-1),n("span",null,[K("La cadena de custodia est en estado "),n("strong",null,"BORRADOR"),K(" y puede ser modificada libremente.")],-1)])])):R.value?(C(),S("div",vv,[..._[29]||(_[29]=[n("i",{class:"las la-lock text-lg"},null,-1),n("span",null,[K("La cadena de custodia est "),n("strong",null,"CERRADA"),K(". No se pueden realizar modificaciones.")],-1)])])):(C(),S("div",yv,[..._[30]||(_[30]=[n("i",{class:"las la-check-circle text-lg"},null,-1),n("span",null,[K("Al guardar con estado "),n("strong",null,"CERRADO"),K(", no se podrn realizar ms modificaciones.")],-1)])]))])):z("",!0)]),$e.value?(C(),S("div",xv,[Ae.value.hasErrors?(C(),S("div",wv,[n("div",Cv,[_[32]||(_[32]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("div",$v,[_[31]||(_[31]=n("h3",{class:"font-bold"},"Problemas crticos con el tcnico seleccionado",-1)),n("ul",Ev,[(C(!0),S(oe,null,_e(Ae.value.issues.filter(A=>A.type==="error"),(A,k)=>(C(),S("li",{key:k},[n("strong",null,m(A.field)+":",1),K(" "+m(A.message),1)]))),128))])])])])):z("",!0),Ae.value.hasWarnings&&!Ae.value.hasErrors?(C(),S("div",Sv,[n("div",Rv,[_[34]||(_[34]=n("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),n("div",kv,[_[33]||(_[33]=n("h3",{class:"font-bold"},"Advertencias del tcnico seleccionado",-1)),n("ul",Av,[(C(!0),S(oe,null,_e(Ae.value.issues.filter(A=>A.type==="warning"),(A,k)=>(C(),S("li",{key:k},[n("strong",null,m(A.field)+":",1),K(" "+m(A.message),1)]))),128))])])])])):z("",!0),Re.value.hasErrors?(C(),S("div",Dv,[n("div",Ov,[_[36]||(_[36]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("div",Pv,[_[35]||(_[35]=n("h3",{class:"font-bold"},"Problemas crticos con el vehculo seleccionado",-1)),n("ul",Iv,[(C(!0),S(oe,null,_e(Re.value.issues.filter(A=>A.type==="error"),(A,k)=>(C(),S("li",{key:k},[n("strong",null,m(A.field)+":",1),K(" "+m(A.message),1)]))),128))])])])])):z("",!0),Re.value.hasWarnings&&!Re.value.hasErrors?(C(),S("div",Tv,[n("div",Nv,[_[38]||(_[38]=n("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),n("div",jv,[_[37]||(_[37]=n("h3",{class:"font-bold"},"Advertencias del vehculo seleccionado",-1)),n("ul",Mv,[(C(!0),S(oe,null,_e(Re.value.issues.filter(A=>A.type==="warning"),(A,k)=>(C(),S("li",{key:k},[n("strong",null,m(A.field)+":",1),K(" "+m(A.message),1)]))),128))])])])])):z("",!0)])):z("",!0),n("form",{onSubmit:As(w,["prevent"]),class:"space-y-6"},[n("div",Fv,[_[59]||(_[59]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin General",-1)),n("div",Vv,[n("div",Uv,[n("label",Lv,[n("span",qv,[_[41]||(_[41]=K(" Tcnico * ",-1)),Ae.value.hasErrors?(C(),S("span",Bv,[..._[39]||(_[39]=[n("i",{class:"las la-exclamation-circle"},null,-1)])])):Ae.value.hasWarnings?(C(),S("span",Hv,[..._[40]||(_[40]=[n("i",{class:"las la-exclamation-triangle"},null,-1)])])):z("",!0)])]),n("div",Gv,[ne(n("select",{id:"technical","onUpdate:modelValue":_[1]||(_[1]=A=>d.value.technical=A),disabled:R.value,required:"",class:re(["select select-bordered w-full flex-1",{"select-error":Ae.value.hasErrors,"select-warning":Ae.value.hasWarnings&&!Ae.value.hasErrors}])},[_[42]||(_[42]=n("option",{value:null,disabled:""},"Seleccione un tcnico",-1)),(C(!0),S(oe,null,_e(q.value,A=>(C(),S("option",{key:A.id,value:A.id},m(A.display),9,Kv))),128))],10,Wv),[[Nt,d.value.technical,void 0,{number:!0}]]),ce.value?(C(),S("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:M,title:"Ver detalles del tcnico"},[..._[43]||(_[43]=[n("i",{class:"las la-eye text-lg"},null,-1)])])):z("",!0)])]),n("div",Yv,[n("label",zv,[n("span",Qv,[_[46]||(_[46]=K(" Vehculo * ",-1)),Re.value.hasErrors?(C(),S("span",Jv,[..._[44]||(_[44]=[n("i",{class:"las la-exclamation-circle"},null,-1)])])):Re.value.hasWarnings?(C(),S("span",Xv,[..._[45]||(_[45]=[n("i",{class:"las la-exclamation-triangle"},null,-1)])])):z("",!0)])]),n("div",Zv,[ne(n("select",{id:"vehicle","onUpdate:modelValue":_[2]||(_[2]=A=>d.value.vehicle=A),disabled:R.value,required:"",class:re(["select select-bordered w-full flex-1",{"select-error":Re.value.hasErrors,"select-warning":Re.value.hasWarnings&&!Re.value.hasErrors}])},[_[47]||(_[47]=n("option",{value:null,disabled:""},"Seleccione un vehculo",-1)),(C(!0),S(oe,null,_e(H.value,A=>(C(),S("option",{key:A.id,value:A.id},m(A.display),9,t0))),128))],10,e0),[[Nt,d.value.vehicle,void 0,{number:!0}]]),me.value?(C(),S("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:T,title:"Ver detalles del vehculo"},[..._[48]||(_[48]=[n("i",{class:"las la-eye text-lg"},null,-1)])])):z("",!0)])]),n("div",s0,[_[49]||(_[49]=n("label",{class:"label",for:"consecutive"},[n("span",{class:"label-text font-medium"},"Consecutivo")],-1)),ne(n("input",{type:"text",id:"consecutive","onUpdate:modelValue":_[3]||(_[3]=A=>d.value.consecutive=A),disabled:R.value,placeholder:"Se generar automticamente",class:"input input-bordered w-full",maxlength:"7"},null,8,n0),[[de,d.value.consecutive]])]),n("div",o0,[_[50]||(_[50]=n("label",{class:"label",for:"activity_date"},[n("span",{class:"label-text font-medium"},"Fecha de Actividad *")],-1)),ne(n("input",{type:"date",id:"activity_date","onUpdate:modelValue":_[4]||(_[4]=A=>d.value.activity_date=A),disabled:R.value,required:"",class:"input input-bordered w-full"},null,8,r0),[[de,d.value.activity_date]])]),n("div",l0,[_[51]||(_[51]=n("label",{class:"label",for:"location"},[n("span",{class:"label-text font-medium"},"Ubicacin")],-1)),ne(n("input",{type:"text",id:"location","onUpdate:modelValue":_[5]||(_[5]=A=>d.value.location=A),disabled:R.value,placeholder:"Ej: Bloque 31",class:"input input-bordered w-full"},null,8,a0),[[de,d.value.location]])]),n("div",i0,[_[52]||(_[52]=n("label",{class:"label",for:"issue_date"},[n("span",{class:"label-text font-medium"},"Fecha de Emisin")],-1)),ne(n("input",{type:"date",id:"issue_date","onUpdate:modelValue":_[6]||(_[6]=A=>d.value.issue_date=A),disabled:R.value,class:"input input-bordered w-full"},null,8,c0),[[de,d.value.issue_date]])]),n("div",d0,[_[53]||(_[53]=n("label",{class:"label",for:"start_time"},[n("span",{class:"label-text font-medium"},"Hora de Inicio")],-1)),ne(n("input",{type:"time",id:"start_time","onUpdate:modelValue":_[7]||(_[7]=A=>d.value.start_time=A),disabled:R.value,class:re(["input input-bordered w-full",{"input-error":!te.value.isValid}])},null,10,u0),[[de,d.value.start_time]])]),n("div",f0,[_[55]||(_[55]=n("label",{class:"label",for:"end_time"},[n("span",{class:"label-text font-medium"},"Hora de Fin")],-1)),ne(n("input",{type:"time",id:"end_time","onUpdate:modelValue":_[8]||(_[8]=A=>d.value.end_time=A),disabled:R.value,class:re(["input input-bordered w-full",{"input-error":!te.value.isValid}])},null,10,p0),[[de,d.value.end_time]]),te.value.isValid?z("",!0):(C(),S("label",h0,[n("span",b0,[_[54]||(_[54]=n("i",{class:"las la-exclamation-circle"},null,-1)),K(" "+m(te.value.message),1)])]))]),n("div",m0,[_[56]||(_[56]=n("label",{class:"label",for:"time_duration"},[n("span",{class:"label-text font-medium"},"Duracin (Minutos)")],-1)),ne(n("input",{type:"number",id:"time_duration","onUpdate:modelValue":_[9]||(_[9]=A=>d.value.time_duration=A),step:"0.01",readonly:"",class:"input input-bordered w-full bg-gray-100"},null,512),[[de,d.value.time_duration]])]),n("div",_0,[_[58]||(_[58]=n("label",{class:"label",for:"have_logistic"},[n("span",{class:"label-text font-medium"},"Tiene Logstica? *")],-1)),ne(n("select",{id:"have_logistic","onUpdate:modelValue":_[10]||(_[10]=A=>d.value.have_logistic=A),disabled:R.value,required:"",class:"select select-bordered w-full"},[..._[57]||(_[57]=[n("option",{value:"SI"},"S",-1),n("option",{value:"NO"},"NO",-1),n("option",{value:"NA"},"NO APLICA",-1)])],8,g0),[[Nt,d.value.have_logistic]])])])]),n("div",v0,[_[64]||(_[64]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin del Transportista",-1)),n("div",y0,[n("div",x0,[_[60]||(_[60]=n("label",{class:"label",for:"driver_name"},[n("span",{class:"label-text font-medium"},"Nombre de Transportista")],-1)),ne(n("input",{type:"text",id:"driver_name","onUpdate:modelValue":_[11]||(_[11]=A=>d.value.driver_name=A),disabled:R.value,placeholder:"Nombre completo",class:"input input-bordered w-full"},null,8,w0),[[de,d.value.driver_name]])]),n("div",C0,[_[61]||(_[61]=n("label",{class:"label",for:"dni_driver"},[n("span",{class:"label-text font-medium"},"Cdula de Transportista")],-1)),ne(n("input",{type:"text",id:"dni_driver","onUpdate:modelValue":_[12]||(_[12]=A=>d.value.dni_driver=A),disabled:R.value,placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,8,$0),[[de,d.value.dni_driver]])]),n("div",E0,[_[62]||(_[62]=n("label",{class:"label",for:"driver_position"},[n("span",{class:"label-text font-medium"},"Cargo de Transportista")],-1)),ne(n("input",{type:"text",id:"driver_position","onUpdate:modelValue":_[13]||(_[13]=A=>d.value.driver_position=A),disabled:R.value,placeholder:"Ej: Conductor",class:"input input-bordered w-full"},null,8,S0),[[de,d.value.driver_position]])]),n("div",R0,[_[63]||(_[63]=n("label",{class:"label",for:"driver_date"},[n("span",{class:"label-text font-medium"},"Fecha de Transportista")],-1)),ne(n("input",{type:"date",id:"driver_date","onUpdate:modelValue":_[14]||(_[14]=A=>d.value.driver_date=A),disabled:R.value,class:"input input-bordered w-full"},null,8,k0),[[de,d.value.driver_date]])])])]),n("div",A0,[_[69]||(_[69]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin de Contacto",-1)),n("div",D0,[n("div",O0,[_[65]||(_[65]=n("label",{class:"label",for:"contact_name"},[n("span",{class:"label-text font-medium"},"Nombre de Contacto")],-1)),ne(n("input",{type:"text",id:"contact_name","onUpdate:modelValue":_[15]||(_[15]=A=>d.value.contact_name=A),disabled:R.value,placeholder:"Nombre completo",class:"input input-bordered w-full"},null,8,P0),[[de,d.value.contact_name]])]),n("div",I0,[_[66]||(_[66]=n("label",{class:"label",for:"dni_contact"},[n("span",{class:"label-text font-medium"},"Cdula de Contacto")],-1)),ne(n("input",{type:"text",id:"dni_contact","onUpdate:modelValue":_[16]||(_[16]=A=>d.value.dni_contact=A),disabled:R.value,placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,8,T0),[[de,d.value.dni_contact]])]),n("div",N0,[_[67]||(_[67]=n("label",{class:"label",for:"contact_position"},[n("span",{class:"label-text font-medium"},"Cargo de Contacto")],-1)),ne(n("input",{type:"text",id:"contact_position","onUpdate:modelValue":_[17]||(_[17]=A=>d.value.contact_position=A),disabled:R.value,placeholder:"Ej: Maquinista",class:"input input-bordered w-full"},null,8,j0),[[de,d.value.contact_position]])]),n("div",M0,[_[68]||(_[68]=n("label",{class:"label",for:"date_contact"},[n("span",{class:"label-text font-medium"},"Fecha de Contacto")],-1)),ne(n("input",{type:"date",id:"date_contact","onUpdate:modelValue":_[18]||(_[18]=A=>d.value.date_contact=A),disabled:R.value,class:"input input-bordered w-full"},null,8,F0),[[de,d.value.date_contact]])])])]),n("div",V0,[n("h6",U0,[_[70]||(_[70]=K(" Recursos del Proyecto ",-1)),n("span",L0,m(F.value.length)+" seleccionados",1)]),n("div",q0,[n("table",B0,[n("thead",null,[n("tr",H0,[n("th",G0,[n("input",{type:"checkbox",class:"checkbox checkbox-sm",disabled:R.value},null,8,W0)]),_[71]||(_[71]=n("th",{class:"border border-gray-300"},"#",-1)),_[72]||(_[72]=n("th",{class:"border border-gray-300"},"Cdigo",-1)),_[73]||(_[73]=n("th",{class:"border border-gray-300"},"Descripcin",-1)),_[74]||(_[74]=n("th",{class:"border border-gray-300 text-right"},"Costo",-1))])]),n("tbody",null,[(C(!0),S(oe,null,_e(P.value,(A,k)=>(C(),S("tr",{key:A.id,class:re({"bg-blue-100":A.selected,"cursor-pointer hover:bg-blue-50":!R.value,"opacity-60":R.value}),onClick:B=>!R.value&&y(A.id)},[n("td",Y0,[n("input",{type:"checkbox",class:"checkbox checkbox-sm checkbox-primary",checked:A.selected,disabled:R.value,onClick:As(B=>!R.value&&y(A.id),["stop"])},null,8,z0)]),n("td",Q0,m(k+1),1),n("td",J0,m(A.resource_item_code),1),n("td",X0,m(A.detailed_description),1),n("td",Z0,"$"+m(A.cost),1)],10,K0))),128)),P.value.length===0?(C(),S("tr",ey,[..._[75]||(_[75]=[n("td",{colspan:"5",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay recursos disponibles")],-1)])])):z("",!0)])])])]),n("div",ty,[_[79]||(_[79]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},[K(" Totales "),n("span",{class:"text-xs text-gray-500 ml-2"},"(Los valores se convierten automticamente)")],-1)),n("div",sy,[n("div",ny,[_[76]||(_[76]=n("label",{class:"label",for:"total_gallons"},[n("span",{class:"label-text font-medium"},"Total Galones")],-1)),ne(n("input",{type:"number",id:"total_gallons","onUpdate:modelValue":_[19]||(_[19]=A=>d.value.total_gallons=A),onInput:tt,disabled:R.value,min:"0",step:"0.01",class:"input input-bordered w-full",placeholder:"0.00"},null,40,oy),[[de,d.value.total_gallons,void 0,{number:!0}]])]),n("div",ry,[_[77]||(_[77]=n("label",{class:"label",for:"total_barrels"},[n("span",{class:"label-text font-medium"},"Total Barriles")],-1)),ne(n("input",{type:"number",id:"total_barrels","onUpdate:modelValue":_[20]||(_[20]=A=>d.value.total_barrels=A),onInput:rt,disabled:R.value,min:"0",step:"0.01",class:"input input-bordered w-full",placeholder:"0.00"},null,40,ly),[[de,d.value.total_barrels,void 0,{number:!0}]])]),n("div",ay,[_[78]||(_[78]=n("label",{class:"label",for:"total_cubic_meters"},[n("span",{class:"label-text font-medium"},"Total Metros Cbicos")],-1)),ne(n("input",{type:"number",id:"total_cubic_meters","onUpdate:modelValue":_[21]||(_[21]=A=>d.value.total_cubic_meters=A),onInput:Xe,disabled:R.value,min:"0",step:"0.01",class:"input input-bordered w-full",placeholder:"0.00"},null,40,iy),[[de,d.value.total_cubic_meters,void 0,{number:!0}]])])])]),n("div",cy,[_[80]||(_[80]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Notas",-1)),n("div",dy,[ne(n("textarea",{id:"notes","onUpdate:modelValue":_[22]||(_[22]=A=>d.value.notes=A),disabled:R.value,rows:"4",placeholder:"Observaciones o notas adicionales...",class:"textarea textarea-bordered w-full"},null,8,uy),[[de,d.value.notes]])])]),n("div",fy,[n("button",{type:"button",class:"btn btn-outline",onClick:ke,disabled:c.value},[_[81]||(_[81]=n("i",{class:"las la-times"},null,-1)),K(" "+m(R.value?"Cerrar":"Cancelar"),1)],8,py),R.value?z("",!0):(C(),S("button",{key:0,type:"submit",class:"btn btn-primary",disabled:c.value},[c.value?(C(),S("i",my)):(C(),S("i",by)),K(" "+m(c.value?"Guardando...":u.value?"Actualizar Cadena de Custodia":"Guardar Cadena de Custodia"),1)],8,hy))])],32),Ce(Os,{"is-open":p.value,title:`Detalles del Tcnico - ${ce.value?.first_name} ${ce.value?.last_name}`,size:"xl",onClose:_[23]||(_[23]=A=>p.value=!1)},{default:Ut(()=>[ce.value?(C(),ht(ea,{key:0,technical:ce.value},null,8,["technical"])):z("",!0)]),_:1},8,["is-open","title"]),Ce(Os,{"is-open":f.value,title:`Detalles del Vehculo - ${me.value?.no_plate}`,size:"xl",onClose:_[24]||(_[24]=A=>f.value=!1)},{default:Ut(()=>[me.value?(C(),ht(ta,{key:0,vehicle:me.value},null,8,["vehicle"])):z("",!0)]),_:1},8,["is-open","title"])]))}},gy={class:"w-[95%] mx-auto p-4"},vy={class:"bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300 p-6 mb-6"},yy={class:"flex justify-between items-center border-b-blue-500 border-b pb-3 mb-4"},xy={class:"text-xl font-semibold text-blue-500"},wy={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Cy={class:"bg-blue-50 rounded-lg p-4 border border-blue-200"},$y={class:"font-semibold text-blue-700 mb-3 flex items-center gap-2"},Ey={class:"space-y-2 text-sm"},Sy={class:"ml-2"},Ry={class:"ml-2"},ky={class:"ml-2"},Ay={class:"ml-2"},Dy={class:"bg-sky-50 rounded-lg p-4 border border-sky-200"},Oy={class:"space-y-2 text-sm"},Py={class:"ml-2 font-mono"},Iy={class:"ml-2"},Ty={class:"ml-2"},Ny={class:"bg-white rounded-xl shadow-md border border-gray-200 p-6"},jy={class:"font-semibold text-lg mb-4 flex items-center gap-2 text-gray-800"},My={class:"overflow-x-auto"},Fy={class:"table table-zebra w-full"},Vy={key:0},Uy={class:"p-2 border border-gray-300 text-center"},Ly={class:"p-2 border border-gray-300 font-mono"},qy={class:"p-2 border border-gray-300 text-center"},By={class:"p-2 border border-gray-300 text-center"},Hy={class:"p-2 border border-gray-300 text-center font-mono"},Gy={class:"p-2 border border-gray-300 text-center font-mono"},Wy={class:"p-2 border border-gray-300 text-center font-semibold"},Ky={class:"p-2 border border-gray-300"},Yy={class:"p-2 border border-gray-300"},zy={key:0,class:"text-xs"},Qy={class:"font-semibold"},Jy={key:1,class:"text-gray-400"},Xy={class:"p-2 border border-gray-300"},Zy={key:0,class:"text-xs"},e1={class:"font-semibold"},t1={class:"text-gray-500"},s1={key:1,class:"text-gray-400"},n1={class:"p-2 border border-gray-300 text-right font-mono"},o1={class:"p-2 border border-gray-300 text-right font-mono"},r1={class:"p-2 border border-gray-300 text-right font-mono"},l1={class:"p-2 border border-gray-300 text-center"},a1={class:"badge badge-info"},i1={class:"p-2 border border-gray-300 text-end"},c1={class:"flex gap-2 justify-end"},d1=["onClick"],u1=["onClick"],f1=["onClick","title","disabled"],p1={key:0},h1={class:"bg-gray-500 font-bold text-white"},b1={class:"p-2 border border-gray-300 text-center"},m1={class:"p-2 border border-gray-300 text-right font-mono"},_1={class:"p-2 border border-gray-300 text-right font-mono"},g1={class:"p-2 border border-gray-300 text-right font-mono"},v1={class:"stats shadow w-full mt-6"},y1={class:"stat"},x1={class:"stat-value text-primary"},w1={class:"stat"},C1={class:"stat-value text-info"},$1={class:"stat"},E1={class:"stat-value text-info"},S1={class:"stat"},R1={class:"stat-value text-info"},k1={class:"stat"},A1={class:"stat-value text-info"},D1={__name:"SheetProjectView",setup(e){const t=Ql(),s=Ms(),o=Ve(),r=_o(),l=Q(()=>parseInt(t.params.id)),a=Q(()=>o.project),i=Q(()=>r.getSheetProjectById(l.value)),c=Q(()=>r.getCustodyChainsForSheet(l.value)),p=H=>H?new Intl.DateTimeFormat("es-GT").format(new Date(H)):"N/A",f=H=>H||"N/A",h=H=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[H]||{text:H,class:"badge-ghost"},u=H=>({DRAFT:{text:"BORRADOR",class:"badge-warning"},CLOSE:{text:"CERRADO",class:"badge-success"}})[H]||{text:H,class:"badge-ghost"},d=Q(()=>c.value.reduce((H,y)=>H+parseFloat(y.total_gallons||0),0)),$=Q(()=>c.value.reduce((H,y)=>H+parseFloat(y.total_barrels||0),0)),g=Q(()=>c.value.reduce((H,y)=>H+parseFloat(y.total_cubic_meters||0),0)),R=Q(()=>c.value.reduce((H,y)=>H+parseFloat(y.time_duration||0),0).toFixed(2)),N=()=>{s.push({name:"projects-detail"})},P=H=>{s.push({name:"custody-chain-form",params:{id:H}})},F=()=>{s.push({name:"custody-chain-form",query:{sheet_id:i.value?.id}})},q=H=>{const y=ue.PDFCustodyChainReport.replace("${id}",H);window.open(y,"_blank")};return bt(async()=>{a.value.id||await o.fetchProjectData()}),(H,y)=>(C(),S("div",gy,[n("div",vy,[n("div",yy,[n("h1",xy,[y[0]||(y[0]=n("i",{class:"las la-link text-2xl"},null,-1)),K(" Cadenas de Custodia - Planilla "+m(i.value?.series_code||"N/A"),1)]),n("div",{class:"flex gap-3"},[n("button",{onClick:F,class:"btn btn-primary btn-sm"},[...y[1]||(y[1]=[n("i",{class:"las la-plus"},null,-1),K(" Nueva Cadena de Custodia ",-1)])]),n("button",{onClick:N,class:"btn btn-outline btn-sm"},[...y[2]||(y[2]=[n("i",{class:"las la-arrow-left"},null,-1),K(" Volver ",-1)])])])]),n("div",wy,[n("div",Cy,[n("h3",$y,[y[3]||(y[3]=n("i",{class:"las la-building"},null,-1)),K(" Informacin del Proyecto #"+m(a.value?.id||"N/A"),1)]),n("div",Ey,[n("div",null,[y[4]||(y[4]=n("span",{class:"font-medium"},"Cliente:",-1)),n("span",Sy,m(a.value?.partner_name||"N/A"),1)]),n("div",null,[y[5]||(y[5]=n("span",{class:"font-medium"},"Ubicacin:",-1)),n("span",Ry,m(a.value?.location||"N/A")+m(a.value?.cardinal_point?" - "+a.value.cardinal_point:""),1)]),n("div",null,[y[6]||(y[6]=n("span",{class:"font-medium"},"Contacto:",-1)),n("span",ky,m(a.value?.contact_name||"N/A")+" ("+m(a.value?.contact_phone||"N/A")+")",1)]),n("div",null,[y[7]||(y[7]=n("span",{class:"font-medium"},"Fecha Inicio:",-1)),n("span",Ay,m(p(a.value?.start_date)),1)])])]),n("div",Dy,[y[12]||(y[12]=n("h3",{class:"font-semibold text-sky-700 mb-3 flex items-center gap-2"},[n("i",{class:"las la-file-invoice"}),K(" Informacin de la Planilla ")],-1)),n("div",Oy,[n("div",null,[y[8]||(y[8]=n("span",{class:"font-medium"},"Serie:",-1)),n("span",Py,m(i.value?.series_code||"N/A"),1)]),n("div",null,[y[9]||(y[9]=n("span",{class:"font-medium"},"Estado:",-1)),n("span",{class:re(["ml-2 badge",h(i.value?.status).class])},m(h(i.value?.status).text),3)]),n("div",null,[y[10]||(y[10]=n("span",{class:"font-medium"},"Tipo Servicio:",-1)),n("span",Iy,m(i.value?.service_type||"N/A"),1)]),n("div",null,[y[11]||(y[11]=n("span",{class:"font-medium"},"Perodo:",-1)),n("span",Ty,m(p(i.value?.period_start))+" - "+m(i.value?.period_end?p(i.value.period_end):"En curso"),1)])])])])]),n("div",Ny,[n("h2",jy,[y[13]||(y[13]=n("i",{class:"las la-list text-blue-600"},null,-1)),K(" Listado de Cadenas de Custodia ("+m(c.value.length)+") ",1)]),n("div",My,[n("table",Fy,[y[21]||(y[21]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white"},[n("th",{class:"p-2 border border-gray-100 text-center"},"#"),n("th",{class:"p-2 border border-gray-100 text-center"},"Consecutivo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Estado"),n("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Actividad"),n("th",{class:"p-2 border border-gray-100 text-center"},"Hora Inicio"),n("th",{class:"p-2 border border-gray-100 text-center"},"Hora Fin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Minutos"),n("th",{class:"p-2 border border-gray-100 text-center"},"Ubicacin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Tcnico"),n("th",{class:"p-2 border border-gray-100 text-center"},"Vehculo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),n("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),n("th",{class:"p-2 border border-gray-100 text-center"},"M"),n("th",{class:"p-2 border border-gray-100 text-center"},"Recursos"),n("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),n("tbody",null,[c.value.length===0?(C(),S("tr",Vy,[...y[14]||(y[14]=[n("td",{colspan:"15",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay cadenas de custodia registradas para esta planilla")],-1)])])):(C(!0),S(oe,{key:1},_e(c.value,x=>(C(),S("tr",{key:x.id},[n("td",Uy,m(x.id),1),n("td",Ly,m(x.consecutive),1),n("td",qy,[n("span",{class:re(["badge",u(x.status).class])},m(u(x.status).text),3)]),n("td",By,m(p(x.activity_date)),1),n("td",Hy,m(f(x.start_time)),1),n("td",Gy,m(f(x.end_time)),1),n("td",Wy,m(x.time_duration||0),1),n("td",Ky,m(x.location||"N/A"),1),n("td",Yy,[x.technical?(C(),S("div",zy,[n("div",Qy,m(x.technical.first_name)+" "+m(x.technical.last_name),1)])):(C(),S("span",Jy,"N/A"))]),n("td",Xy,[x.vehicle?(C(),S("div",Zy,[n("div",e1,m(x.vehicle.no_plate),1),n("div",t1,m(x.vehicle.brand),1)])):(C(),S("span",s1,"N/A"))]),n("td",n1,m(x.total_gallons||0),1),n("td",o1,m(x.total_barrels||0),1),n("td",r1,m(x.total_cubic_meters||0),1),n("td",l1,[n("span",a1,m(x.details_count||0),1)]),n("td",i1,[n("div",c1,[n("button",{onClick:w=>P(x.id),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Ver detalle"},[...y[15]||(y[15]=[n("i",{class:"las la-eye"},null,-1),K(" VER ",-1)])],8,d1),n("button",{onClick:w=>q(x.id),class:"btn btn-xs border-red-500 text-red-500 bg-white",title:"Generar PDF"},[...y[16]||(y[16]=[n("i",{class:"las la-file-pdf"},null,-1),K(" PDF ",-1)])],8,u1),n("button",{onClick:w=>x.status==="DRAFT"?be(s).push({name:"custody-chain-form",params:{id:x.id}}):null,class:re(["btn btn-xs border-orange-500 text-orange-500 bg-white",{"btn-disabled opacity-50 cursor-not-allowed":x.status!=="DRAFT"}]),title:x.status==="DRAFT"?"Editar cadena":"No se puede editar una cadena cerrada",disabled:x.status!=="DRAFT"},[...y[17]||(y[17]=[n("i",{class:"las la-edit"},null,-1),K(" EDITAR ",-1)])],10,f1)])])]))),128))]),c.value.length>0?(C(),S("tfoot",p1,[n("tr",h1,[y[18]||(y[18]=n("td",{colspan:"6",class:"p-2 border border-gray-300 text-right"},"TOTALES:",-1)),n("td",b1,m(R.value)+" Mins",1),y[19]||(y[19]=n("td",{colspan:"3",class:"p-2 border border-gray-300"},null,-1)),n("td",m1,m(d.value),1),n("td",_1,m($.value),1),n("td",g1,m(g.value),1),y[20]||(y[20]=n("td",{colspan:"2",class:"p-2 border border-gray-300"},null,-1))])])):z("",!0)])])]),n("div",v1,[n("div",y1,[y[22]||(y[22]=n("div",{class:"stat-title"},"Total Cadenas",-1)),n("div",x1,m(c.value.length),1),y[23]||(y[23]=n("div",{class:"stat-desc"},"Registradas",-1))]),n("div",w1,[y[24]||(y[24]=n("div",{class:"stat-title"},"Horas Totales",-1)),n("div",C1,m(R.value),1),y[25]||(y[25]=n("div",{class:"stat-desc"},"Horas trabajadas",-1))]),n("div",$1,[y[26]||(y[26]=n("div",{class:"stat-title"},"Total Galones",-1)),n("div",E1,m(d.value.toLocaleString()),1),y[27]||(y[27]=n("div",{class:"stat-desc"},"Acumulados",-1))]),n("div",S1,[y[28]||(y[28]=n("div",{class:"stat-title"},"Total Barriles",-1)),n("div",R1,m($.value),1),y[29]||(y[29]=n("div",{class:"stat-desc"},"Acumulados",-1))]),n("div",k1,[y[30]||(y[30]=n("div",{class:"stat-title"},"Total M",-1)),n("div",A1,m(g.value),1),y[31]||(y[31]=n("div",{class:"stat-desc"},"Acumulados",-1))])])]))}},O1=Ud({history:yd("/"),routes:[{path:"/",redirect:"/project"},{path:"/project",name:"projects-detail",component:zh},{path:"/resource/form",name:"resource-form",component:Mb},{path:"/custody-chain",name:"custody-chain",component:ev},{path:"/custody-chain/form/:id?",name:"custody-chain-form",component:_y},{path:"/work-sheet/:id/",name:"sheet-project-view",component:D1}]}),vo=Sc(Ld);vo.use(Ac());vo.use(O1);vo.mount("#vue-app");

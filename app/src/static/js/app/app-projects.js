(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function Yn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xe={},Xt=[],ut=()=>{},xr=()=>!1,tn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qn=e=>e.startsWith("onUpdate:"),Le=Object.assign,Jn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},la=Object.prototype.hasOwnProperty,be=(e,t)=>la.call(e,t),X=Array.isArray,Zt=e=>Ps(e)==="[object Map]",ls=e=>Ps(e)==="[object Set]",Co=e=>Ps(e)==="[object Date]",se=e=>typeof e=="function",Oe=e=>typeof e=="string",nt=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",wr=e=>(we(e)||se(e))&&se(e.then)&&se(e.catch),Cr=Object.prototype.toString,Ps=e=>Cr.call(e),aa=e=>Ps(e).slice(8,-1),$r=e=>Ps(e)==="[object Object]",Xn=e=>Oe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ps=Yn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sn=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},ia=/-\w/g,Mt=sn(e=>e.replace(ia,t=>t.slice(1).toUpperCase())),ca=/\B([A-Z])/g,Wt=sn(e=>e.replace(ca,"-$1").toLowerCase()),Er=sn(e=>e.charAt(0).toUpperCase()+e.slice(1)),_n=sn(e=>e?`on${Er(e)}`:""),jt=(e,t)=>!Object.is(e,t),Bs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Sr=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},nn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $o;const on=()=>$o||($o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zn(e){if(X(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],r=Oe(o)?pa(o):Zn(o);if(r)for(const l in r)t[l]=r[l]}return t}else if(Oe(e)||we(e))return e}const da=/;(?![^(]*\))/g,ua=/:([^]+)/,fa=/\/\*[^]*?\*\//g;function pa(e){const t={};return e.replace(fa,"").split(da).forEach(s=>{if(s){const o=s.split(ua);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function le(e){let t="";if(Oe(e))t=e;else if(X(e))for(let s=0;s<e.length;s++){const o=le(e[s]);o&&(t+=o+" ")}else if(we(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ha="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ma=Yn(ha);function Rr(e){return!!e||e===""}function ba(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=Ds(e[o],t[o]);return s}function Ds(e,t){if(e===t)return!0;let s=Co(e),o=Co(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=nt(e),o=nt(t),s||o)return e===t;if(s=X(e),o=X(t),s||o)return s&&o?ba(e,t):!1;if(s=we(e),o=we(t),s||o){if(!s||!o)return!1;const r=Object.keys(e).length,l=Object.keys(t).length;if(r!==l)return!1;for(const a in e){const i=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(i&&!c||!i&&c||!Ds(e[a],t[a]))return!1}}return String(e)===String(t)}function eo(e,t){return e.findIndex(s=>Ds(s,t))}const kr=e=>!!(e&&e.__v_isRef===!0),_=e=>Oe(e)?e:e==null?"":X(e)||we(e)&&(e.toString===Cr||!se(e.toString))?kr(e)?_(e.value):JSON.stringify(e,Ar,2):String(e),Ar=(e,t)=>kr(t)?Ar(e,t.value):Zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,r],l)=>(s[gn(o,l)+" =>"]=r,s),{})}:ls(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>gn(s))}:nt(t)?gn(t):we(t)&&!X(t)&&!$r(t)?String(t):t,gn=(e,t="")=>{var s;return nt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let Ne;class Ir{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ne,!t&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ne;try{return Ne=this,t()}finally{Ne=s}}}on(){++this._on===1&&(this.prevScope=Ne,Ne=this)}off(){this._on>0&&--this._on===0&&(Ne=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Or(e){return new Ir(e)}function Pr(){return Ne}function _a(e,t=!1){Ne&&Ne.cleanups.push(e)}let Ee;const vn=new WeakSet;class Dr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ne&&Ne.active&&Ne.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vn.has(this)&&(vn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Eo(this),Nr(this);const t=Ee,s=st;Ee=this,st=!0;try{return this.fn()}finally{Mr(this),Ee=t,st=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)no(t);this.deps=this.depsTail=void 0,Eo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pn(this)&&this.run()}get dirty(){return Pn(this)}}let Tr=0,hs,ms;function jr(e,t=!1){if(e.flags|=8,t){e.next=ms,ms=e;return}e.next=hs,hs=e}function to(){Tr++}function so(){if(--Tr>0)return;if(ms){let t=ms;for(ms=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;hs;){let t=hs;for(hs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function Nr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Mr(e){let t,s=e.depsTail,o=s;for(;o;){const r=o.prevDep;o.version===-1?(o===s&&(s=r),no(o),ga(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=s}function Pn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===xs)||(e.globalVersion=xs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Pn(e))))return;e.flags|=2;const t=e.dep,s=Ee,o=st;Ee=e,st=!0;try{Nr(e);const r=e.fn(e._value);(t.version===0||jt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ee=s,st=o,Mr(e),e.flags&=-3}}function no(e,t=!1){const{dep:s,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)no(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ga(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let st=!0;const Vr=[];function $t(){Vr.push(st),st=!1}function Et(){const e=Vr.pop();st=e===void 0?!0:e}function Eo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ee;Ee=void 0;try{t()}finally{Ee=s}}}let xs=0;class va{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class oo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ee||!st||Ee===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ee)s=this.activeLink=new va(Ee,this),Ee.deps?(s.prevDep=Ee.depsTail,Ee.depsTail.nextDep=s,Ee.depsTail=s):Ee.deps=Ee.depsTail=s,Ur(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Ee.depsTail,s.nextDep=void 0,Ee.depsTail.nextDep=s,Ee.depsTail=s,Ee.deps===s&&(Ee.deps=o)}return s}trigger(t){this.version++,xs++,this.notify(t)}notify(t){to();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{so()}}}function Ur(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Ur(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ws=new WeakMap,qt=Symbol(""),Dn=Symbol(""),ws=Symbol("");function Ve(e,t,s){if(st&&Ee){let o=Ws.get(e);o||Ws.set(e,o=new Map);let r=o.get(s);r||(o.set(s,r=new oo),r.map=o,r.key=s),r.track()}}function yt(e,t,s,o,r,l){const a=Ws.get(e);if(!a){xs++;return}const i=c=>{c&&c.trigger()};if(to(),t==="clear")a.forEach(i);else{const c=X(e),h=c&&Xn(s);if(c&&s==="length"){const f=Number(o);a.forEach((m,u)=>{(u==="length"||u===ws||!nt(u)&&u>=f)&&i(m)})}else switch((s!==void 0||a.has(void 0))&&i(a.get(s)),h&&i(a.get(ws)),t){case"add":c?h&&i(a.get("length")):(i(a.get(qt)),Zt(e)&&i(a.get(Dn)));break;case"delete":c||(i(a.get(qt)),Zt(e)&&i(a.get(Dn)));break;case"set":Zt(e)&&i(a.get(qt));break}}so()}function ya(e,t){const s=Ws.get(e);return s&&s.get(t)}function zt(e){const t=he(e);return t===e?t:(Ve(t,"iterate",ws),Ze(e)?t:t.map(De))}function rn(e){return Ve(e=he(e),"iterate",ws),e}const xa={__proto__:null,[Symbol.iterator](){return yn(this,Symbol.iterator,De)},concat(...e){return zt(this).concat(...e.map(t=>X(t)?zt(t):t))},entries(){return yn(this,"entries",e=>(e[1]=De(e[1]),e))},every(e,t){return _t(this,"every",e,t,void 0,arguments)},filter(e,t){return _t(this,"filter",e,t,s=>s.map(De),arguments)},find(e,t){return _t(this,"find",e,t,De,arguments)},findIndex(e,t){return _t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _t(this,"findLast",e,t,De,arguments)},findLastIndex(e,t){return _t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _t(this,"forEach",e,t,void 0,arguments)},includes(...e){return xn(this,"includes",e)},indexOf(...e){return xn(this,"indexOf",e)},join(e){return zt(this).join(e)},lastIndexOf(...e){return xn(this,"lastIndexOf",e)},map(e,t){return _t(this,"map",e,t,void 0,arguments)},pop(){return cs(this,"pop")},push(...e){return cs(this,"push",e)},reduce(e,...t){return So(this,"reduce",e,t)},reduceRight(e,...t){return So(this,"reduceRight",e,t)},shift(){return cs(this,"shift")},some(e,t){return _t(this,"some",e,t,void 0,arguments)},splice(...e){return cs(this,"splice",e)},toReversed(){return zt(this).toReversed()},toSorted(e){return zt(this).toSorted(e)},toSpliced(...e){return zt(this).toSpliced(...e)},unshift(...e){return cs(this,"unshift",e)},values(){return yn(this,"values",De)}};function yn(e,t,s){const o=rn(e),r=o[t]();return o!==e&&!Ze(e)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.done||(l.value=s(l.value)),l}),r}const wa=Array.prototype;function _t(e,t,s,o,r,l){const a=rn(e),i=a!==e&&!Ze(e),c=a[t];if(c!==wa[t]){const m=c.apply(e,l);return i?De(m):m}let h=s;a!==e&&(i?h=function(m,u){return s.call(this,De(m),u,e)}:s.length>2&&(h=function(m,u){return s.call(this,m,u,e)}));const f=c.call(a,h,o);return i&&r?r(f):f}function So(e,t,s,o){const r=rn(e);let l=s;return r!==e&&(Ze(e)?s.length>3&&(l=function(a,i,c){return s.call(this,a,i,c,e)}):l=function(a,i,c){return s.call(this,a,De(i),c,e)}),r[t](l,...o)}function xn(e,t,s){const o=he(e);Ve(o,"iterate",ws);const r=o[t](...s);return(r===-1||r===!1)&&ao(s[0])?(s[0]=he(s[0]),o[t](...s)):r}function cs(e,t,s=[]){$t(),to();const o=he(e)[t].apply(e,s);return so(),Et(),o}const Ca=Yn("__proto__,__v_isRef,__isVue"),Lr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nt));function $a(e){nt(e)||(e=String(e));const t=he(this);return Ve(t,"has",e),t.hasOwnProperty(e)}class Br{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return l;if(s==="__v_raw")return o===(r?l?Ta:Wr:l?Gr:qr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const a=X(t);if(!r){let c;if(a&&(c=xa[s]))return c;if(s==="hasOwnProperty")return $a}const i=Reflect.get(t,s,Ie(t)?t:o);if((nt(s)?Lr.has(s):Ca(s))||(r||Ve(t,"get",s),l))return i;if(Ie(i)){const c=a&&Xn(s)?i:i.value;return r&&we(c)?jn(c):c}return we(i)?r?jn(i):Ts(i):i}}class Hr extends Br{constructor(t=!1){super(!1,t)}set(t,s,o,r){let l=t[s];if(!this._isShallow){const c=Ft(l);if(!Ze(o)&&!Ft(o)&&(l=he(l),o=he(o)),!X(t)&&Ie(l)&&!Ie(o))return c||(l.value=o),!0}const a=X(t)&&Xn(s)?Number(s)<t.length:be(t,s),i=Reflect.set(t,s,o,Ie(t)?t:r);return t===he(r)&&(a?jt(o,l)&&yt(t,"set",s,o):yt(t,"add",s,o)),i}deleteProperty(t,s){const o=be(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&o&&yt(t,"delete",s,void 0),r}has(t,s){const o=Reflect.has(t,s);return(!nt(s)||!Lr.has(s))&&Ve(t,"has",s),o}ownKeys(t){return Ve(t,"iterate",X(t)?"length":qt),Reflect.ownKeys(t)}}class Ea extends Br{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Sa=new Hr,Ra=new Ea,ka=new Hr(!0);const Tn=e=>e,Fs=e=>Reflect.getPrototypeOf(e);function Aa(e,t,s){return function(...o){const r=this.__v_raw,l=he(r),a=Zt(l),i=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=r[e](...o),f=s?Tn:t?Ks:De;return!t&&Ve(l,"iterate",c?Dn:qt),{next(){const{value:m,done:u}=h.next();return u?{value:m,done:u}:{value:i?[f(m[0]),f(m[1])]:f(m),done:u}},[Symbol.iterator](){return this}}}}function Vs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ia(e,t){const s={get(r){const l=this.__v_raw,a=he(l),i=he(r);e||(jt(r,i)&&Ve(a,"get",r),Ve(a,"get",i));const{has:c}=Fs(a),h=t?Tn:e?Ks:De;if(c.call(a,r))return h(l.get(r));if(c.call(a,i))return h(l.get(i));l!==a&&l.get(r)},get size(){const r=this.__v_raw;return!e&&Ve(he(r),"iterate",qt),r.size},has(r){const l=this.__v_raw,a=he(l),i=he(r);return e||(jt(r,i)&&Ve(a,"has",r),Ve(a,"has",i)),r===i?l.has(r):l.has(r)||l.has(i)},forEach(r,l){const a=this,i=a.__v_raw,c=he(i),h=t?Tn:e?Ks:De;return!e&&Ve(c,"iterate",qt),i.forEach((f,m)=>r.call(l,h(f),h(m),a))}};return Le(s,e?{add:Vs("add"),set:Vs("set"),delete:Vs("delete"),clear:Vs("clear")}:{add(r){!t&&!Ze(r)&&!Ft(r)&&(r=he(r));const l=he(this);return Fs(l).has.call(l,r)||(l.add(r),yt(l,"add",r,r)),this},set(r,l){!t&&!Ze(l)&&!Ft(l)&&(l=he(l));const a=he(this),{has:i,get:c}=Fs(a);let h=i.call(a,r);h||(r=he(r),h=i.call(a,r));const f=c.call(a,r);return a.set(r,l),h?jt(l,f)&&yt(a,"set",r,l):yt(a,"add",r,l),this},delete(r){const l=he(this),{has:a,get:i}=Fs(l);let c=a.call(l,r);c||(r=he(r),c=a.call(l,r)),i&&i.call(l,r);const h=l.delete(r);return c&&yt(l,"delete",r,void 0),h},clear(){const r=he(this),l=r.size!==0,a=r.clear();return l&&yt(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Aa(r,e,t)}),s}function ro(e,t){const s=Ia(e,t);return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(be(s,r)&&r in o?s:o,r,l)}const Oa={get:ro(!1,!1)},Pa={get:ro(!1,!0)},Da={get:ro(!0,!1)};const qr=new WeakMap,Gr=new WeakMap,Wr=new WeakMap,Ta=new WeakMap;function ja(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Na(e){return e.__v_skip||!Object.isExtensible(e)?0:ja(aa(e))}function Ts(e){return Ft(e)?e:lo(e,!1,Sa,Oa,qr)}function Kr(e){return lo(e,!1,ka,Pa,Gr)}function jn(e){return lo(e,!0,Ra,Da,Wr)}function lo(e,t,s,o,r){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Na(e);if(l===0)return e;const a=r.get(e);if(a)return a;const i=new Proxy(e,l===2?o:s);return r.set(e,i),i}function Nt(e){return Ft(e)?Nt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ft(e){return!!(e&&e.__v_isReadonly)}function Ze(e){return!!(e&&e.__v_isShallow)}function ao(e){return e?!!e.__v_raw:!1}function he(e){const t=e&&e.__v_raw;return t?he(t):e}function io(e){return!be(e,"__v_skip")&&Object.isExtensible(e)&&Sr(e,"__v_skip",!0),e}const De=e=>we(e)?Ts(e):e,Ks=e=>we(e)?jn(e):e;function Ie(e){return e?e.__v_isRef===!0:!1}function fe(e){return zr(e,!1)}function Ma(e){return zr(e,!0)}function zr(e,t){return Ie(e)?e:new Fa(e,t)}class Fa{constructor(t,s){this.dep=new oo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:he(t),this._value=s?t:De(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||Ze(t)||Ft(t);t=o?t:he(t),jt(t,s)&&(this._rawValue=t,this._value=o?t:De(t),this.dep.trigger())}}function ve(e){return Ie(e)?e.value:e}const Va={get:(e,t,s)=>t==="__v_raw"?e:ve(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const r=e[t];return Ie(r)&&!Ie(s)?(r.value=s,!0):Reflect.set(e,t,s,o)}};function Yr(e){return Nt(e)?e:new Proxy(e,Va)}function Ua(e){const t=X(e)?new Array(e.length):{};for(const s in e)t[s]=Ba(e,s);return t}class La{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ya(he(this._object),this._key)}}function Ba(e,t,s){const o=e[t];return Ie(o)?o:new La(e,t,s)}class Ha{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new oo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ee!==this)return jr(this,!0),!0}get value(){const t=this.dep.track();return Fr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qa(e,t,s=!1){let o,r;return se(e)?o=e:(o=e.get,r=e.set),new Ha(o,r,s)}const Us={},zs=new WeakMap;let Bt;function Ga(e,t=!1,s=Bt){if(s){let o=zs.get(s);o||zs.set(s,o=[]),o.push(e)}}function Wa(e,t,s=xe){const{immediate:o,deep:r,once:l,scheduler:a,augmentJob:i,call:c}=s,h=x=>r?x:Ze(x)||r===!1||r===0?xt(x,1):xt(x);let f,m,u,d,$=!1,p=!1;if(Ie(e)?(m=()=>e.value,$=Ze(e)):Nt(e)?(m=()=>h(e),$=!0):X(e)?(p=!0,$=e.some(x=>Nt(x)||Ze(x)),m=()=>e.map(x=>{if(Ie(x))return x.value;if(Nt(x))return h(x);if(se(x))return c?c(x,2):x()})):se(e)?t?m=c?()=>c(e,2):e:m=()=>{if(u){$t();try{u()}finally{Et()}}const x=Bt;Bt=f;try{return c?c(e,3,[d]):e(d)}finally{Bt=x}}:m=ut,t&&r){const x=m,R=r===!0?1/0:r;m=()=>xt(x(),R)}const C=Pr(),j=()=>{f.stop(),C&&C.active&&Jn(C.effects,f)};if(l&&t){const x=t;t=(...R)=>{x(...R),j()}}let M=p?new Array(e.length).fill(Us):Us;const A=x=>{if(!(!(f.flags&1)||!f.dirty&&!x))if(t){const R=f.run();if(r||$||(p?R.some((G,E)=>jt(G,M[E])):jt(R,M))){u&&u();const G=Bt;Bt=f;try{const E=[R,M===Us?void 0:p&&M[0]===Us?[]:M,d];M=R,c?c(t,3,E):t(...E)}finally{Bt=G}}}else f.run()};return i&&i(A),f=new Dr(m),f.scheduler=a?()=>a(A,!1):A,d=x=>Ga(x,!1,f),u=f.onStop=()=>{const x=zs.get(f);if(x){if(c)c(x,4);else for(const R of x)R();zs.delete(f)}},t?o?A(!0):M=f.run():a?a(A.bind(null,!0),!0):f.run(),j.pause=f.pause.bind(f),j.resume=f.resume.bind(f),j.stop=j,j}function xt(e,t=1/0,s){if(t<=0||!we(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ie(e))xt(e.value,t,s);else if(X(e))for(let o=0;o<e.length;o++)xt(e[o],t,s);else if(ls(e)||Zt(e))e.forEach(o=>{xt(o,t,s)});else if($r(e)){for(const o in e)xt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&xt(e[o],t,s)}return e}function js(e,t,s,o){try{return o?e(...o):e()}catch(r){ln(r,t,s)}}function ft(e,t,s,o){if(se(e)){const r=js(e,t,s,o);return r&&wr(r)&&r.catch(l=>{ln(l,t,s)}),r}if(X(e)){const r=[];for(let l=0;l<e.length;l++)r.push(ft(e[l],t,s,o));return r}}function ln(e,t,s,o=!0){const r=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||xe;if(t){let i=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const f=i.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](e,c,h)===!1)return}i=i.parent}if(l){$t(),js(l,null,10,[e,c,h]),Et();return}}Ka(e,s,r,o,a)}function Ka(e,t,s,o=!0,r=!1){if(r)throw e;console.error(e)}const qe=[];let ct=-1;const es=[];let It=null,Qt=0;const Qr=Promise.resolve();let Ys=null;function an(e){const t=Ys||Qr;return e?t.then(this?e.bind(this):e):t}function za(e){let t=ct+1,s=qe.length;for(;t<s;){const o=t+s>>>1,r=qe[o],l=Cs(r);l<e||l===e&&r.flags&2?t=o+1:s=o}return t}function co(e){if(!(e.flags&1)){const t=Cs(e),s=qe[qe.length-1];!s||!(e.flags&2)&&t>=Cs(s)?qe.push(e):qe.splice(za(t),0,e),e.flags|=1,Jr()}}function Jr(){Ys||(Ys=Qr.then(Zr))}function Ya(e){X(e)?es.push(...e):It&&e.id===-1?It.splice(Qt+1,0,e):e.flags&1||(es.push(e),e.flags|=1),Jr()}function Ro(e,t,s=ct+1){for(;s<qe.length;s++){const o=qe[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;qe.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Xr(e){if(es.length){const t=[...new Set(es)].sort((s,o)=>Cs(s)-Cs(o));if(es.length=0,It){It.push(...t);return}for(It=t,Qt=0;Qt<It.length;Qt++){const s=It[Qt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}It=null,Qt=0}}const Cs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Zr(e){try{for(ct=0;ct<qe.length;ct++){const t=qe[ct];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),js(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ct<qe.length;ct++){const t=qe[ct];t&&(t.flags&=-2)}ct=-1,qe.length=0,Xr(),Ys=null,(qe.length||es.length)&&Zr()}}let Ue=null,el=null;function Qs(e){const t=Ue;return Ue=e,el=e&&e.type.__scopeId||null,t}function Vt(e,t=Ue,s){if(!t||e._n)return e;const o=(...r)=>{o._d&&Zs(-1);const l=Qs(t);let a;try{a=e(...r)}finally{Qs(l),o._d&&Zs(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function ne(e,t){if(Ue===null)return e;const s=fn(Ue),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[l,a,i,c=xe]=t[r];l&&(se(l)&&(l={mounted:l,updated:l}),l.deep&&xt(a),o.push({dir:l,instance:s,value:a,oldValue:void 0,arg:i,modifiers:c}))}return e}function Ut(e,t,s,o){const r=e.dirs,l=t&&t.dirs;for(let a=0;a<r.length;a++){const i=r[a];l&&(i.oldValue=l[a].value);let c=i.dir[o];c&&($t(),ft(c,s,8,[e.el,i,e,t]),Et())}}const Qa=Symbol("_vte"),Ja=e=>e.__isTeleport,Xa=Symbol("_leaveCb");function uo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,uo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function tl(e,t){return se(e)?Le({name:e.name},t,{setup:e}):e}function sl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Js=new WeakMap;function bs(e,t,s,o,r=!1){if(X(e)){e.forEach(($,p)=>bs($,t&&(X(t)?t[p]:t),s,o,r));return}if(ts(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&bs(e,t,s,o.component.subTree);return}const l=o.shapeFlag&4?fn(o.component):o.el,a=r?null:l,{i,r:c}=e,h=t&&t.r,f=i.refs===xe?i.refs={}:i.refs,m=i.setupState,u=he(m),d=m===xe?xr:$=>be(u,$);if(h!=null&&h!==c){if(ko(t),Oe(h))f[h]=null,d(h)&&(m[h]=null);else if(Ie(h)){h.value=null;const $=t;$.k&&(f[$.k]=null)}}if(se(c))js(c,i,12,[a,f]);else{const $=Oe(c),p=Ie(c);if($||p){const C=()=>{if(e.f){const j=$?d(c)?m[c]:f[c]:c.value;if(r)X(j)&&Jn(j,l);else if(X(j))j.includes(l)||j.push(l);else if($)f[c]=[l],d(c)&&(m[c]=f[c]);else{const M=[l];c.value=M,e.k&&(f[e.k]=M)}}else $?(f[c]=a,d(c)&&(m[c]=a)):p&&(c.value=a,e.k&&(f[e.k]=a))};if(a){const j=()=>{C(),Js.delete(e)};j.id=-1,Js.set(e,j),Qe(j,s)}else ko(e),C()}}}function ko(e){const t=Js.get(e);t&&(t.flags|=8,Js.delete(e))}on().requestIdleCallback;on().cancelIdleCallback;const ts=e=>!!e.type.__asyncLoader,nl=e=>e.type.__isKeepAlive;function Za(e,t){ol(e,"a",t)}function ei(e,t){ol(e,"da",t)}function ol(e,t,s=Ge){const o=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(cn(t,o,s),s){let r=s.parent;for(;r&&r.parent;)nl(r.parent.vnode)&&ti(o,t,s,r),r=r.parent}}function ti(e,t,s,o){const r=cn(t,e,o,!0);rl(()=>{Jn(o[t],r)},s)}function cn(e,t,s=Ge,o=!1){if(s){const r=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...a)=>{$t();const i=Ns(s),c=ft(t,s,e,a);return i(),Et(),c});return o?r.unshift(l):r.push(l),l}}const Rt=e=>(t,s=Ge)=>{(!Ss||e==="sp")&&cn(e,(...o)=>t(...o),s)},si=Rt("bm"),ht=Rt("m"),ni=Rt("bu"),oi=Rt("u"),ri=Rt("bum"),rl=Rt("um"),li=Rt("sp"),ai=Rt("rtg"),ii=Rt("rtc");function ci(e,t=Ge){cn("ec",e,t)}const di=Symbol.for("v-ndc");function Se(e,t,s,o){let r;const l=s,a=X(e);if(a||Oe(e)){const i=a&&Nt(e);let c=!1,h=!1;i&&(c=!Ze(e),h=Ft(e),e=rn(e)),r=new Array(e.length);for(let f=0,m=e.length;f<m;f++)r[f]=t(c?h?Ks(De(e[f])):De(e[f]):e[f],f,void 0,l)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,l)}else if(we(e))if(e[Symbol.iterator])r=Array.from(e,(i,c)=>t(i,c,void 0,l));else{const i=Object.keys(e);r=new Array(i.length);for(let c=0,h=i.length;c<h;c++){const f=i[c];r[c]=t(e[f],f,c,l)}}else r=[];return r}function ui(e,t,s={},o,r){if(Ue.ce||Ue.parent&&ts(Ue.parent)&&Ue.parent.ce){const h=Object.keys(s).length>0;return w(),pt(oe,null,[Re("slot",s,o)],h?-2:64)}let l=e[t];l&&l._c&&(l._d=!1),w();const a=l&&ll(l(s)),i=s.key||a&&a.key,c=pt(oe,{key:(i&&!nt(i)?i:`_${t}`)+(!a&&o?"_fb":"")},a||[],a&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),l&&l._c&&(l._d=!0),c}function ll(e){return e.some(t=>Es(t)?!(t.type===St||t.type===oe&&!ll(t.children)):!0)?e:null}const Nn=e=>e?Rl(e)?fn(e):Nn(e.parent):null,_s=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nn(e.parent),$root:e=>Nn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>{co(e.update)}),$nextTick:e=>e.n||(e.n=an.bind(e.proxy)),$watch:e=>Di.bind(e)}),wn=(e,t)=>e!==xe&&!e.__isScriptSetup&&be(e,t),fi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:r,props:l,accessCache:a,type:i,appContext:c}=e;let h;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return o[t];case 2:return r[t];case 4:return s[t];case 3:return l[t]}else{if(wn(o,t))return a[t]=1,o[t];if(r!==xe&&be(r,t))return a[t]=2,r[t];if((h=e.propsOptions[0])&&be(h,t))return a[t]=3,l[t];if(s!==xe&&be(s,t))return a[t]=4,s[t];Mn&&(a[t]=0)}}const f=_s[t];let m,u;if(f)return t==="$attrs"&&Ve(e.attrs,"get",""),f(e);if((m=i.__cssModules)&&(m=m[t]))return m;if(s!==xe&&be(s,t))return a[t]=4,s[t];if(u=c.config.globalProperties,be(u,t))return u[t]},set({_:e},t,s){const{data:o,setupState:r,ctx:l}=e;return wn(r,t)?(r[t]=s,!0):o!==xe&&be(o,t)?(o[t]=s,!0):be(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:r,propsOptions:l,type:a}},i){let c,h;return!!(s[i]||e!==xe&&i[0]!=="$"&&be(e,i)||wn(t,i)||(c=l[0])&&be(c,i)||be(o,i)||be(_s,i)||be(r.config.globalProperties,i)||(h=a.__cssModules)&&h[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:be(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ao(e){return X(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Mn=!0;function pi(e){const t=il(e),s=e.proxy,o=e.ctx;Mn=!1,t.beforeCreate&&Io(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:a,watch:i,provide:c,inject:h,created:f,beforeMount:m,mounted:u,beforeUpdate:d,updated:$,activated:p,deactivated:C,beforeDestroy:j,beforeUnmount:M,destroyed:A,unmounted:x,render:R,renderTracked:G,renderTriggered:E,errorCaptured:I,serverPrefetch:T,expose:re,inheritAttrs:ke,components:Ce,directives:ye,filters:mt}=t;if(h&&hi(h,o,null),a)for(const te in a){const pe=a[te];se(pe)&&(o[te]=pe.bind(s))}if(r){const te=r.call(s,s);we(te)&&(e.data=Ts(te))}if(Mn=!0,l)for(const te in l){const pe=l[te],tt=se(pe)?pe.bind(s,s):se(pe.get)?pe.get.bind(s,s):ut,V=!se(pe)&&se(pe.set)?pe.set.bind(s):ut,v=Y({get:tt,set:V});Object.defineProperty(o,te,{enumerable:!0,configurable:!0,get:()=>v.value,set:k=>v.value=k})}if(i)for(const te in i)al(i[te],o,s,te);if(c){const te=se(c)?c.call(s):c;Reflect.ownKeys(te).forEach(pe=>{Hs(pe,te[pe])})}f&&Io(f,e,"c");function ae(te,pe){X(pe)?pe.forEach(tt=>te(tt.bind(s))):pe&&te(pe.bind(s))}if(ae(si,m),ae(ht,u),ae(ni,d),ae(oi,$),ae(Za,p),ae(ei,C),ae(ci,I),ae(ii,G),ae(ai,E),ae(ri,M),ae(rl,x),ae(li,T),X(re))if(re.length){const te=e.exposed||(e.exposed={});re.forEach(pe=>{Object.defineProperty(te,pe,{get:()=>s[pe],set:tt=>s[pe]=tt,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===ut&&(e.render=R),ke!=null&&(e.inheritAttrs=ke),Ce&&(e.components=Ce),ye&&(e.directives=ye),T&&sl(e)}function hi(e,t,s=ut){X(e)&&(e=Fn(e));for(const o in e){const r=e[o];let l;we(r)?"default"in r?l=et(r.from||o,r.default,!0):l=et(r.from||o):l=et(r),Ie(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):t[o]=l}}function Io(e,t,s){ft(X(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function al(e,t,s,o){let r=o.includes(".")?xl(s,o):()=>s[o];if(Oe(e)){const l=t[e];se(l)&&Me(r,l)}else if(se(e))Me(r,e.bind(s));else if(we(e))if(X(e))e.forEach(l=>al(l,t,s,o));else{const l=se(e.handler)?e.handler.bind(s):t[e.handler];se(l)&&Me(r,l,e)}}function il(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,i=l.get(t);let c;return i?c=i:!r.length&&!s&&!o?c=t:(c={},r.length&&r.forEach(h=>Xs(c,h,a,!0)),Xs(c,t,a)),we(t)&&l.set(t,c),c}function Xs(e,t,s,o=!1){const{mixins:r,extends:l}=t;l&&Xs(e,l,s,!0),r&&r.forEach(a=>Xs(e,a,s,!0));for(const a in t)if(!(o&&a==="expose")){const i=mi[a]||s&&s[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const mi={data:Oo,props:Po,emits:Po,methods:fs,computed:fs,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:fs,directives:fs,watch:_i,provide:Oo,inject:bi};function Oo(e,t){return t?e?function(){return Le(se(e)?e.call(this,this):e,se(t)?t.call(this,this):t)}:t:e}function bi(e,t){return fs(Fn(e),Fn(t))}function Fn(e){if(X(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Be(e,t){return e?[...new Set([].concat(e,t))]:t}function fs(e,t){return e?Le(Object.create(null),e,t):t}function Po(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:Le(Object.create(null),Ao(e),Ao(t??{})):t}function _i(e,t){if(!e)return t;if(!t)return e;const s=Le(Object.create(null),e);for(const o in t)s[o]=Be(e[o],t[o]);return s}function cl(){return{app:null,config:{isNativeTag:xr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gi=0;function vi(e,t){return function(o,r=null){se(o)||(o=Le({},o)),r!=null&&!we(r)&&(r=null);const l=cl(),a=new WeakSet,i=[];let c=!1;const h=l.app={_uid:gi++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:ec,get config(){return l.config},set config(f){},use(f,...m){return a.has(f)||(f&&se(f.install)?(a.add(f),f.install(h,...m)):se(f)&&(a.add(f),f(h,...m))),h},mixin(f){return l.mixins.includes(f)||l.mixins.push(f),h},component(f,m){return m?(l.components[f]=m,h):l.components[f]},directive(f,m){return m?(l.directives[f]=m,h):l.directives[f]},mount(f,m,u){if(!c){const d=h._ceVNode||Re(o,r);return d.appContext=l,u===!0?u="svg":u===!1&&(u=void 0),e(d,f,u),c=!0,h._container=f,f.__vue_app__=h,fn(d.component)}},onUnmount(f){i.push(f)},unmount(){c&&(ft(i,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(f,m){return l.provides[f]=m,h},runWithContext(f){const m=Gt;Gt=h;try{return f()}finally{Gt=m}}};return h}}let Gt=null;function Hs(e,t){if(Ge){let s=Ge.provides;const o=Ge.parent&&Ge.parent.provides;o===s&&(s=Ge.provides=Object.create(o)),s[e]=t}}function et(e,t,s=!1){const o=Sl();if(o||Gt){let r=Gt?Gt._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&se(t)?t.call(o&&o.proxy):t}}function yi(){return!!(Sl()||Gt)}const dl={},ul=()=>Object.create(dl),fl=e=>Object.getPrototypeOf(e)===dl;function xi(e,t,s,o=!1){const r={},l=ul();e.propsDefaults=Object.create(null),pl(e,t,r,l);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);s?e.props=o?r:Kr(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function wi(e,t,s,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=e,i=he(r),[c]=e.propsOptions;let h=!1;if((o||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let m=0;m<f.length;m++){let u=f[m];if(dn(e.emitsOptions,u))continue;const d=t[u];if(c)if(be(l,u))d!==l[u]&&(l[u]=d,h=!0);else{const $=Mt(u);r[$]=Vn(c,i,$,d,e,!1)}else d!==l[u]&&(l[u]=d,h=!0)}}}else{pl(e,t,r,l)&&(h=!0);let f;for(const m in i)(!t||!be(t,m)&&((f=Wt(m))===m||!be(t,f)))&&(c?s&&(s[m]!==void 0||s[f]!==void 0)&&(r[m]=Vn(c,i,m,void 0,e,!0)):delete r[m]);if(l!==i)for(const m in l)(!t||!be(t,m))&&(delete l[m],h=!0)}h&&yt(e.attrs,"set","")}function pl(e,t,s,o){const[r,l]=e.propsOptions;let a=!1,i;if(t)for(let c in t){if(ps(c))continue;const h=t[c];let f;r&&be(r,f=Mt(c))?!l||!l.includes(f)?s[f]=h:(i||(i={}))[f]=h:dn(e.emitsOptions,c)||(!(c in o)||h!==o[c])&&(o[c]=h,a=!0)}if(l){const c=he(s),h=i||xe;for(let f=0;f<l.length;f++){const m=l[f];s[m]=Vn(r,c,m,h[m],e,!be(h,m))}}return a}function Vn(e,t,s,o,r,l){const a=e[s];if(a!=null){const i=be(a,"default");if(i&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&se(c)){const{propsDefaults:h}=r;if(s in h)o=h[s];else{const f=Ns(r);o=h[s]=c.call(null,t),f()}}else o=c;r.ce&&r.ce._setProp(s,o)}a[0]&&(l&&!i?o=!1:a[1]&&(o===""||o===Wt(s))&&(o=!0))}return o}const Ci=new WeakMap;function hl(e,t,s=!1){const o=s?Ci:t.propsCache,r=o.get(e);if(r)return r;const l=e.props,a={},i=[];let c=!1;if(!se(e)){const f=m=>{c=!0;const[u,d]=hl(m,t,!0);Le(a,u),d&&i.push(...d)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!l&&!c)return we(e)&&o.set(e,Xt),Xt;if(X(l))for(let f=0;f<l.length;f++){const m=Mt(l[f]);Do(m)&&(a[m]=xe)}else if(l)for(const f in l){const m=Mt(f);if(Do(m)){const u=l[f],d=a[m]=X(u)||se(u)?{type:u}:Le({},u),$=d.type;let p=!1,C=!0;if(X($))for(let j=0;j<$.length;++j){const M=$[j],A=se(M)&&M.name;if(A==="Boolean"){p=!0;break}else A==="String"&&(C=!1)}else p=se($)&&$.name==="Boolean";d[0]=p,d[1]=C,(p||be(d,"default"))&&i.push(m)}}const h=[a,i];return we(e)&&o.set(e,h),h}function Do(e){return e[0]!=="$"&&!ps(e)}const fo=e=>e==="_"||e==="_ctx"||e==="$stable",po=e=>X(e)?e.map(dt):[dt(e)],$i=(e,t,s)=>{if(t._n)return t;const o=Vt((...r)=>po(t(...r)),s);return o._c=!1,o},ml=(e,t,s)=>{const o=e._ctx;for(const r in e){if(fo(r))continue;const l=e[r];if(se(l))t[r]=$i(r,l,o);else if(l!=null){const a=po(l);t[r]=()=>a}}},bl=(e,t)=>{const s=po(t);e.slots.default=()=>s},_l=(e,t,s)=>{for(const o in t)(s||!fo(o))&&(e[o]=t[o])},Ei=(e,t,s)=>{const o=e.slots=ul();if(e.vnode.shapeFlag&32){const r=t._;r?(_l(o,t,s),s&&Sr(o,"_",r,!0)):ml(t,o)}else t&&bl(e,t)},Si=(e,t,s)=>{const{vnode:o,slots:r}=e;let l=!0,a=xe;if(o.shapeFlag&32){const i=t._;i?s&&i===1?l=!1:_l(r,t,s):(l=!t.$stable,ml(t,r)),a=t}else t&&(bl(e,t),a={default:1});if(l)for(const i in r)!fo(i)&&a[i]==null&&delete r[i]},Qe=Li;function Ri(e){return ki(e)}function ki(e,t){const s=on();s.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:a,createText:i,createComment:c,setText:h,setElementText:f,parentNode:m,nextSibling:u,setScopeId:d=ut,insertStaticContent:$}=e,p=(b,g,y,P=null,N=null,O=null,B=void 0,L=null,U=!!g.dynamicChildren)=>{if(b===g)return;b&&!ds(b,g)&&(P=D(b),k(b,N,O,!0),b=null),g.patchFlag===-2&&(U=!1,g.dynamicChildren=null);const{type:F,ref:Z,shapeFlag:q}=g;switch(F){case un:C(b,g,y,P);break;case St:j(b,g,y,P);break;case $n:b==null&&M(g,y,P,B);break;case oe:Ce(b,g,y,P,N,O,B,L,U);break;default:q&1?R(b,g,y,P,N,O,B,L,U):q&6?ye(b,g,y,P,N,O,B,L,U):(q&64||q&128)&&F.process(b,g,y,P,N,O,B,L,U,z)}Z!=null&&N?bs(Z,b&&b.ref,O,g||b,!g):Z==null&&b&&b.ref!=null&&bs(b.ref,null,O,b,!0)},C=(b,g,y,P)=>{if(b==null)o(g.el=i(g.children),y,P);else{const N=g.el=b.el;g.children!==b.children&&h(N,g.children)}},j=(b,g,y,P)=>{b==null?o(g.el=c(g.children||""),y,P):g.el=b.el},M=(b,g,y,P)=>{[b.el,b.anchor]=$(b.children,g,y,P,b.el,b.anchor)},A=({el:b,anchor:g},y,P)=>{let N;for(;b&&b!==g;)N=u(b),o(b,y,P),b=N;o(g,y,P)},x=({el:b,anchor:g})=>{let y;for(;b&&b!==g;)y=u(b),r(b),b=y;r(g)},R=(b,g,y,P,N,O,B,L,U)=>{if(g.type==="svg"?B="svg":g.type==="math"&&(B="mathml"),b==null)G(g,y,P,N,O,B,L,U);else{const F=b.el&&b.el._isVueCE?b.el:null;try{F&&F._beginPatch(),T(b,g,N,O,B,L,U)}finally{F&&F._endPatch()}}},G=(b,g,y,P,N,O,B,L)=>{let U,F;const{props:Z,shapeFlag:q,transition:Q,dirs:ee}=b;if(U=b.el=a(b.type,O,Z&&Z.is,Z),q&8?f(U,b.children):q&16&&I(b.children,U,null,P,N,Cn(b,O),B,L),ee&&Ut(b,null,P,"created"),E(U,b,b.scopeId,B,P),Z){for(const $e in Z)$e!=="value"&&!ps($e)&&l(U,$e,null,Z[$e],O,P);"value"in Z&&l(U,"value",null,Z.value,O),(F=Z.onVnodeBeforeMount)&&it(F,P,b)}ee&&Ut(b,null,P,"beforeMount");const ce=Ai(N,Q);ce&&Q.beforeEnter(U),o(U,g,y),((F=Z&&Z.onVnodeMounted)||ce||ee)&&Qe(()=>{F&&it(F,P,b),ce&&Q.enter(U),ee&&Ut(b,null,P,"mounted")},N)},E=(b,g,y,P,N)=>{if(y&&d(b,y),P)for(let O=0;O<P.length;O++)d(b,P[O]);if(N){let O=N.subTree;if(g===O||Cl(O.type)&&(O.ssContent===g||O.ssFallback===g)){const B=N.vnode;E(b,B,B.scopeId,B.slotScopeIds,N.parent)}}},I=(b,g,y,P,N,O,B,L,U=0)=>{for(let F=U;F<b.length;F++){const Z=b[F]=L?Ot(b[F]):dt(b[F]);p(null,Z,g,y,P,N,O,B,L)}},T=(b,g,y,P,N,O,B)=>{const L=g.el=b.el;let{patchFlag:U,dynamicChildren:F,dirs:Z}=g;U|=b.patchFlag&16;const q=b.props||xe,Q=g.props||xe;let ee;if(y&&Lt(y,!1),(ee=Q.onVnodeBeforeUpdate)&&it(ee,y,g,b),Z&&Ut(g,b,y,"beforeUpdate"),y&&Lt(y,!0),(q.innerHTML&&Q.innerHTML==null||q.textContent&&Q.textContent==null)&&f(L,""),F?re(b.dynamicChildren,F,L,y,P,Cn(g,N),O):B||pe(b,g,L,null,y,P,Cn(g,N),O,!1),U>0){if(U&16)ke(L,q,Q,y,N);else if(U&2&&q.class!==Q.class&&l(L,"class",null,Q.class,N),U&4&&l(L,"style",q.style,Q.style,N),U&8){const ce=g.dynamicProps;for(let $e=0;$e<ce.length;$e++){const _e=ce[$e],We=q[_e],Ke=Q[_e];(Ke!==We||_e==="value")&&l(L,_e,We,Ke,N,y)}}U&1&&b.children!==g.children&&f(L,g.children)}else!B&&F==null&&ke(L,q,Q,y,N);((ee=Q.onVnodeUpdated)||Z)&&Qe(()=>{ee&&it(ee,y,g,b),Z&&Ut(g,b,y,"updated")},P)},re=(b,g,y,P,N,O,B)=>{for(let L=0;L<g.length;L++){const U=b[L],F=g[L],Z=U.el&&(U.type===oe||!ds(U,F)||U.shapeFlag&198)?m(U.el):y;p(U,F,Z,null,P,N,O,B,!0)}},ke=(b,g,y,P,N)=>{if(g!==y){if(g!==xe)for(const O in g)!ps(O)&&!(O in y)&&l(b,O,g[O],null,N,P);for(const O in y){if(ps(O))continue;const B=y[O],L=g[O];B!==L&&O!=="value"&&l(b,O,L,B,N,P)}"value"in y&&l(b,"value",g.value,y.value,N)}},Ce=(b,g,y,P,N,O,B,L,U)=>{const F=g.el=b?b.el:i(""),Z=g.anchor=b?b.anchor:i("");let{patchFlag:q,dynamicChildren:Q,slotScopeIds:ee}=g;ee&&(L=L?L.concat(ee):ee),b==null?(o(F,y,P),o(Z,y,P),I(g.children||[],y,Z,N,O,B,L,U)):q>0&&q&64&&Q&&b.dynamicChildren?(re(b.dynamicChildren,Q,y,N,O,B,L),(g.key!=null||N&&g===N.subTree)&&gl(b,g,!0)):pe(b,g,y,Z,N,O,B,L,U)},ye=(b,g,y,P,N,O,B,L,U)=>{g.slotScopeIds=L,b==null?g.shapeFlag&512?N.ctx.activate(g,y,P,B,U):mt(g,y,P,N,O,B,U):ze(b,g,U)},mt=(b,g,y,P,N,O,B)=>{const L=b.component=zi(b,P,N);if(nl(b)&&(L.ctx.renderer=z),Yi(L,!1,B),L.asyncDep){if(N&&N.registerDep(L,ae,B),!b.el){const U=L.subTree=Re(St);j(null,U,g,y),b.placeholder=U.el}}else ae(L,b,g,y,N,O,B)},ze=(b,g,y)=>{const P=g.component=b.component;if(Vi(b,g,y))if(P.asyncDep&&!P.asyncResolved){te(P,g,y);return}else P.next=g,P.update();else g.el=b.el,P.vnode=g},ae=(b,g,y,P,N,O,B)=>{const L=()=>{if(b.isMounted){let{next:q,bu:Q,u:ee,parent:ce,vnode:$e}=b;{const lt=vl(b);if(lt){q&&(q.el=$e.el,te(b,q,B)),lt.asyncDep.then(()=>{b.isUnmounted||L()});return}}let _e=q,We;Lt(b,!1),q?(q.el=$e.el,te(b,q,B)):q=$e,Q&&Bs(Q),(We=q.props&&q.props.onVnodeBeforeUpdate)&&it(We,ce,q,$e),Lt(b,!0);const Ke=jo(b),rt=b.subTree;b.subTree=Ke,p(rt,Ke,m(rt.el),D(rt),b,N,O),q.el=Ke.el,_e===null&&Ui(b,Ke.el),ee&&Qe(ee,N),(We=q.props&&q.props.onVnodeUpdated)&&Qe(()=>it(We,ce,q,$e),N)}else{let q;const{el:Q,props:ee}=g,{bm:ce,m:$e,parent:_e,root:We,type:Ke}=b,rt=ts(g);Lt(b,!1),ce&&Bs(ce),!rt&&(q=ee&&ee.onVnodeBeforeMount)&&it(q,_e,g),Lt(b,!0);{We.ce&&We.ce._def.shadowRoot!==!1&&We.ce._injectChildStyle(Ke);const lt=b.subTree=jo(b);p(null,lt,y,P,b,N,O),g.el=lt.el}if($e&&Qe($e,N),!rt&&(q=ee&&ee.onVnodeMounted)){const lt=g;Qe(()=>it(q,_e,lt),N)}(g.shapeFlag&256||_e&&ts(_e.vnode)&&_e.vnode.shapeFlag&256)&&b.a&&Qe(b.a,N),b.isMounted=!0,g=y=P=null}};b.scope.on();const U=b.effect=new Dr(L);b.scope.off();const F=b.update=U.run.bind(U),Z=b.job=U.runIfDirty.bind(U);Z.i=b,Z.id=b.uid,U.scheduler=()=>co(Z),Lt(b,!0),F()},te=(b,g,y)=>{g.component=b;const P=b.vnode.props;b.vnode=g,b.next=null,wi(b,g.props,P,y),Si(b,g.children,y),$t(),Ro(b),Et()},pe=(b,g,y,P,N,O,B,L,U=!1)=>{const F=b&&b.children,Z=b?b.shapeFlag:0,q=g.children,{patchFlag:Q,shapeFlag:ee}=g;if(Q>0){if(Q&128){V(F,q,y,P,N,O,B,L,U);return}else if(Q&256){tt(F,q,y,P,N,O,B,L,U);return}}ee&8?(Z&16&&Xe(F,N,O),q!==F&&f(y,q)):Z&16?ee&16?V(F,q,y,P,N,O,B,L,U):Xe(F,N,O,!0):(Z&8&&f(y,""),ee&16&&I(q,y,P,N,O,B,L,U))},tt=(b,g,y,P,N,O,B,L,U)=>{b=b||Xt,g=g||Xt;const F=b.length,Z=g.length,q=Math.min(F,Z);let Q;for(Q=0;Q<q;Q++){const ee=g[Q]=U?Ot(g[Q]):dt(g[Q]);p(b[Q],ee,y,null,N,O,B,L,U)}F>Z?Xe(b,N,O,!0,!1,q):I(g,y,P,N,O,B,L,U,q)},V=(b,g,y,P,N,O,B,L,U)=>{let F=0;const Z=g.length;let q=b.length-1,Q=Z-1;for(;F<=q&&F<=Q;){const ee=b[F],ce=g[F]=U?Ot(g[F]):dt(g[F]);if(ds(ee,ce))p(ee,ce,y,null,N,O,B,L,U);else break;F++}for(;F<=q&&F<=Q;){const ee=b[q],ce=g[Q]=U?Ot(g[Q]):dt(g[Q]);if(ds(ee,ce))p(ee,ce,y,null,N,O,B,L,U);else break;q--,Q--}if(F>q){if(F<=Q){const ee=Q+1,ce=ee<Z?g[ee].el:P;for(;F<=Q;)p(null,g[F]=U?Ot(g[F]):dt(g[F]),y,ce,N,O,B,L,U),F++}}else if(F>Q)for(;F<=q;)k(b[F],N,O,!0),F++;else{const ee=F,ce=F,$e=new Map;for(F=ce;F<=Q;F++){const Ye=g[F]=U?Ot(g[F]):dt(g[F]);Ye.key!=null&&$e.set(Ye.key,F)}let _e,We=0;const Ke=Q-ce+1;let rt=!1,lt=0;const is=new Array(Ke);for(F=0;F<Ke;F++)is[F]=0;for(F=ee;F<=q;F++){const Ye=b[F];if(We>=Ke){k(Ye,N,O,!0);continue}let at;if(Ye.key!=null)at=$e.get(Ye.key);else for(_e=ce;_e<=Q;_e++)if(is[_e-ce]===0&&ds(Ye,g[_e])){at=_e;break}at===void 0?k(Ye,N,O,!0):(is[at-ce]=F+1,at>=lt?lt=at:rt=!0,p(Ye,g[at],y,null,N,O,B,L,U),We++)}const yo=rt?Ii(is):Xt;for(_e=yo.length-1,F=Ke-1;F>=0;F--){const Ye=ce+F,at=g[Ye],xo=g[Ye+1],wo=Ye+1<Z?xo.el||xo.placeholder:P;is[F]===0?p(null,at,y,wo,N,O,B,L,U):rt&&(_e<0||F!==yo[_e]?v(at,y,wo,2):_e--)}}},v=(b,g,y,P,N=null)=>{const{el:O,type:B,transition:L,children:U,shapeFlag:F}=b;if(F&6){v(b.component.subTree,g,y,P);return}if(F&128){b.suspense.move(g,y,P);return}if(F&64){B.move(b,g,y,z);return}if(B===oe){o(O,g,y);for(let q=0;q<U.length;q++)v(U[q],g,y,P);o(b.anchor,g,y);return}if(B===$n){A(b,g,y);return}if(P!==2&&F&1&&L)if(P===0)L.beforeEnter(O),o(O,g,y),Qe(()=>L.enter(O),N);else{const{leave:q,delayLeave:Q,afterLeave:ee}=L,ce=()=>{b.ctx.isUnmounted?r(O):o(O,g,y)},$e=()=>{O._isLeaving&&O[Xa](!0),q(O,()=>{ce(),ee&&ee()})};Q?Q(O,ce,$e):$e()}else o(O,g,y)},k=(b,g,y,P=!1,N=!1)=>{const{type:O,props:B,ref:L,children:U,dynamicChildren:F,shapeFlag:Z,patchFlag:q,dirs:Q,cacheIndex:ee}=b;if(q===-2&&(N=!1),L!=null&&($t(),bs(L,null,y,b,!0),Et()),ee!=null&&(g.renderCache[ee]=void 0),Z&256){g.ctx.deactivate(b);return}const ce=Z&1&&Q,$e=!ts(b);let _e;if($e&&(_e=B&&B.onVnodeBeforeUnmount)&&it(_e,g,b),Z&6)bt(b.component,y,P);else{if(Z&128){b.suspense.unmount(y,P);return}ce&&Ut(b,null,g,"beforeUnmount"),Z&64?b.type.remove(b,g,y,z,P):F&&!F.hasOnce&&(O!==oe||q>0&&q&64)?Xe(F,g,y,!1,!0):(O===oe&&q&384||!N&&Z&16)&&Xe(U,g,y),P&&ge(b)}($e&&(_e=B&&B.onVnodeUnmounted)||ce)&&Qe(()=>{_e&&it(_e,g,b),ce&&Ut(b,null,g,"unmounted")},y)},ge=b=>{const{type:g,el:y,anchor:P,transition:N}=b;if(g===oe){Te(y,P);return}if(g===$n){x(b);return}const O=()=>{r(y),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(b.shapeFlag&1&&N&&!N.persisted){const{leave:B,delayLeave:L}=N,U=()=>B(y,O);L?L(b.el,O,U):U()}else O()},Te=(b,g)=>{let y;for(;b!==g;)y=u(b),r(b),b=y;r(g)},bt=(b,g,y)=>{const{bum:P,scope:N,job:O,subTree:B,um:L,m:U,a:F}=b;To(U),To(F),P&&Bs(P),N.stop(),O&&(O.flags|=8,k(B,b,g,y)),L&&Qe(L,g),Qe(()=>{b.isUnmounted=!0},g)},Xe=(b,g,y,P=!1,N=!1,O=0)=>{for(let B=O;B<b.length;B++)k(b[B],g,y,P,N)},D=b=>{if(b.shapeFlag&6)return D(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const g=u(b.anchor||b.el),y=g&&g[Qa];return y?u(y):g};let W=!1;const H=(b,g,y)=>{b==null?g._vnode&&k(g._vnode,null,null,!0):p(g._vnode||null,b,g,null,null,null,y),g._vnode=b,W||(W=!0,Ro(),Xr(),W=!1)},z={p,um:k,m:v,r:ge,mt,mc:I,pc:pe,pbc:re,n:D,o:e};return{render:H,hydrate:void 0,createApp:vi(H)}}function Cn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Lt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ai(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gl(e,t,s=!1){const o=e.children,r=t.children;if(X(o)&&X(r))for(let l=0;l<o.length;l++){const a=o[l];let i=r[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[l]=Ot(r[l]),i.el=a.el),!s&&i.patchFlag!==-2&&gl(a,i)),i.type===un&&i.patchFlag!==-1&&(i.el=a.el),i.type===St&&!i.el&&(i.el=a.el)}}function Ii(e){const t=e.slice(),s=[0];let o,r,l,a,i;const c=e.length;for(o=0;o<c;o++){const h=e[o];if(h!==0){if(r=s[s.length-1],e[r]<h){t[o]=r,s.push(o);continue}for(l=0,a=s.length-1;l<a;)i=l+a>>1,e[s[i]]<h?l=i+1:a=i;h<e[s[l]]&&(l>0&&(t[o]=s[l-1]),s[l]=o)}}for(l=s.length,a=s[l-1];l-- >0;)s[l]=a,a=t[a];return s}function vl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vl(t)}function To(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Oi=Symbol.for("v-scx"),Pi=()=>et(Oi);function Me(e,t,s){return yl(e,t,s)}function yl(e,t,s=xe){const{immediate:o,deep:r,flush:l,once:a}=s,i=Le({},s),c=t&&o||!t&&l!=="post";let h;if(Ss){if(l==="sync"){const d=Pi();h=d.__watcherHandles||(d.__watcherHandles=[])}else if(!c){const d=()=>{};return d.stop=ut,d.resume=ut,d.pause=ut,d}}const f=Ge;i.call=(d,$,p)=>ft(d,f,$,p);let m=!1;l==="post"?i.scheduler=d=>{Qe(d,f&&f.suspense)}:l!=="sync"&&(m=!0,i.scheduler=(d,$)=>{$?d():co(d)}),i.augmentJob=d=>{t&&(d.flags|=4),m&&(d.flags|=2,f&&(d.id=f.uid,d.i=f))};const u=Wa(e,t,i);return Ss&&(h?h.push(u):c&&u()),u}function Di(e,t,s){const o=this.proxy,r=Oe(e)?e.includes(".")?xl(o,e):()=>o[e]:e.bind(o,o);let l;se(t)?l=t:(l=t.handler,s=t);const a=Ns(this),i=yl(r,l.bind(o),s);return a(),i}function xl(e,t){const s=t.split(".");return()=>{let o=e;for(let r=0;r<s.length&&o;r++)o=o[s[r]];return o}}const Ti=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Mt(t)}Modifiers`]||e[`${Wt(t)}Modifiers`];function ji(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||xe;let r=s;const l=t.startsWith("update:"),a=l&&Ti(o,t.slice(7));a&&(a.trim&&(r=s.map(f=>Oe(f)?f.trim():f)),a.number&&(r=s.map(nn)));let i,c=o[i=_n(t)]||o[i=_n(Mt(t))];!c&&l&&(c=o[i=_n(Wt(t))]),c&&ft(c,e,6,r);const h=o[i+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,ft(h,e,6,r)}}const Ni=new WeakMap;function wl(e,t,s=!1){const o=s?Ni:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let a={},i=!1;if(!se(e)){const c=h=>{const f=wl(h,t,!0);f&&(i=!0,Le(a,f))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!l&&!i?(we(e)&&o.set(e,null),null):(X(l)?l.forEach(c=>a[c]=null):Le(a,l),we(e)&&o.set(e,a),a)}function dn(e,t){return!e||!tn(t)?!1:(t=t.slice(2).replace(/Once$/,""),be(e,t[0].toLowerCase()+t.slice(1))||be(e,Wt(t))||be(e,t))}function jo(e){const{type:t,vnode:s,proxy:o,withProxy:r,propsOptions:[l],slots:a,attrs:i,emit:c,render:h,renderCache:f,props:m,data:u,setupState:d,ctx:$,inheritAttrs:p}=e,C=Qs(e);let j,M;try{if(s.shapeFlag&4){const x=r||o,R=x;j=dt(h.call(R,x,f,m,d,u,$)),M=i}else{const x=t;j=dt(x.length>1?x(m,{attrs:i,slots:a,emit:c}):x(m,null)),M=t.props?i:Mi(i)}}catch(x){gs.length=0,ln(x,e,1),j=Re(St)}let A=j;if(M&&p!==!1){const x=Object.keys(M),{shapeFlag:R}=A;x.length&&R&7&&(l&&x.some(Qn)&&(M=Fi(M,l)),A=ss(A,M,!1,!0))}return s.dirs&&(A=ss(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(s.dirs):s.dirs),s.transition&&uo(A,s.transition),j=A,Qs(C),j}const Mi=e=>{let t;for(const s in e)(s==="class"||s==="style"||tn(s))&&((t||(t={}))[s]=e[s]);return t},Fi=(e,t)=>{const s={};for(const o in e)(!Qn(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Vi(e,t,s){const{props:o,children:r,component:l}=e,{props:a,children:i,patchFlag:c}=t,h=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?No(o,a,h):!!a;if(c&8){const f=t.dynamicProps;for(let m=0;m<f.length;m++){const u=f[m];if(a[u]!==o[u]&&!dn(h,u))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?No(o,a,h):!0:!!a;return!1}function No(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(t[l]!==e[l]&&!dn(s,l))return!0}return!1}function Ui({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Cl=e=>e.__isSuspense;function Li(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):Ya(e)}const oe=Symbol.for("v-fgt"),un=Symbol.for("v-txt"),St=Symbol.for("v-cmt"),$n=Symbol.for("v-stc"),gs=[];let Je=null;function w(e=!1){gs.push(Je=e?null:[])}function Bi(){gs.pop(),Je=gs[gs.length-1]||null}let $s=1;function Zs(e,t=!1){$s+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function $l(e){return e.dynamicChildren=$s>0?Je||Xt:null,Bi(),$s>0&&Je&&Je.push(e),e}function S(e,t,s,o,r,l){return $l(n(e,t,s,o,r,l,!0))}function pt(e,t,s,o,r){return $l(Re(e,t,s,o,r,!0))}function Es(e){return e?e.__v_isVNode===!0:!1}function ds(e,t){return e.type===t.type&&e.key===t.key}const El=({key:e})=>e??null,qs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Oe(e)||Ie(e)||se(e)?{i:Ue,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,o=0,r=null,l=e===oe?0:1,a=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&El(t),ref:t&&qs(t),scopeId:el,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ue};return i?(ho(c,s),l&128&&e.normalize(c)):s&&(c.shapeFlag|=Oe(s)?8:16),$s>0&&!a&&Je&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Je.push(c),c}const Re=Hi;function Hi(e,t=null,s=null,o=0,r=null,l=!1){if((!e||e===di)&&(e=St),Es(e)){const i=ss(e,t,!0);return s&&ho(i,s),$s>0&&!l&&Je&&(i.shapeFlag&6?Je[Je.indexOf(e)]=i:Je.push(i)),i.patchFlag=-2,i}if(Zi(e)&&(e=e.__vccOpts),t){t=qi(t);let{class:i,style:c}=t;i&&!Oe(i)&&(t.class=le(i)),we(c)&&(ao(c)&&!X(c)&&(c=Le({},c)),t.style=Zn(c))}const a=Oe(e)?1:Cl(e)?128:Ja(e)?64:we(e)?4:se(e)?2:0;return n(e,t,s,o,r,a,l,!0)}function qi(e){return e?ao(e)||fl(e)?Le({},e):e:null}function ss(e,t,s=!1,o=!1){const{props:r,ref:l,patchFlag:a,children:i,transition:c}=e,h=t?Gi(r||{},t):r,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&El(h),ref:t&&t.ref?s&&l?X(l)?l.concat(qs(t)):[l,qs(t)]:qs(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==oe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ss(e.ssContent),ssFallback:e.ssFallback&&ss(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&uo(f,c.clone(f)),f}function K(e=" ",t=0){return Re(un,null,e,t)}function J(e="",t=!1){return t?(w(),pt(St,null,e)):Re(St,null,e)}function dt(e){return e==null||typeof e=="boolean"?Re(St):X(e)?Re(oe,null,e.slice()):Es(e)?Ot(e):Re(un,null,String(e))}function Ot(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ss(e)}function ho(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(X(t))s=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),ho(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!fl(t)?t._ctx=Ue:r===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else se(t)?(t={default:t,_ctx:Ue},s=32):(t=String(t),o&64?(s=16,t=[K(t)]):s=8);e.children=t,e.shapeFlag|=s}function Gi(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=le([t.class,o.class]));else if(r==="style")t.style=Zn([t.style,o.style]);else if(tn(r)){const l=t[r],a=o[r];a&&l!==a&&!(X(l)&&l.includes(a))&&(t[r]=l?[].concat(l,a):a)}else r!==""&&(t[r]=o[r])}return t}function it(e,t,s,o=null){ft(e,t,7,[s,o])}const Wi=cl();let Ki=0;function zi(e,t,s){const o=e.type,r=(t?t.appContext:e.appContext)||Wi,l={uid:Ki++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ir(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hl(o,r),emitsOptions:wl(o,r),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:o.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=ji.bind(null,l),e.ce&&e.ce(l),l}let Ge=null;const Sl=()=>Ge||Ue;let en,Un;{const e=on(),t=(s,o)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(o),l=>{r.length>1?r.forEach(a=>a(l)):r[0](l)}};en=t("__VUE_INSTANCE_SETTERS__",s=>Ge=s),Un=t("__VUE_SSR_SETTERS__",s=>Ss=s)}const Ns=e=>{const t=Ge;return en(e),e.scope.on(),()=>{e.scope.off(),en(t)}},Mo=()=>{Ge&&Ge.scope.off(),en(null)};function Rl(e){return e.vnode.shapeFlag&4}let Ss=!1;function Yi(e,t=!1,s=!1){t&&Un(t);const{props:o,children:r}=e.vnode,l=Rl(e);xi(e,o,l,t),Ei(e,r,s||t);const a=l?Qi(e,t):void 0;return t&&Un(!1),a}function Qi(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fi);const{setup:o}=s;if(o){$t();const r=e.setupContext=o.length>1?Xi(e):null,l=Ns(e),a=js(o,e,0,[e.props,r]),i=wr(a);if(Et(),l(),(i||e.sp)&&!ts(e)&&sl(e),i){if(a.then(Mo,Mo),t)return a.then(c=>{Fo(e,c)}).catch(c=>{ln(c,e,0)});e.asyncDep=a}else Fo(e,a)}else kl(e)}function Fo(e,t,s){se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=Yr(t)),kl(e)}function kl(e,t,s){const o=e.type;e.render||(e.render=o.render||ut);{const r=Ns(e);$t();try{pi(e)}finally{Et(),r()}}}const Ji={get(e,t){return Ve(e,"get",""),e[t]}};function Xi(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Ji),slots:e.slots,emit:e.emit,expose:t}}function fn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Yr(io(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in _s)return _s[s](e)},has(t,s){return s in t||s in _s}})):e.proxy}function Zi(e){return se(e)&&"__vccOpts"in e}const Y=(e,t)=>qa(e,t,Ss);function Al(e,t,s){try{Zs(-1);const o=arguments.length;return o===2?we(t)&&!X(t)?Es(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Es(s)&&(s=[s]),Re(e,t,s))}finally{Zs(1)}}const ec="3.5.24";let Ln;const Vo=typeof window<"u"&&window.trustedTypes;if(Vo)try{Ln=Vo.createPolicy("vue",{createHTML:e=>e})}catch{}const Il=Ln?e=>Ln.createHTML(e):e=>e,tc="http://www.w3.org/2000/svg",sc="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,Uo=vt&&vt.createElement("template"),nc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const r=t==="svg"?vt.createElementNS(tc,e):t==="mathml"?vt.createElementNS(sc,e):s?vt.createElement(e,{is:s}):vt.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>vt.createTextNode(e),createComment:e=>vt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,r,l){const a=s?s.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{Uo.innerHTML=Il(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const i=Uo.content;if(o==="svg"||o==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},oc=Symbol("_vtc");function rc(e,t,s){const o=e[oc];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Lo=Symbol("_vod"),lc=Symbol("_vsh"),ac=Symbol(""),ic=/(?:^|;)\s*display\s*:/;function cc(e,t,s){const o=e.style,r=Oe(s);let l=!1;if(s&&!r){if(t)if(Oe(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();s[i]==null&&Gs(o,i,"")}else for(const a in t)s[a]==null&&Gs(o,a,"");for(const a in s)a==="display"&&(l=!0),Gs(o,a,s[a])}else if(r){if(t!==s){const a=o[ac];a&&(s+=";"+a),o.cssText=s,l=ic.test(s)}}else t&&e.removeAttribute("style");Lo in e&&(e[Lo]=l?o.display:"",e[lc]&&(o.display="none"))}const Bo=/\s*!important$/;function Gs(e,t,s){if(X(s))s.forEach(o=>Gs(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=dc(e,t);Bo.test(s)?e.setProperty(Wt(o),s.replace(Bo,""),"important"):e[o]=s}}const Ho=["Webkit","Moz","ms"],En={};function dc(e,t){const s=En[t];if(s)return s;let o=Mt(t);if(o!=="filter"&&o in e)return En[t]=o;o=Er(o);for(let r=0;r<Ho.length;r++){const l=Ho[r]+o;if(l in e)return En[t]=l}return t}const qo="http://www.w3.org/1999/xlink";function Go(e,t,s,o,r,l=ma(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(qo,t.slice(6,t.length)):e.setAttributeNS(qo,t,s):s==null||l&&!Rr(s)?e.removeAttribute(t):e.setAttribute(t,l?"":nt(s)?String(s):s)}function Wo(e,t,s,o,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Il(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const i=l==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(i!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Rr(s):s==null&&i==="string"?(s="",a=!0):i==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(r||t)}function Dt(e,t,s,o){e.addEventListener(t,s,o)}function uc(e,t,s,o){e.removeEventListener(t,s,o)}const Ko=Symbol("_vei");function fc(e,t,s,o,r=null){const l=e[Ko]||(e[Ko]={}),a=l[t];if(o&&a)a.value=o;else{const[i,c]=pc(t);if(o){const h=l[t]=bc(o,r);Dt(e,i,h,c)}else a&&(uc(e,i,a,c),l[t]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function pc(e){let t;if(zo.test(e)){t={};let o;for(;o=e.match(zo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Wt(e.slice(2)),t]}let Sn=0;const hc=Promise.resolve(),mc=()=>Sn||(hc.then(()=>Sn=0),Sn=Date.now());function bc(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;ft(_c(o,s.value),t,5,[o])};return s.value=e,s.attached=mc(),s}function _c(e,t){if(X(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Yo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gc=(e,t,s,o,r,l)=>{const a=r==="svg";t==="class"?rc(e,o,a):t==="style"?cc(e,s,o):tn(t)?Qn(t)||fc(e,t,s,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vc(e,t,o,a))?(Wo(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Go(e,t,o,a,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Oe(o))?Wo(e,Mt(t),o,l,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Go(e,t,o,a))};function vc(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yo(t)&&se(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Yo(t)&&Oe(s)?!1:t in e}const ns=e=>{const t=e.props["onUpdate:modelValue"]||!1;return X(t)?s=>Bs(t,s):t};function yc(e){e.target.composing=!0}function Qo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ct=Symbol("_assign");function Jo(e,t,s){return t&&(e=e.trim()),s&&(e=nn(e)),e}const de={created(e,{modifiers:{lazy:t,trim:s,number:o}},r){e[Ct]=ns(r);const l=o||r.props&&r.props.type==="number";Dt(e,t?"change":"input",a=>{a.target.composing||e[Ct](Jo(e.value,s,l))}),(s||l)&&Dt(e,"change",()=>{e.value=Jo(e.value,s,l)}),t||(Dt(e,"compositionstart",yc),Dt(e,"compositionend",Qo),Dt(e,"change",Qo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:r,number:l}},a){if(e[Ct]=ns(a),e.composing)return;const i=(l||e.type==="number")&&!/^0\d/.test(e.value)?nn(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||r&&e.value.trim()===c)||(e.value=c))}},Ol={deep:!0,created(e,t,s){e[Ct]=ns(s),Dt(e,"change",()=>{const o=e._modelValue,r=ks(e),l=e.checked,a=e[Ct];if(X(o)){const i=eo(o,r),c=i!==-1;if(l&&!c)a(o.concat(r));else if(!l&&c){const h=[...o];h.splice(i,1),a(h)}}else if(ls(o)){const i=new Set(o);l?i.add(r):i.delete(r),a(i)}else a(Pl(e,l))})},mounted:Xo,beforeUpdate(e,t,s){e[Ct]=ns(s),Xo(e,t,s)}};function Xo(e,{value:t,oldValue:s},o){e._modelValue=t;let r;if(X(t))r=eo(t,o.props.value)>-1;else if(ls(t))r=t.has(o.props.value);else{if(t===s)return;r=Ds(t,Pl(e,!0))}e.checked!==r&&(e.checked=r)}const Rs={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const r=ls(t);Dt(e,"change",()=>{const l=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?nn(ks(a)):ks(a));e[Ct](e.multiple?r?new Set(l):l:l[0]),e._assigning=!0,an(()=>{e._assigning=!1})}),e[Ct]=ns(o)},mounted(e,{value:t}){Zo(e,t)},beforeUpdate(e,t,s){e[Ct]=ns(s)},updated(e,{value:t}){e._assigning||Zo(e,t)}};function Zo(e,t){const s=e.multiple,o=X(t);if(!(s&&!o&&!ls(t))){for(let r=0,l=e.options.length;r<l;r++){const a=e.options[r],i=ks(a);if(s)if(o){const c=typeof i;c==="string"||c==="number"?a.selected=t.some(h=>String(h)===String(i)):a.selected=eo(t,i)>-1}else a.selected=t.has(i);else if(Ds(ks(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ks(e){return"_value"in e?e._value:e.value}function Pl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const xc=["ctrl","shift","alt","meta"],wc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>xc.some(s=>e[`${s}Key`]&&!t.includes(s))},As=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=((r,...l)=>{for(let a=0;a<t.length;a++){const i=wc[t[a]];if(i&&i(r,t))return}return e(r,...l)}))},Cc=Le({patchProp:gc},nc);let er;function $c(){return er||(er=Ri(Cc))}const Ec=((...e)=>{const t=$c().createApp(...e),{mount:s}=t;return t.mount=o=>{const r=Rc(o);if(!r)return;const l=t._component;!se(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=s(r,!1,Sc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function Sc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rc(e){return Oe(e)?document.querySelector(e):e}let Dl;const pn=e=>Dl=e,Tl=Symbol();function Bn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vs||(vs={}));function kc(){const e=Or(!0),t=e.run(()=>fe({}));let s=[],o=[];const r=io({install(l){pn(r),r._a=l,l.provide(Tl,r),l.config.globalProperties.$pinia=r,o.forEach(a=>s.push(a)),o=[]},use(l){return this._a?s.push(l):o.push(l),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const jl=()=>{};function tr(e,t,s,o=jl){e.add(t);const r=()=>{e.delete(t)&&o()};return!s&&Pr()&&_a(r),r}function Yt(e,...t){e.forEach(s=>{s(...t)})}const Ac=e=>e(),sr=Symbol(),Rn=Symbol();function Hn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,o)=>e.set(o,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const o=t[s],r=e[s];Bn(r)&&Bn(o)&&e.hasOwnProperty(s)&&!Ie(o)&&!Nt(o)?e[s]=Hn(r,o):e[s]=o}return e}const Ic=Symbol();function Oc(e){return!Bn(e)||!Object.prototype.hasOwnProperty.call(e,Ic)}const{assign:At}=Object;function Pc(e){return!!(Ie(e)&&e.effect)}function Dc(e,t,s,o){const{state:r,actions:l,getters:a}=t,i=s.state.value[e];let c;function h(){i||(s.state.value[e]=r?r():{});const f=Ua(s.state.value[e]);return At(f,l,Object.keys(a||{}).reduce((m,u)=>(m[u]=io(Y(()=>{pn(s);const d=s._s.get(e);return a[u].call(d,d)})),m),{}))}return c=Nl(e,h,t,s,o,!0),c}function Nl(e,t,s={},o,r,l){let a;const i=At({actions:{}},s),c={deep:!0};let h,f,m=new Set,u=new Set,d;const $=o.state.value[e];!l&&!$&&(o.state.value[e]={}),fe({});let p;function C(I){let T;h=f=!1,typeof I=="function"?(I(o.state.value[e]),T={type:vs.patchFunction,storeId:e,events:d}):(Hn(o.state.value[e],I),T={type:vs.patchObject,payload:I,storeId:e,events:d});const re=p=Symbol();an().then(()=>{p===re&&(h=!0)}),f=!0,Yt(m,T,o.state.value[e])}const j=l?function(){const{state:T}=s,re=T?T():{};this.$patch(ke=>{At(ke,re)})}:jl;function M(){a.stop(),m.clear(),u.clear(),o._s.delete(e)}const A=(I,T="")=>{if(sr in I)return I[Rn]=T,I;const re=function(){pn(o);const ke=Array.from(arguments),Ce=new Set,ye=new Set;function mt(te){Ce.add(te)}function ze(te){ye.add(te)}Yt(u,{args:ke,name:re[Rn],store:R,after:mt,onError:ze});let ae;try{ae=I.apply(this&&this.$id===e?this:R,ke)}catch(te){throw Yt(ye,te),te}return ae instanceof Promise?ae.then(te=>(Yt(Ce,te),te)).catch(te=>(Yt(ye,te),Promise.reject(te))):(Yt(Ce,ae),ae)};return re[sr]=!0,re[Rn]=T,re},x={_p:o,$id:e,$onAction:tr.bind(null,u),$patch:C,$reset:j,$subscribe(I,T={}){const re=tr(m,I,T.detached,()=>ke()),ke=a.run(()=>Me(()=>o.state.value[e],Ce=>{(T.flush==="sync"?f:h)&&I({storeId:e,type:vs.direct,events:d},Ce)},At({},c,T)));return re},$dispose:M},R=Ts(x);o._s.set(e,R);const E=(o._a&&o._a.runWithContext||Ac)(()=>o._e.run(()=>(a=Or()).run(()=>t({action:A}))));for(const I in E){const T=E[I];if(Ie(T)&&!Pc(T)||Nt(T))l||($&&Oc(T)&&(Ie(T)?T.value=$[I]:Hn(T,$[I])),o.state.value[e][I]=T);else if(typeof T=="function"){const re=A(T,I);E[I]=re,i.actions[I]=T}}return At(R,E),At(he(R),E),Object.defineProperty(R,"$state",{get:()=>o.state.value[e],set:I=>{C(T=>{At(T,I)})}}),o._p.forEach(I=>{At(R,a.run(()=>I({store:R,app:o._a,pinia:o,options:i})))}),$&&l&&s.hydrate&&s.hydrate(R.$state,$),h=!0,f=!0,R}function Kt(e,t,s){let o;const r=typeof t=="function";o=r?s:t;function l(a,i){const c=yi();return a=a||(c?et(Tl,null):null),a&&pn(a),a=Dl,a._s.has(e)||(r?Nl(e,t,o,a):Dc(e,o,a)),a._s.get(e)}return l.$id=e,l}const Jt=typeof document<"u";function Ml(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Tc(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ml(e.default)}const me=Object.assign;function kn(e,t){const s={};for(const o in t){const r=t[o];s[o]=ot(r)?r.map(e):e(r)}return s}const ys=()=>{},ot=Array.isArray;function nr(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}const Fl=/#/g,jc=/&/g,Nc=/\//g,Mc=/=/g,Fc=/\?/g,Vl=/\+/g,Vc=/%5B/g,Uc=/%5D/g,Ul=/%5E/g,Lc=/%60/g,Ll=/%7B/g,Bc=/%7C/g,Bl=/%7D/g,Hc=/%20/g;function mo(e){return e==null?"":encodeURI(""+e).replace(Bc,"|").replace(Vc,"[").replace(Uc,"]")}function qc(e){return mo(e).replace(Ll,"{").replace(Bl,"}").replace(Ul,"^")}function qn(e){return mo(e).replace(Vl,"%2B").replace(Hc,"+").replace(Fl,"%23").replace(jc,"%26").replace(Lc,"`").replace(Ll,"{").replace(Bl,"}").replace(Ul,"^")}function Gc(e){return qn(e).replace(Mc,"%3D")}function Wc(e){return mo(e).replace(Fl,"%23").replace(Fc,"%3F")}function Kc(e){return Wc(e).replace(Nc,"%2F")}function Is(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const zc=/\/$/,Yc=e=>e.replace(zc,"");function An(e,t,s="/"){let o,r={},l="",a="";const i=t.indexOf("#");let c=t.indexOf("?");return c=i>=0&&c>i?-1:c,c>=0&&(o=t.slice(0,c),l=t.slice(c,i>0?i:t.length),r=e(l.slice(1))),i>=0&&(o=o||t.slice(0,i),a=t.slice(i,t.length)),o=Zc(o??t,s),{fullPath:o+l+a,path:o,query:r,hash:Is(a)}}function Qc(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function or(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Jc(e,t,s){const o=t.matched.length-1,r=s.matched.length-1;return o>-1&&o===r&&os(t.matched[o],s.matched[r])&&Hl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function os(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Hl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Xc(e[s],t[s]))return!1;return!0}function Xc(e,t){return ot(e)?rr(e,t):ot(t)?rr(t,e):e===t}function rr(e,t){return ot(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function Zc(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=s.length-1,a,i;for(a=0;a<o.length;a++)if(i=o[a],i!==".")if(i==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(a).join("/")}const kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Gn=(function(e){return e.pop="pop",e.push="push",e})({}),In=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function ed(e){if(!e)if(Jt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Yc(e)}const td=/^[^#]+#/;function sd(e,t){return e.replace(td,"#")+t}function nd(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const hn=()=>({left:window.scrollX,top:window.scrollY});function od(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=nd(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lr(e,t){return(history.state?history.state.position-t:-1)+e}const Wn=new Map;function rd(e,t){Wn.set(e,t)}function ld(e){const t=Wn.get(e);return Wn.delete(e),t}function ad(e){return typeof e=="string"||e&&typeof e=="object"}function ql(e){return typeof e=="string"||typeof e=="symbol"}let Ae=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Gl=Symbol("");Ae.MATCHER_NOT_FOUND+"",Ae.NAVIGATION_GUARD_REDIRECT+"",Ae.NAVIGATION_ABORTED+"",Ae.NAVIGATION_CANCELLED+"",Ae.NAVIGATION_DUPLICATED+"";function rs(e,t){return me(new Error,{type:e,[Gl]:!0},t)}function gt(e,t){return e instanceof Error&&Gl in e&&(t==null||!!(e.type&t))}const id=["params","query","hash"];function cd(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of id)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function dd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Vl," "),l=r.indexOf("="),a=Is(l<0?r:r.slice(0,l)),i=l<0?null:Is(r.slice(l+1));if(a in t){let c=t[a];ot(c)||(c=t[a]=[c]),c.push(i)}else t[a]=i}return t}function ar(e){let t="";for(let s in e){const o=e[s];if(s=Gc(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(ot(o)?o.map(r=>r&&qn(r)):[o&&qn(o)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function ud(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=ot(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const fd=Symbol(""),ir=Symbol(""),mn=Symbol(""),bo=Symbol(""),Kn=Symbol("");function us(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Pt(e,t,s,o,r,l=a=>a()){const a=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((i,c)=>{const h=u=>{u===!1?c(rs(Ae.NAVIGATION_ABORTED,{from:s,to:t})):u instanceof Error?c(u):ad(u)?c(rs(Ae.NAVIGATION_GUARD_REDIRECT,{from:t,to:u})):(a&&o.enterCallbacks[r]===a&&typeof u=="function"&&a.push(u),i())},f=l(()=>e.call(o&&o.instances[r],t,s,h));let m=Promise.resolve(f);e.length<3&&(m=m.then(h)),m.catch(u=>c(u))})}function On(e,t,s,o,r=l=>l()){const l=[];for(const a of e)for(const i in a.components){let c=a.components[i];if(!(t!=="beforeRouteEnter"&&!a.instances[i]))if(Ml(c)){const h=(c.__vccOpts||c)[t];h&&l.push(Pt(h,s,o,a,i,r))}else{let h=c();l.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${i}" at "${a.path}"`);const m=Tc(f)?f.default:f;a.mods[i]=f,a.components[i]=m;const u=(m.__vccOpts||m)[t];return u&&Pt(u,s,o,a,i,r)()}))}}return l}function pd(e,t){const s=[],o=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let a=0;a<l;a++){const i=t.matched[a];i&&(e.matched.find(h=>os(h,i))?o.push(i):s.push(i));const c=e.matched[a];c&&(t.matched.find(h=>os(h,c))||r.push(c))}return[s,o,r]}let hd=()=>location.protocol+"//"+location.host;function Wl(e,t){const{pathname:s,search:o,hash:r}=t,l=e.indexOf("#");if(l>-1){let a=r.includes(e.slice(l))?e.slice(l).length:1,i=r.slice(a);return i[0]!=="/"&&(i="/"+i),or(i,"")}return or(s,e)+o+r}function md(e,t,s,o){let r=[],l=[],a=null;const i=({state:u})=>{const d=Wl(e,location),$=s.value,p=t.value;let C=0;if(u){if(s.value=d,t.value=u,a&&a===$){a=null;return}C=p?u.position-p.position:0}else o(d);r.forEach(j=>{j(s.value,$,{delta:C,type:Gn.pop,direction:C?C>0?In.forward:In.back:In.unknown})})};function c(){a=s.value}function h(u){r.push(u);const d=()=>{const $=r.indexOf(u);$>-1&&r.splice($,1)};return l.push(d),d}function f(){if(document.visibilityState==="hidden"){const{history:u}=window;if(!u.state)return;u.replaceState(me({},u.state,{scroll:hn()}),"")}}function m(){for(const u of l)u();l=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:c,listen:h,destroy:m}}function cr(e,t,s,o=!1,r=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:r?hn():null}}function bd(e){const{history:t,location:s}=window,o={value:Wl(e,s)},r={value:t.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(c,h,f){const m=e.indexOf("#"),u=m>-1?(s.host&&document.querySelector("base")?e:e.slice(m))+c:hd()+e+c;try{t[f?"replaceState":"pushState"](h,"",u),r.value=h}catch(d){console.error(d),s[f?"replace":"assign"](u)}}function a(c,h){l(c,me({},t.state,cr(r.value.back,c,r.value.forward,!0),h,{position:r.value.position}),!0),o.value=c}function i(c,h){const f=me({},r.value,t.state,{forward:c,scroll:hn()});l(f.current,f,!0),l(c,me({},cr(o.value,c,null),{position:f.position+1},h),!1),o.value=c}return{location:o,state:r,push:i,replace:a}}function _d(e){e=ed(e);const t=bd(e),s=md(e,t.state,t.location,t.replace);function o(l,a=!0){a||s.pauseListeners(),history.go(l)}const r=me({location:"",base:e,go:o,createHref:sd.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function gd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),_d(e)}let Ht=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Pe=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Pe||{});const vd={type:Ht.Static,value:""},yd=/[a-zA-Z0-9_]/;function xd(e){if(!e)return[[]];if(e==="/")return[[vd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${s})/"${h}": ${d}`)}let s=Pe.Static,o=s;const r=[];let l;function a(){l&&r.push(l),l=[]}let i=0,c,h="",f="";function m(){h&&(s===Pe.Static?l.push({type:Ht.Static,value:h}):s===Pe.Param||s===Pe.ParamRegExp||s===Pe.ParamRegExpEnd?(l.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),l.push({type:Ht.Param,value:h,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function u(){h+=c}for(;i<e.length;){if(c=e[i++],c==="\\"&&s!==Pe.ParamRegExp){o=s,s=Pe.EscapeNext;continue}switch(s){case Pe.Static:c==="/"?(h&&m(),a()):c===":"?(m(),s=Pe.Param):u();break;case Pe.EscapeNext:u(),s=o;break;case Pe.Param:c==="("?s=Pe.ParamRegExp:yd.test(c)?u():(m(),s=Pe.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--);break;case Pe.ParamRegExp:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:s=Pe.ParamRegExpEnd:f+=c;break;case Pe.ParamRegExpEnd:m(),s=Pe.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--,f="";break;default:t("Unknown state");break}}return s===Pe.ParamRegExp&&t(`Unfinished custom RegExp for param "${h}"`),m(),a(),r}const dr="[^/]+?",wd={sensitive:!1,strict:!1,start:!0,end:!0};var He=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(He||{});const Cd=/[.+*?^${}()[\]/\\]/g;function $d(e,t){const s=me({},wd,t),o=[];let r=s.start?"^":"";const l=[];for(const h of e){const f=h.length?[]:[He.Root];s.strict&&!h.length&&(r+="/");for(let m=0;m<h.length;m++){const u=h[m];let d=He.Segment+(s.sensitive?He.BonusCaseSensitive:0);if(u.type===Ht.Static)m||(r+="/"),r+=u.value.replace(Cd,"\\$&"),d+=He.Static;else if(u.type===Ht.Param){const{value:$,repeatable:p,optional:C,regexp:j}=u;l.push({name:$,repeatable:p,optional:C});const M=j||dr;if(M!==dr){d+=He.BonusCustomRegExp;try{`${M}`}catch(x){throw new Error(`Invalid custom RegExp for param "${$}" (${M}): `+x.message)}}let A=p?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;m||(A=C&&h.length<2?`(?:/${A})`:"/"+A),C&&(A+="?"),r+=A,d+=He.Dynamic,C&&(d+=He.BonusOptional),p&&(d+=He.BonusRepeatable),M===".*"&&(d+=He.BonusWildcard)}f.push(d)}o.push(f)}if(s.strict&&s.end){const h=o.length-1;o[h][o[h].length-1]+=He.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function i(h){const f=h.match(a),m={};if(!f)return null;for(let u=1;u<f.length;u++){const d=f[u]||"",$=l[u-1];m[$.name]=d&&$.repeatable?d.split("/"):d}return m}function c(h){let f="",m=!1;for(const u of e){(!m||!f.endsWith("/"))&&(f+="/"),m=!1;for(const d of u)if(d.type===Ht.Static)f+=d.value;else if(d.type===Ht.Param){const{value:$,repeatable:p,optional:C}=d,j=$ in h?h[$]:"";if(ot(j)&&!p)throw new Error(`Provided param "${$}" is an array but it is not repeatable (* or + modifiers)`);const M=ot(j)?j.join("/"):j;if(!M)if(C)u.length<2&&(f.endsWith("/")?f=f.slice(0,-1):m=!0);else throw new Error(`Missing required param "${$}"`);f+=M}}return f||"/"}return{re:a,score:o,keys:l,parse:i,stringify:c}}function Ed(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===He.Static+He.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===He.Static+He.Segment?1:-1:0}function Kl(e,t){let s=0;const o=e.score,r=t.score;for(;s<o.length&&s<r.length;){const l=Ed(o[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-o.length)===1){if(ur(o))return 1;if(ur(r))return-1}return r.length-o.length}function ur(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sd={strict:!1,end:!0,sensitive:!1};function Rd(e,t,s){const o=$d(xd(e.path),s),r=me(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function kd(e,t){const s=[],o=new Map;t=nr(Sd,t);function r(m){return o.get(m)}function l(m,u,d){const $=!d,p=pr(m);p.aliasOf=d&&d.record;const C=nr(t,m),j=[p];if("alias"in m){const x=typeof m.alias=="string"?[m.alias]:m.alias;for(const R of x)j.push(pr(me({},p,{components:d?d.record.components:p.components,path:R,aliasOf:d?d.record:p})))}let M,A;for(const x of j){const{path:R}=x;if(u&&R[0]!=="/"){const G=u.record.path,E=G[G.length-1]==="/"?"":"/";x.path=u.record.path+(R&&E+R)}if(M=Rd(x,u,C),d?d.alias.push(M):(A=A||M,A!==M&&A.alias.push(M),$&&m.name&&!hr(M)&&a(m.name)),zl(M)&&c(M),p.children){const G=p.children;for(let E=0;E<G.length;E++)l(G[E],M,d&&d.children[E])}d=d||M}return A?()=>{a(A)}:ys}function a(m){if(ql(m)){const u=o.get(m);u&&(o.delete(m),s.splice(s.indexOf(u),1),u.children.forEach(a),u.alias.forEach(a))}else{const u=s.indexOf(m);u>-1&&(s.splice(u,1),m.record.name&&o.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function i(){return s}function c(m){const u=Od(m,s);s.splice(u,0,m),m.record.name&&!hr(m)&&o.set(m.record.name,m)}function h(m,u){let d,$={},p,C;if("name"in m&&m.name){if(d=o.get(m.name),!d)throw rs(Ae.MATCHER_NOT_FOUND,{location:m});C=d.record.name,$=me(fr(u.params,d.keys.filter(A=>!A.optional).concat(d.parent?d.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),m.params&&fr(m.params,d.keys.map(A=>A.name))),p=d.stringify($)}else if(m.path!=null)p=m.path,d=s.find(A=>A.re.test(p)),d&&($=d.parse(p),C=d.record.name);else{if(d=u.name?o.get(u.name):s.find(A=>A.re.test(u.path)),!d)throw rs(Ae.MATCHER_NOT_FOUND,{location:m,currentLocation:u});C=d.record.name,$=me({},u.params,m.params),p=d.stringify($)}const j=[];let M=d;for(;M;)j.unshift(M.record),M=M.parent;return{name:C,path:p,params:$,matched:j,meta:Id(j)}}e.forEach(m=>l(m));function f(){s.length=0,o.clear()}return{addRoute:l,resolve:h,removeRoute:a,clearRoutes:f,getRoutes:i,getRecordMatcher:r}}function fr(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function pr(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ad(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ad(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function hr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Id(e){return e.reduce((t,s)=>me(t,s.meta),{})}function Od(e,t){let s=0,o=t.length;for(;s!==o;){const l=s+o>>1;Kl(e,t[l])<0?o=l:s=l+1}const r=Pd(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Pd(e){let t=e;for(;t=t.parent;)if(zl(t)&&Kl(e,t)===0)return t}function zl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function mr(e){const t=et(mn),s=et(bo),o=Y(()=>{const c=ve(e.to);return t.resolve(c)}),r=Y(()=>{const{matched:c}=o.value,{length:h}=c,f=c[h-1],m=s.matched;if(!f||!m.length)return-1;const u=m.findIndex(os.bind(null,f));if(u>-1)return u;const d=br(c[h-2]);return h>1&&br(f)===d&&m[m.length-1].path!==d?m.findIndex(os.bind(null,c[h-2])):u}),l=Y(()=>r.value>-1&&Nd(s.params,o.value.params)),a=Y(()=>r.value>-1&&r.value===s.matched.length-1&&Hl(s.params,o.value.params));function i(c={}){if(jd(c)){const h=t[ve(e.replace)?"replace":"push"](ve(e.to)).catch(ys);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:o,href:Y(()=>o.value.href),isActive:l,isExactActive:a,navigate:i}}function Dd(e){return e.length===1?e[0]:e}const Td=tl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mr,setup(e,{slots:t}){const s=Ts(mr(e)),{options:o}=et(mn),r=Y(()=>({[_r(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[_r(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Dd(t.default(s));return e.custom?l:Al("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),_o=Td;function jd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Nd(e,t){for(const s in t){const o=t[s],r=e[s];if(typeof o=="string"){if(o!==r)return!1}else if(!ot(r)||r.length!==o.length||o.some((l,a)=>l!==r[a]))return!1}return!0}function br(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _r=(e,t,s)=>e??t??s,Md=tl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=et(Kn),r=Y(()=>e.route||o.value),l=et(ir,0),a=Y(()=>{let h=ve(l);const{matched:f}=r.value;let m;for(;(m=f[h])&&!m.components;)h++;return h}),i=Y(()=>r.value.matched[a.value]);Hs(ir,Y(()=>a.value+1)),Hs(fd,i),Hs(Kn,r);const c=fe();return Me(()=>[c.value,i.value,e.name],([h,f,m],[u,d,$])=>{f&&(f.instances[m]=h,d&&d!==f&&h&&h===u&&(f.leaveGuards.size||(f.leaveGuards=d.leaveGuards),f.updateGuards.size||(f.updateGuards=d.updateGuards))),h&&f&&(!d||!os(f,d)||!u)&&(f.enterCallbacks[m]||[]).forEach(p=>p(h))},{flush:"post"}),()=>{const h=r.value,f=e.name,m=i.value,u=m&&m.components[f];if(!u)return gr(s.default,{Component:u,route:h});const d=m.props[f],$=d?d===!0?h.params:typeof d=="function"?d(h):d:null,C=Al(u,me({},$,t,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(m.instances[f]=null)},ref:c}));return gr(s.default,{Component:C,route:h})||C}}});function gr(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Yl=Md;function Fd(e){const t=kd(e.routes,e),s=e.parseQuery||dd,o=e.stringifyQuery||ar,r=e.history,l=us(),a=us(),i=us(),c=Ma(kt);let h=kt;Jt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=kn.bind(null,D=>""+D),m=kn.bind(null,Kc),u=kn.bind(null,Is);function d(D,W){let H,z;return ql(D)?(H=t.getRecordMatcher(D),z=W):z=D,t.addRoute(z,H)}function $(D){const W=t.getRecordMatcher(D);W&&t.removeRoute(W)}function p(){return t.getRoutes().map(D=>D.record)}function C(D){return!!t.getRecordMatcher(D)}function j(D,W){if(W=me({},W||c.value),typeof D=="string"){const y=An(s,D,W.path),P=t.resolve({path:y.path},W),N=r.createHref(y.fullPath);return me(y,P,{params:u(P.params),hash:Is(y.hash),redirectedFrom:void 0,href:N})}let H;if(D.path!=null)H=me({},D,{path:An(s,D.path,W.path).path});else{const y=me({},D.params);for(const P in y)y[P]==null&&delete y[P];H=me({},D,{params:m(y)}),W.params=m(W.params)}const z=t.resolve(H,W),ie=D.hash||"";z.params=f(u(z.params));const b=Qc(o,me({},D,{hash:qc(ie),path:z.path})),g=r.createHref(b);return me({fullPath:b,hash:ie,query:o===ar?ud(D.query):D.query||{}},z,{redirectedFrom:void 0,href:g})}function M(D){return typeof D=="string"?An(s,D,c.value.path):me({},D)}function A(D,W){if(h!==D)return rs(Ae.NAVIGATION_CANCELLED,{from:W,to:D})}function x(D){return E(D)}function R(D){return x(me(M(D),{replace:!0}))}function G(D,W){const H=D.matched[D.matched.length-1];if(H&&H.redirect){const{redirect:z}=H;let ie=typeof z=="function"?z(D,W):z;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=M(ie):{path:ie},ie.params={}),me({query:D.query,hash:D.hash,params:ie.path!=null?{}:D.params},ie)}}function E(D,W){const H=h=j(D),z=c.value,ie=D.state,b=D.force,g=D.replace===!0,y=G(H,z);if(y)return E(me(M(y),{state:typeof y=="object"?me({},ie,y.state):ie,force:b,replace:g}),W||H);const P=H;P.redirectedFrom=W;let N;return!b&&Jc(o,z,H)&&(N=rs(Ae.NAVIGATION_DUPLICATED,{to:P,from:z}),v(z,z,!0,!1)),(N?Promise.resolve(N):re(P,z)).catch(O=>gt(O)?gt(O,Ae.NAVIGATION_GUARD_REDIRECT)?O:V(O):pe(O,P,z)).then(O=>{if(O){if(gt(O,Ae.NAVIGATION_GUARD_REDIRECT))return E(me({replace:g},M(O.to),{state:typeof O.to=="object"?me({},ie,O.to.state):ie,force:b}),W||P)}else O=Ce(P,z,!0,g,ie);return ke(P,z,O),O})}function I(D,W){const H=A(D,W);return H?Promise.reject(H):Promise.resolve()}function T(D){const W=Te.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(D):D()}function re(D,W){let H;const[z,ie,b]=pd(D,W);H=On(z.reverse(),"beforeRouteLeave",D,W);for(const y of z)y.leaveGuards.forEach(P=>{H.push(Pt(P,D,W))});const g=I.bind(null,D,W);return H.push(g),Xe(H).then(()=>{H=[];for(const y of l.list())H.push(Pt(y,D,W));return H.push(g),Xe(H)}).then(()=>{H=On(ie,"beforeRouteUpdate",D,W);for(const y of ie)y.updateGuards.forEach(P=>{H.push(Pt(P,D,W))});return H.push(g),Xe(H)}).then(()=>{H=[];for(const y of b)if(y.beforeEnter)if(ot(y.beforeEnter))for(const P of y.beforeEnter)H.push(Pt(P,D,W));else H.push(Pt(y.beforeEnter,D,W));return H.push(g),Xe(H)}).then(()=>(D.matched.forEach(y=>y.enterCallbacks={}),H=On(b,"beforeRouteEnter",D,W,T),H.push(g),Xe(H))).then(()=>{H=[];for(const y of a.list())H.push(Pt(y,D,W));return H.push(g),Xe(H)}).catch(y=>gt(y,Ae.NAVIGATION_CANCELLED)?y:Promise.reject(y))}function ke(D,W,H){i.list().forEach(z=>T(()=>z(D,W,H)))}function Ce(D,W,H,z,ie){const b=A(D,W);if(b)return b;const g=W===kt,y=Jt?history.state:{};H&&(z||g?r.replace(D.fullPath,me({scroll:g&&y&&y.scroll},ie)):r.push(D.fullPath,ie)),c.value=D,v(D,W,H,g),V()}let ye;function mt(){ye||(ye=r.listen((D,W,H)=>{if(!bt.listening)return;const z=j(D),ie=G(z,bt.currentRoute.value);if(ie){E(me(ie,{replace:!0,force:!0}),z).catch(ys);return}h=z;const b=c.value;Jt&&rd(lr(b.fullPath,H.delta),hn()),re(z,b).catch(g=>gt(g,Ae.NAVIGATION_ABORTED|Ae.NAVIGATION_CANCELLED)?g:gt(g,Ae.NAVIGATION_GUARD_REDIRECT)?(E(me(M(g.to),{force:!0}),z).then(y=>{gt(y,Ae.NAVIGATION_ABORTED|Ae.NAVIGATION_DUPLICATED)&&!H.delta&&H.type===Gn.pop&&r.go(-1,!1)}).catch(ys),Promise.reject()):(H.delta&&r.go(-H.delta,!1),pe(g,z,b))).then(g=>{g=g||Ce(z,b,!1),g&&(H.delta&&!gt(g,Ae.NAVIGATION_CANCELLED)?r.go(-H.delta,!1):H.type===Gn.pop&&gt(g,Ae.NAVIGATION_ABORTED|Ae.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),ke(z,b,g)}).catch(ys)}))}let ze=us(),ae=us(),te;function pe(D,W,H){V(D);const z=ae.list();return z.length?z.forEach(ie=>ie(D,W,H)):console.error(D),Promise.reject(D)}function tt(){return te&&c.value!==kt?Promise.resolve():new Promise((D,W)=>{ze.add([D,W])})}function V(D){return te||(te=!D,mt(),ze.list().forEach(([W,H])=>D?H(D):W()),ze.reset()),D}function v(D,W,H,z){const{scrollBehavior:ie}=e;if(!Jt||!ie)return Promise.resolve();const b=!H&&ld(lr(D.fullPath,0))||(z||!H)&&history.state&&history.state.scroll||null;return an().then(()=>ie(D,W,b)).then(g=>g&&od(g)).catch(g=>pe(g,D,W))}const k=D=>r.go(D);let ge;const Te=new Set,bt={currentRoute:c,listening:!0,addRoute:d,removeRoute:$,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:p,resolve:j,options:e,push:x,replace:R,go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:l.add,beforeResolve:a.add,afterEach:i.add,onError:ae.add,isReady:tt,install(D){D.component("RouterLink",_o),D.component("RouterView",Yl),D.config.globalProperties.$router=bt,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>ve(c)}),Jt&&!ge&&c.value===kt&&(ge=!0,x(r.location).catch(z=>{}));const W={};for(const z in kt)Object.defineProperty(W,z,{get:()=>c.value[z],enumerable:!0});D.provide(mn,bt),D.provide(bo,Kr(W)),D.provide(Kn,c);const H=D.unmount;Te.add(D),D.unmount=function(){Te.delete(D),Te.size<1&&(h=kt,ye&&ye(),ye=null,c.value=kt,ge=!1,te=!1),H()}}};function Xe(D){return D.reduce((W,H)=>W.then(()=>T(H)),Promise.resolve())}return bt}function Ms(){return et(mn)}function Ql(e){return et(bo)}const Vd={__name:"App",setup(e){return(t,s)=>(w(),pt(ve(Yl)))}},Ls=window.djangoConfig?.projectId??4,je=window.djangoConfig?.baseUrl??"http://localhost:8000",vr=window.djangoConfig?.csrfToken??"falsocsrf",ue={apiBaseUrl:je,csrfToken:vr,idProject:Ls,urlLogo:je+"/static/img/logo.png",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":vr},URLProjectData:je+"/api/projects/all-info/"+Ls+"/",URLSourcesAvailable:je+"/api/projects/resources/available/",URLTechnicalsAvailable:je+"/api/technicals/avaliables/",URLVehiclesAvailable:je+"/api/vehicles/avaliables/",URLResourcesProject:je+"/api/projects/"+Ls+"/resources/",URLUpdateResourceItem:je+"/api/projects/resources/update/",URLDeleteResourceProject:je+"/api/projects/resources/delete/${id_project_resource}/",URLSheetProjects:je+"/api/workorders/sheets/project/"+Ls+"/",URLAddSheetProject:je+"/api/workorders/sheets/create/",URLUpdateSheetProject:je+"/api/workorders/sheets/update/",URLAddResourceToProject:je+"/api/projects/resources/add/",URLCreateCustodyChain:je+"/api/workorders/custody_chain/create/",URLCustodyChainDetail:je+"/api/workorders/custody_chain/detail/${id}/",URLUpdateCustodyChain:je+"/api/workorders/custody_chain/${id}/edit/"},as=Kt("projectResourcesStore",{state:()=>({resources:[],selectedResource:null,resourcesProject:[],newResourceProject:{id:null,project:null,resource:Object,type:null,detailed_description:null,cost:0,frecuency_type:"DAY",interval_days:2,week_days:null,month_days:null,operation_start_date:null,operation_end_date:null,is_retired:!1,retirement_date:null,retirement_reason:null,is_active:!0,is_selected:!1,is_confirm_delete:!1}}),actions:{async fetchResourcesProject(){console.log("Fetching project resources");try{const e=await fetch(ue.URLResourcesProject,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch project resources");const t=await e.json();this.resourcesProject=t.data}catch(e){console.error("Error fetching project resources:",e),this.resourcesProject=[]}},async addResourcesToProject(e){try{const t=e.map(r=>{const l={project_id:ue.idProject,resource_id:r.resource_id,detailed_description:r.detailed_description,cost:r.cost||0,maintenance_cost:r.maintenance_cost||0,operation_start_date:r.operation_start_date,include_maintenance:r.include_maintenance,frequency_type:r.include_maintenance?r.frequency_type||"DAY":null};if(r.include_maintenance)switch(r.frequency_type){case"DAY":l.interval_days=r.interval_days||1;break;case"WEEK":l.weekdays=r.weekdays||[];break;case"MONTH":l.monthdays=r.monthdays||[];break}return l}),s=await fetch(ue.URLAddResourceToProject,{method:"POST",headers:ue.headers,body:JSON.stringify(t)}),o=await s.json();if(!s.ok)throw new Error(o.error||`Error al agregar recursos. Se agregaron ${o.added||0} de ${t.length}`);return o}catch(t){throw console.error("Error adding resources to project:",t),t}},async updateResourceProject(e){try{const t=await fetch(ue.URLUpdateResourceItem,{method:"PUT",headers:ue.headers,body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.error||"Failed to update project resource");const o=this.resourcesProject.findIndex(r=>r.id===e.id);return o!==-1&&(this.resourcesProject[o]={...this.resourcesProject[o],...s.data}),s.data}catch(t){throw console.error("Error updating project resource:",t),t}},async deleteResourceProject(e){try{const t=ue.URLDeleteResourceProject.replace("${id_project_resource}",e),s=await fetch(t,{method:"DELETE",headers:ue.headers});if(!s.ok){const o=await s.json();throw new Error(o.error||"Failed to delete project resource")}this.resourcesProject=this.resourcesProject.filter(o=>o.id!==e)}catch(t){throw console.error("Error deleting project resource:",t),t}}}}),Ud=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(0):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},yr=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},zn=e=>{if(!e)return"--";const[t,s,o]=e.split("-"),r=new Date(t,s-1,o);return new Intl.DateTimeFormat("es-GT",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r)},Ld={class:"space-y-3"},Bd={class:"flex justify-between items-center mb-4"},Hd={class:"overflow-x-auto"},qd={class:"table table-zebra w-full"},Gd={key:0},Wd={class:"p-2 border border-gray-300"},Kd={class:"p-2 border border-gray-300"},zd={class:"flex items-center gap-2"},Yd={key:0,class:"las la-tools text-orange-500 text-xl",title:"Incluye Mantenimiento"},Qd={key:1,class:"text-red-500 border rounded p-1 bg-red-100 text-xs mr-1"},Jd={class:"p-2 border border-gray-300"},Xd={class:"p-2 border border-gray-300 text-right font-mono"},Zd={class:"p-2 border border-gray-300 text-right font-mono"},eu={class:"p-2 border border-gray-300 text-end font-mono"},tu={class:"p-2 border border-gray-300 text-end"},su={class:"flex gap-2 justify-end"},nu=["onClick"],ou=["title","disabled","onClick"],ru={class:"stats shadow w-full"},lu={class:"stat"},au={class:"stat-value text-primary"},iu={class:"stat text-end"},cu={class:"stat-value text-info text-end"},du={__name:"TabResources",emits:["edit-resource"],setup(e,{emit:t}){const s=t,o=as(),r=Y(()=>{const h=o.resourcesProject,f=h.filter(p=>p.type_resource==="EQUIPO"),m=h.filter(p=>p.type_resource==="SERVICIO"),u=new Set,d=f.map(p=>{const C=m.find(j=>j.detailed_description===`MANTENIMIENTO ${p.resource_item_name}`);return C&&u.add(C.id),{...p,has_maintenance:!!C,maintenance_cost:C?C.cost:0,related_service_id:C?C.id:null}}),$=m.filter(p=>!u.has(p.id)).map(p=>({...p,has_maintenance:!1,maintenance_cost:0,related_service_id:null}));return[...d,...$]}),l=fe(null),a=h=>parseFloat(h)===0,i=h=>{s("edit-resource",h)},c=async h=>{if(l.value===h.id)try{if(await o.deleteResourceProject(h.id),h.related_service_id)try{await o.deleteResourceProject(h.related_service_id)}catch(f){console.warn("No se pudo eliminar el servicio asociado",f)}l.value=null}catch(f){console.error("Error al eliminar recurso:",f),alert("Error al eliminar el recurso")}else l.value=h.id};return(h,f)=>(w(),S("div",Ld,[n("div",Bd,[f[1]||(f[1]=n("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[n("i",{class:"las la-tools text-blue-600"}),K(" Equipos Asignados ")],-1)),Re(ve(_o),{class:"btn btn-primary btn-sm",to:{name:"resource-form"}},{default:Vt(()=>[...f[0]||(f[0]=[n("i",{class:"las la-plus"},null,-1),K(" Asignar Recursos ",-1)])]),_:1})]),n("div",Hd,[n("table",qd,[f[5]||(f[5]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white"},[n("th",{class:"p-2 border border-gray-100 text-center"},"#"),n("th",{class:"p-2 border border-gray-100 text-center"},"Cdigo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Nombre/Descripcin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Alquiler"),n("th",{class:"p-2 border border-gray-100 text-center"},"Mantenimiento"),n("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Inicio"),n("th",{class:"p-2 border border-gray-100 text-center text-center"},"Acciones")])],-1)),n("tbody",null,[r.value.length===0?(w(),S("tr",Gd,[...f[2]||(f[2]=[n("td",{colspan:"7",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay equipos asignados a este proyecto")],-1)])])):(w(!0),S(oe,{key:1},Se(r.value,m=>(w(),S("tr",{key:m.id,class:le({"text-red-500 font-bold bg-red-100":a(m.cost)})},[n("td",Wd,_(m.id),1),n("td",Kd,[n("div",zd,[m.has_maintenance?(w(),S("i",Yd)):J("",!0),m.is_retired?(w(),S("span",Qd,"RETIRADO")):J("",!0),K(" "+_(m.resource_item_code),1)])]),n("td",Jd,_(m.detailed_description),1),n("td",Xd,_(ve(yr)(m.cost)),1),n("td",Zd,_(ve(yr)(m.maintenance_cost)),1),n("td",eu,_(ve(zn)(m.operation_start_date)),1),n("td",tu,[n("div",su,[n("button",{class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar",onClick:u=>i(m)},[...f[3]||(f[3]=[n("i",{class:"las la-edit"},null,-1),K(" EDITAR ",-1)])],8,nu),n("button",{class:le(["btn btn-xs border-red-500 text-red-500 bg-white",{"opacity-50 cursor-not-allowed":!m.is_deleteable,"bg-red-500 text-black":l.value===m.id}]),title:l.value===m.id?"Haz clic nuevamente para confirmar":"Eliminar",disabled:!m.is_deleteable,onClick:u=>c(m)},[f[4]||(f[4]=n("i",{class:"las la-trash"},null,-1)),K(" "+_(l.value===m.id?"CONFIRMAR":"ELIMINAR"),1)],10,ou)])])],2))),128))])])]),n("div",ru,[n("div",lu,[f[6]||(f[6]=n("div",{class:"stat-title"},"Total Recursos",-1)),n("div",au,_(r.value.length),1),f[7]||(f[7]=n("div",{class:"stat-desc"},"Equipos y Servicios asignados",-1))]),n("div",iu,[f[8]||(f[8]=n("div",{class:"stat-title"},"Costo Total (Alq + Mant)",-1)),n("div",cu,_(ve(Ud)(r.value.reduce((m,u)=>m+parseFloat(u.cost)+parseFloat(u.maintenance_cost),0))),1),f[9]||(f[9]=n("div",{class:"stat-desc"},"Suma de alquiler y mantenimiento",-1))])])]))}},Fe=Kt("projectStore",{state:()=>({project:{id:null,partner_id:null,partner_name:null,location:null,cardinal_point:null,contact_name:null,contact_phone:null,start_date:null,end_date:null,is_closed:!1},workOrders:[],workOrdersCount:0,totalCustodyChains:0,loading:!1,error:null}),getters:{allCustodyChains:e=>e.workOrders.flatMap(t=>t.custody_chains||[]),getWorkOrderById:e=>t=>e.workOrders.find(s=>s.id===t),getCustodyChainById:e=>t=>{for(const s of e.workOrders){const o=s.custody_chains?.find(r=>r.id===t);if(o)return o}return null},projectStats:e=>({totalWorkOrders:e.workOrdersCount,totalCustodyChains:e.totalCustodyChains,inProgressWorkOrders:e.workOrders.filter(t=>t.status==="IN_PROGRESS").length,invoicedWorkOrders:e.workOrders.filter(t=>t.status==="INVOICED").length})},actions:{async fetchProjectData(){this.loading=!0,this.error=null,console.log(`Fetching all info for project ${ue.idProject}...`);try{const e=await fetch(ue.URLProjectData,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error(`Failed to fetch project info: ${e.status}`);const t=await e.json();if(t.success&&t.data)this.project=t.data.project,this.workOrders=t.data.work_orders||[],this.workOrdersCount=t.data.work_orders_count||0,this.totalCustodyChains=t.data.total_custody_chains||0,console.log(`Project ${this.project.id} loaded successfully with ${this.workOrdersCount} work orders`);else throw new Error(t.error||"Invalid response format")}catch(e){console.error("Error fetching project data:",e),this.error=e.message,this.resetProjectData()}finally{this.loading=!1}},async fetchProjectAllInfo(e){this.loading=!0,this.error=null,console.log(`Fetching all info for project ${e}...`);try{const t=`${ue.apiBaseUrl}/api/projects/all-info/${e}/`,s=await fetch(t,{method:"GET",headers:ue.headers});if(!s.ok)throw new Error(`Failed to fetch project info: ${s.status}`);const o=await s.json();if(o.success&&o.data)this.project=o.data.project,this.workOrders=o.data.work_orders||[],this.workOrdersCount=o.data.work_orders_count||0,this.totalCustodyChains=o.data.total_custody_chains||0,console.log(`Project ${e} loaded successfully with ${this.workOrdersCount} work orders`);else throw new Error(o.error||"Invalid response format")}catch(t){console.error("Error fetching project all info:",t),this.error=t.message,this.resetProjectData()}finally{this.loading=!1}},resetProjectData(){this.project={id:null,partner_id:null,partner_name:null,location:null,cardinal_point:null,contact_name:null,contact_phone:null,start_date:null,end_date:null,is_closed:!1},this.workOrders=[],this.workOrdersCount=0,this.totalCustodyChains=0},updateWorkOrder(e,t){const s=this.workOrders.findIndex(o=>o.id===e);s!==-1&&(this.workOrders[s]={...this.workOrders[s],...t})},updateCustodyChain(e,t){for(const s of this.workOrders){const o=s.custody_chains?.findIndex(r=>r.id===e);if(o!==-1&&o!==void 0){s.custody_chains[o]={...s.custody_chains[o],...t};break}}},async refreshCurrentProject(){await this.fetchProjectData()}}}),bn=Kt("sheetProjectsStore",{state:()=>({newSheetProject:{id:null,project:null,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:null,contact_phone_reference:null},loading:!1,error:null}),getters:{sheetProjects:()=>Fe().workOrders||[],getSheetProjectById:()=>e=>Fe().getWorkOrderById(e),hasInProgressSheet:()=>Fe().workOrders.some(t=>t.status==="IN_PROGRESS"),lastActiveSheetProjectID:()=>Fe().workOrders.find(s=>s.status==="IN_PROGRESS")?.id||null,getCustodyChainsForSheet:()=>e=>Fe().getWorkOrderById(e)?.custody_chains||[]},actions:{async addSheetProject(e){this.loading=!0,this.error=null,console.log("Adding new sheet project",e);try{const t={project_id:e.project,period_start:e.period_start,service_type:e.service_type};e.contact_reference&&(t.contact_reference=e.contact_reference),e.contact_phone_reference&&(t.contact_phone_reference=e.contact_phone_reference);const s=await fetch(ue.URLAddSheetProject,{method:"POST",headers:ue.headers,body:JSON.stringify(t)}),o=await s.json();if(!s.ok)throw new Error(o.error||`HTTP error! status: ${s.status}`);return await Fe().refreshCurrentProject(),o.data.id}catch(t){throw console.error("Error adding sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},async updateSheetProject(e){this.loading=!0,this.error=null,console.log("Updating sheet project:",e);try{const t=await fetch(ue.URLUpdateSheetProject,{method:"PUT",headers:ue.headers,body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.error||`HTTP error! status: ${t.status}`);return await Fe().refreshCurrentProject(),s.data}catch(t){throw console.error("Error updating sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},async closeSheetProject(e){this.loading=!0,this.error=null,console.log("Closing sheet project with ID:",e);try{const s=Fe().getWorkOrderById(e);if(!s)throw new Error("Planilla no encontrada");return await this.updateSheetProject({...s,status:"INVOICED",period_end:new Date().toISOString().split("T")[0]}),!0}catch(t){throw console.error("Error closing sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},initializeNewSheetProject(e){this.newSheetProject={id:null,project:e.id,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:e.contact_name,contact_phone_reference:e.contact_phone}},resetNewSheetProject(){this.newSheetProject={id:null,project:null,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:null,contact_phone_reference:null}}}}),uu={class:"space-y-3"},fu={class:"flex justify-between items-center mb-4"},pu={key:1,class:"text-amber-700 badge bg-yellow-100"},hu={class:"overflow-x-auto"},mu={class:"table table-zebra w-full"},bu={key:0},_u={class:"p-2 border border-gray-300"},gu={class:"p-2 border border-gray-300 font-mono"},vu={class:"p-2 border border-gray-300"},yu={class:"p-2 border border-gray-300 text-end"},xu={class:"p-2 border border-gray-300 text-end"},wu={class:"p-2 border border-gray-300 text-end"},Cu={class:"p-2 border border-gray-300"},$u={class:"p-2 border border-gray-300"},Eu={class:"p-2 border border-gray-300"},Su={class:"p-2 border border-gray-300 text-right font-mono"},Ru={class:"p-2 border border-gray-300 text-right font-mono"},ku={class:"p-2 border border-gray-300 text-right font-mono"},Au={class:"p-2 border border-gray-300 text-end"},Iu={class:"flex gap-2 justify-end"},Ou=["onClick"],Pu=["onClick"],Du=["onClick","title"],Tu={__name:"TabSheetProject",emits:["open-sheet-form","edit-sheet"],setup(e,{emit:t}){const s=Ms(),o=Fe(),r=bn(),l=Y(()=>o.workOrders||[]),a=Y(()=>l.value.some(j=>j.status==="IN_PROGRESS")),i=Y(()=>l.value.map(j=>{const M=j.custody_chains||[],A=M.reduce((G,E)=>G+(E.total_gallons||0),0),x=M.reduce((G,E)=>G+(E.total_barrels||0),0),R=M.reduce((G,E)=>G+(E.total_cubic_meters||0),0);return{...j,calculated_total_gallons:A,calculated_total_barrels:x,calculated_total_cubic_meters:R,custody_chains_count:M.length}})),c=j=>j?new Intl.DateTimeFormat("es-GT").format(new Date(j)):"N/A",h=j=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"bg-green-500 text-white"},INVOICED:{text:"FACTURADO",class:"bg-cyan-500 text-white"},CANCELLED:{text:"CANCELADO",class:"bg-orange-500 text-white"}})[j]||{text:j,class:"bg-gray-500 text-white"},f=t,m=()=>{f("open-sheet-form")},u=j=>{f("edit-sheet",j)},d=fe(null),$=j=>{d.value===j?(p(j),d.value=null):(d.value=j,setTimeout(()=>{d.value===j&&(d.value=null)},3e3))},p=async j=>{try{console.log("Cerrando planilla:",j),await r.closeSheetProject(j),d.value=null,await o.fetchProjectData()}catch(M){console.error("Error al cerrar planilla:",M)}},C=j=>{s.push({name:"sheet-project-view",params:{id:j}})};return(j,M)=>(w(),S("div",uu,[n("div",fu,[M[2]||(M[2]=n("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[n("i",{class:"las la-file-invoice-dollar text-blue-600"}),K(" Planillas del Proyecto ")],-1)),a.value?(w(),S("div",pu,[...M[1]||(M[1]=[n("i",{class:"las la-exclamation-triangle"},null,-1),K(" PLANILLA EN EJECUCIN ",-1)])])):(w(),S("button",{key:0,onClick:m,class:"btn btn-primary btn-sm"},[...M[0]||(M[0]=[n("i",{class:"las la-plus"},null,-1),K(" Crear Nueva Planilla ",-1)])]))]),n("div",hu,[n("table",mu,[M[7]||(M[7]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white"},[n("th",{class:"p-2 border border-gray-100 text-center"},"#"),n("th",{class:"p-2 border border-gray-100 text-center"},"Serie"),n("th",{class:"p-2 border border-gray-100 text-center"},"Estado"),n("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Emisin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Inicio"),n("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Fin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Contacto Ref."),n("th",{class:"p-2 border border-gray-100 text-center"},"Telfono"),n("th",{class:"p-2 border border-gray-100 text-center"},"Tipo Servicio"),n("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),n("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),n("th",{class:"p-2 border border-gray-100 text-center"},"M"),n("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),n("tbody",null,[i.value.length===0?(w(),S("tr",bu,[...M[3]||(M[3]=[n("td",{colspan:"13",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay planillas registradas para este proyecto")],-1)])])):(w(!0),S(oe,{key:1},Se(i.value,A=>(w(),S("tr",{key:A.id},[n("td",_u,_(A.id),1),n("td",gu,_(A.series_code),1),n("td",vu,[n("span",{class:le(["badge px-3 py-1 rounded text-xs font-medium",h(A.status).class])},_(h(A.status).text),3)]),n("td",yu,_(c(A.issue_date)),1),n("td",xu,_(c(A.period_start)),1),n("td",wu,_(A.period_end?c(A.period_end):"--"),1),n("td",Cu,_(A.contact_reference||"N/A"),1),n("td",$u,_(A.contact_phone_reference||"N/A"),1),n("td",Eu,_(A.service_type),1),n("td",Su,_(A.calculated_total_gallons.toLocaleString()),1),n("td",Ru,_(A.calculated_total_barrels.toLocaleString()),1),n("td",ku,_(A.calculated_total_cubic_meters.toFixed(2)),1),n("td",Au,[n("div",Iu,[n("button",{onClick:x=>u(A),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar planilla"},[...M[4]||(M[4]=[n("i",{class:"las la-edit"},null,-1),K(" EDITAR ",-1)])],8,Ou),n("button",{onClick:x=>C(A.id),class:"btn btn-xs border-purple-500 text-purple-500 bg-white",title:"Ver cadenas de custodia"},[M[5]||(M[5]=n("i",{class:"las la-link"},null,-1)),K(" C. CUSTODIA ("+_(A.custody_chains_count)+") ",1)],8,Pu),n("button",{onClick:x=>$(A.id),class:le(["btn btn-xs bg-white",d.value===A.id?"border-orange-500 text-orange-500":"border-red-500 text-red-500"]),title:d.value===A.id?"Haz clic nuevamente para confirmar":"Cerrar planilla"},[M[6]||(M[6]=n("i",{class:"las la-times"},null,-1)),K(" "+_(d.value===A.id?"CONFIRMAR":"CERRAR"),1)],10,Du)])])]))),128))])])])]))}};function ju(e,t,s){const o=[],{frequency_type:r,interval_days:l,weekdays:a,monthdays:i}=e;if(r==="DAY"){const c=l===0?1:l;let h=new Date(t);for(;h<=s;)o.push(new Date(h)),h.setDate(h.getDate()+c)}else if(r==="WEEK"){if(!a||a.length===0)return console.warn("Recurso WEEK sin weekdays definidos:",e),o;let c=new Date(t);for(;c<=s;){const h=(c.getDay()+6)%7;a.includes(h)&&o.push(new Date(c)),c.setDate(c.getDate()+1)}}else if(r==="MONTH"){if(!i||i.length===0)return console.warn("Recurso MONTH sin monthdays definidos:",e),o;let c=new Date(t);for(;c<=s;){const h=c.getDate();i.includes(h)&&o.push(new Date(c)),c.setDate(c.getDate()+1)}}return o}function Nu(e,t=90,s=null){const o=s?new Date(s):new Date;o.setHours(0,0,0,0);const r=new Date(o);r.setDate(o.getDate()+t);const l=[];return e.forEach(a=>{if(!a.is_active)return;if(!a.operation_start_date){console.warn("Recurso sin fecha de inicio de operacin:",a);return}const[i,c,h]=a.operation_start_date.split("-").map(Number),f=new Date(i,c-1,h),m=f>o?f:o;ju(a,m,r).forEach(d=>{l.push({resource_id:a.id,resource_item_id:a.resource_item_id,resource_code:a.resource_item_code,resource_name:a.resource_item_name,description:a.detailed_description,cost:parseFloat(a.cost),frequency_type:a.frequency_type,interval_days:a.interval_days,weekdays:a.weekdays,monthdays:a.monthdays,operation_start_date:a.operation_start_date,scheduled_date:d.toISOString().split("T")[0],day_of_week:d.toLocaleDateString("es-GT",{weekday:"long"}),week_number:Mu(d),days_until:Math.ceil((d-o)/(1e3*60*60*24))})})}),l.sort((a,i)=>new Date(a.scheduled_date)-new Date(i.scheduled_date))}function Mu(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);const o=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-o)/864e5+1)/7)}function Fu(e){return e.reduce((t,s)=>{const o=`Semana ${s.week_number}`;return t[o]||(t[o]=[]),t[o].push(s),t},{})}function Jl(e){return e.reduce((t,s)=>{const r=new Date(s.scheduled_date).toLocaleDateString("es-GT",{year:"numeric",month:"long"});return t[r]||(t[r]=[]),t[r].push(s),t},{})}function Vu(e){return{total_maintenances:e.length,total_cost:e.reduce((t,s)=>t+s.cost,0),resources_count:new Set(e.map(t=>t.resource_id)).size,by_week:Fu(e),by_month:Jl(e)}}const Uu={class:"space-y-4"},Lu={class:"bg-gradient-to-r from-lime-500 to-lime-600 rounded-lg p-4 shadow-lg"},Bu={class:"flex items-center justify-between"},Hu={class:"text-center flex-1"},qu={class:"text-white font-bold text-lg capitalize"},Gu={class:"text-lime-100 text-sm"},Wu={class:"grid grid-cols-3 gap-4 mt-4"},Ku={class:"bg-white bg-opacity-20 rounded-lg p-3 text-center"},zu={class:"text-white font-bold text-2xl"},Yu={class:"bg-white bg-opacity-20 rounded-lg p-3 text-center"},Qu={class:"text-white font-bold text-2xl"},Ju={class:"bg-white bg-opacity-20 rounded-lg p-3 text-center"},Xu={class:"text-white font-bold text-lg"},Zu={key:0,class:"alert alert-warning"},ef={key:1,class:"alert alert-info"},tf={class:"text-lg font-semibold text-gray-700 capitalize border-b-2 border-lime-500 pb-2"},sf={class:"badge badge-lime ml-2"},nf={class:"overflow-x-auto"},of={class:"table table-zebra table-sm"},rf={class:"text-xs font-semibold"},lf={class:"text-xs"},af={class:"capitalize"},cf={class:"text-xs"},df={class:"badge badge-outline badge-sm"},uf={class:"text-xs font-medium"},ff={class:"text-xs text-gray-600"},pf={class:"text-xs"},hf={class:"text-xs text-right font-semibold"},mf={class:"bg-lime-50 font-semibold"},bf={colspan:"6",class:"text-right text-xs"},_f={class:"text-right text-xs"},gf={__name:"TabCalendar",setup(e){const t=as(),s=Y(()=>t.resources||[]),o=fe(0),r=Y(()=>{const p=new Date;p.setHours(0,0,0,0);const C=new Date(p.getFullYear(),p.getMonth()+o.value,1),j=new Date(C);return j.setDate(C.getDate()+89),{startDate:C,endDate:j}}),l=Y(()=>{if(!s.value||s.value.length===0)return[];const{startDate:p,endDate:C}=r.value,j=Math.ceil((C-p)/(1e3*60*60*24))+1;return Nu(s.value,j+Math.abs(o.value)*30,p).filter(A=>{const x=new Date(A.scheduled_date);return x>=p&&x<=C})}),a=Y(()=>Jl(l.value)),i=Y(()=>Vu(l.value)),c=Y(()=>{const{startDate:p,endDate:C}=r.value;return{start:p.toLocaleDateString("es-GT",{day:"2-digit",month:"long",year:"numeric"}),end:C.toLocaleDateString("es-GT",{day:"2-digit",month:"long",year:"numeric"}),monthYear:p.toLocaleDateString("es-GT",{month:"long",year:"numeric"})}}),h=()=>{o.value-=1},f=()=>{o.value+=1},m=()=>{o.value=0},u=p=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(p),d=p=>new Date(p).toLocaleDateString("es-GT",{weekday:"short",day:"2-digit",month:"short"}),$=p=>({DAY:"badge-primary",WEEK:"badge-secondary",MONTH:"badge-accent"})[p]||"badge-ghost";return ht(async()=>{(!s.value||s.value.length===0)&&await t.fetchResourcesProject()}),(p,C)=>(w(),S("div",Uu,[n("div",Lu,[n("div",Bu,[n("button",{onClick:h,class:"btn btn-circle btn-sm bg-white text-lime-600 hover:bg-lime-50 border-none"},[...C[0]||(C[0]=[n("i",{class:"las la-chevron-left text-xl"},null,-1)])]),n("div",Hu,[n("h2",qu,_(c.value.monthYear),1),n("p",Gu," Del "+_(c.value.start)+" al "+_(c.value.end),1),o.value!==0?(w(),S("button",{key:0,onClick:m,class:"btn btn-xs bg-white text-lime-600 hover:bg-lime-50 border-none mt-2"},[...C[1]||(C[1]=[n("i",{class:"las la-calendar-day"},null,-1),K(" Perodo Actual ",-1)])])):J("",!0)]),n("button",{onClick:f,class:"btn btn-circle btn-sm bg-white text-lime-600 hover:bg-lime-50 border-none"},[...C[2]||(C[2]=[n("i",{class:"las la-chevron-right text-xl"},null,-1)])])]),n("div",Wu,[n("div",Ku,[C[3]||(C[3]=n("p",{class:"text-lime-100 text-xs"},"Mantenimientos",-1)),n("p",zu,_(i.value.total_maintenances),1)]),n("div",Yu,[C[4]||(C[4]=n("p",{class:"text-lime-100 text-xs"},"Recursos",-1)),n("p",Qu,_(i.value.resources_count),1)]),n("div",Ju,[C[5]||(C[5]=n("p",{class:"text-lime-100 text-xs"},"Costo Total",-1)),n("p",Xu,_(u(i.value.total_cost)),1)])])]),!s.value||s.value.length===0?(w(),S("div",Zu,[...C[6]||(C[6]=[n("i",{class:"las la-spinner la-spin text-2xl"},null,-1),n("span",null,"Cargando recursos del proyecto...",-1)])])):l.value.length===0?(w(),S("div",ef,[...C[7]||(C[7]=[n("i",{class:"las la-info-circle text-2xl"},null,-1),n("span",null,"No hay mantenimientos programados para este perodo.",-1)])])):(w(!0),S(oe,{key:2},Se(a.value,(j,M)=>(w(),S("div",{key:M,class:"space-y-3"},[n("h3",tf,[C[8]||(C[8]=n("i",{class:"las la-calendar text-lime-600"},null,-1)),K(" "+_(M)+" ",1),n("span",sf,_(j.length)+" mantenimientos",1)]),n("div",nf,[n("table",of,[C[9]||(C[9]=n("thead",null,[n("tr",{class:"bg-lime-100"},[n("th",{class:"text-xs"},"Fecha"),n("th",{class:"text-xs"},"Da"),n("th",{class:"text-xs"},"Cdigo"),n("th",{class:"text-xs"},"Recurso"),n("th",{class:"text-xs"},"Descripcin"),n("th",{class:"text-xs"},"Frecuencia"),n("th",{class:"text-xs text-right"},"Costo")])],-1)),n("tbody",null,[(w(!0),S(oe,null,Se(j,A=>(w(),S("tr",{key:`${A.resource_id}-${A.scheduled_date}`},[n("td",rf,_(d(A.scheduled_date)),1),n("td",lf,[n("span",af,_(A.day_of_week),1)]),n("td",cf,[n("span",df,_(A.resource_code),1)]),n("td",uf,_(A.resource_name),1),n("td",ff,_(A.description),1),n("td",pf,[n("span",{class:le(["badge badge-sm",$(A.frequency_type)])},_(A.frequency_type),3)]),n("td",hf,_(u(A.cost)),1)]))),128))]),n("tfoot",null,[n("tr",mf,[n("td",bf,"Subtotal "+_(M)+":",1),n("td",_f,_(u(j.reduce((A,x)=>A+x.cost,0))),1)])])])])]))),128))]))}},vf={key:0,class:"flex justify-between items-center mb-4 pb-3 border-b-2 border-blue-300"},yf={class:"text-lg font-semibold text-gray-700"},xf={class:"modal-content"},Os={__name:"Modal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"lg",validator:e=>["sm","md","lg","xl","2xl"].includes(e)}},emits:["close"],setup(e,{emit:t}){const s=t,o=()=>{s("close")},r={sm:"modal-box w-11/12 max-w-md",md:"modal-box w-11/12 max-w-2xl",lg:"modal-box w-11/12 max-w-4xl",xl:"modal-box w-11/12 max-w-6xl","2xl":"modal-box w-11/12 max-w-7xl"};return(l,a)=>(w(),S("div",{class:le(["modal",{"modal-open":e.isOpen}])},[n("div",{class:le(r[e.size])},[e.title?(w(),S("div",vf,[n("h3",yf,_(e.title),1),n("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:o},"  ")])):J("",!0),n("div",xf,[ui(l.$slots,"default")])],2),n("div",{class:"modal-backdrop",onClick:o})],2))}},go=Kt("resourcesStore",{state:()=>({selectedResource:null,resources:[],newResource:{id:null,code:null,name:null,type:null,type_equipment:null,type_equipment_display:null,brand:null,model:null,status_equipment:null,status_disponibility:null,current_location:null,capacity_gallons:null,is_selected:!1,is_confirm_delete:!1,is_retired:!1}}),getters:{resourcesAvailable:e=>e.resources},actions:{async fetchResourcesAvailable(){console.log("Fetching available resources...");try{const e=await fetch(ue.URLSourcesAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.resources=t.data||[]}catch(e){console.error("Error fetching available resources:",e),this.resources=[]}},setSelectedResource(e){console.log("Setting selected resource with ID:",e),this.selectedResource=this.resources.find(t=>t.id===e)||null}}}),wf={class:"form-control w-full relative"},Cf={key:0,class:"label"},$f={class:"label-text"},Ef=["placeholder"],Sf={key:1,class:"absolute z-10 w-full mt-1 bg-base-100 shadow-lg rounded-lg max-h-60 overflow-auto top-full"},Rf={class:"menu"},kf=["onMousedown"],Af={class:"hover:bg-base-200"},Xl={__name:"AutocompleteResource",props:{label:{type:String,default:"Recurso"},placeholder:{type:String,default:"Buscar recurso..."},excludeIds:{type:Array,default:()=>[]}},emits:["resource-selected"],setup(e,{emit:t}){const s=e,o=t,r=go(),l=fe(""),a=fe(!1),i=Y(()=>{const u=r.resourcesAvailable||r.resources;return Array.isArray(u)?u:u&&typeof u=="object"?Object.values(u):[]});ht(async()=>{console.log("mounted AutocompleteResource"),await r.fetchResourcesAvailable()});const c=Y(()=>{let u=i.value;return s.excludeIds.length>0&&(u=u.filter(d=>!s.excludeIds.includes(d.id))),l.value?u.filter(d=>(d.display_name||d.title||"").toLowerCase().includes(l.value.toLowerCase())):u}),h=()=>{a.value=!0},f=u=>{l.value="",r.setSelectedResource(u.id),a.value=!1,o("resource-selected",u)},m=()=>{setTimeout(()=>{a.value=!1},200)};return(u,d)=>(w(),S("div",wf,[e.label?(w(),S("label",Cf,[n("span",$f,_(e.label),1)])):J("",!0),ne(n("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=$=>l.value=$),onInput:h,onFocus:d[1]||(d[1]=$=>a.value=!0),onBlur:m,placeholder:e.placeholder,class:"input input-bordered w-full"},null,40,Ef),[[de,l.value]]),a.value&&c.value.length>0?(w(),S("div",Sf,[n("ul",Rf,[(w(!0),S(oe,null,Se(c.value,$=>(w(),S("li",{key:$.id,onMousedown:p=>f($)},[n("a",Af,_($.display_name||$.title),1)],40,kf))),128))])])):J("",!0)]))}},If={class:"space-y-4"},Of={key:0,class:"alert alert-error shadow-lg"},Pf={key:1,class:"alert alert-success shadow-lg"},Df={key:0,class:"grid grid-cols-12 gap-4 items-center"},Tf={class:"col-span-8"},jf={key:1,class:"grid grid-cols-12 gap-4 items-center"},Nf={class:"col-span-8"},Mf=["value"],Ff={class:"grid grid-cols-12 gap-4 items-start"},Vf={class:"col-span-8"},Uf={class:"grid grid-cols-12 gap-4 items-center"},Lf={class:"col-span-8"},Bf={class:"grid grid-cols-12 gap-4 items-center"},Hf={class:"col-span-8"},qf={class:"grid grid-cols-12 gap-4 items-center"},Gf={class:"col-span-8"},Wf=["disabled"],Kf={class:"grid grid-cols-12 gap-4 items-center"},zf={class:"col-span-8"},Yf=["disabled"],Qf={class:"grid grid-cols-12 gap-4 items-center"},Jf={class:"col-span-8"},Xf={class:"label cursor-pointer justify-start gap-3"},Zf=["disabled"],ep={class:"label-text"},tp={key:2,class:"bg-gray-50 rounded-lg p-4 space-y-3"},sp={class:"grid grid-cols-12 gap-4 items-center"},np={class:"col-span-8"},op=["value"],rp={key:0,class:"grid grid-cols-12 gap-4 items-center"},lp={class:"col-span-8"},ap={class:"label"},ip={class:"label-text-alt text-info"},cp={key:1,class:"grid grid-cols-12 gap-4 items-start"},dp={class:"col-span-8"},up={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-2"},fp=["onClick"],pp={class:"hidden sm:inline"},hp={class:"sm:hidden"},mp={class:"label"},bp={class:"label-text-alt text-info"},_p={key:2,class:"grid grid-cols-12 gap-4 items-start"},gp={class:"col-span-8"},vp={class:"grid grid-cols-7 sm:grid-cols-10 gap-2"},yp=["onClick"],xp={class:"label"},wp={class:"label-text-alt text-info"},Cp={class:"flex justify-end gap-3 pt-4"},$p=["disabled"],Ep=["disabled"],Sp={key:0,class:"loading loading-spinner loading-sm"},Rp={key:1},kp={__name:"ResourceForm",props:{resource:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,r=as(),l=go(),a=Fe(),i=fe(!1),c=fe(""),h=fe(""),f=[{value:"DAY",label:"Por intervalo de das"},{value:"WEEK",label:"Das de la semana"},{value:"MONTH",label:"Das del mes"}],m=[{value:0,label:"Lunes"},{value:1,label:"Martes"},{value:2,label:"Mircoles"},{value:3,label:"Jueves"},{value:4,label:"Viernes"},{value:5,label:"Sbado"},{value:6,label:"Domingo"}],u=fe({id:null,resource_id:null,resource_display_name:"",detailed_description:"",type_resource:"SERVICIO",cost:0,frequency_type:"DAY",interval_days:3,weekdays:[],monthdays:[],maintenance_cost:0,operation_start_date:null,operation_end_date:null,include_maintenance:!0}),d=Y(()=>!!s.resource),$=Y(()=>u.value.type_resource==="SERVICIO"),p=Y(()=>d.value?r.resources.filter(E=>E.id!==s.resource?.id&&E.type_resource==="EQUIPO").map(E=>E.resource_id):r.resources.filter(E=>E.type_resource==="EQUIPO").map(E=>E.resource_id));Me(()=>s.resource,E=>{E&&(u.value={id:E.id,resource_id:E.resource_id,resource_display_name:E.resource_display_name||E.detailed_description,detailed_description:E.detailed_description,type_resource:E.type_resource,cost:E.cost||0,frequency_type:E.frequency_type||"DAY",interval_days:E.interval_days||3,weekdays:E.weekdays||[],monthdays:E.monthdays||[],maintenance_cost:E.maintenance_cost||0,operation_start_date:E.operation_start_date,operation_end_date:E.operation_end_date,include_maintenance:E.interval_days>0||E.weekdays&&E.weekdays.length>0||E.monthdays&&E.monthdays.length>0})},{immediate:!0});const C=()=>{const E=l.selectedResource;E&&(u.value.resource_id=E.id,u.value.resource_display_name=E.display_name,u.value.detailed_description=E.display_name,u.value.type_resource=E.type_equipment==="SERVIC"?"SERVICIO":"EQUIPO",u.value.type_resource==="SERVICIO"&&(u.value.include_maintenance=!0,u.value.frequency_type="DAY",u.value.interval_days=3))},j=()=>{u.value.include_maintenance?u.value.frequency_type==="DAY"&&u.value.interval_days===0&&(u.value.interval_days=3):(u.value.frequency_type="DAY",u.value.interval_days=0,u.value.weekdays=[],u.value.monthdays=[],u.value.maintenance_cost=0)},M=()=>{u.value.frequency_type==="DAY"?(u.value.interval_days=u.value.interval_days||3,u.value.weekdays=[],u.value.monthdays=[]):u.value.frequency_type==="WEEK"?(u.value.interval_days=0,u.value.weekdays=u.value.weekdays||[],u.value.monthdays=[]):u.value.frequency_type==="MONTH"&&(u.value.interval_days=0,u.value.weekdays=[],u.value.monthdays=u.value.monthdays||[])},A=E=>{const I=u.value.weekdays.indexOf(E);I===-1?u.value.weekdays.push(E):u.value.weekdays.splice(I,1)},x=E=>{const I=u.value.monthdays.indexOf(E);I===-1?u.value.monthdays.push(E):u.value.monthdays.splice(I,1)},R=()=>{if(!d.value&&!u.value.resource_id)return c.value="Debe seleccionar un recurso",!1;if(!u.value.operation_start_date)return c.value="Debe ingresar la fecha de inicio de operaciones",!1;if(u.value.include_maintenance){if(u.value.frequency_type==="DAY"&&(!u.value.interval_days||u.value.interval_days<1))return c.value="El intervalo de das debe ser mayor a 0",!1;if(u.value.frequency_type==="WEEK"&&(!u.value.weekdays||u.value.weekdays.length===0))return c.value="Debe seleccionar al menos un da de la semana",!1;if(u.value.frequency_type==="MONTH"&&(!u.value.monthdays||u.value.monthdays.length===0))return c.value="Debe seleccionar al menos un da del mes",!1}return!0},G=async()=>{if(c.value="",h.value="",!!R()){i.value=!0;try{const E={...u.value,interval_days:u.value.include_maintenance&&u.value.frequency_type==="DAY"?u.value.interval_days:0,weekdays:u.value.include_maintenance&&u.value.frequency_type==="WEEK"?u.value.weekdays:null,monthdays:u.value.include_maintenance&&u.value.frequency_type==="MONTH"?u.value.monthdays:null};d.value?(await r.updateResourceProject(E),h.value="Recurso actualizado exitosamente"):(await r.addResourcesToProject([E]),h.value="Recurso agregado exitosamente"),setTimeout(()=>{o("close")},1500)}catch(E){console.error("Error al guardar recurso:",E),c.value=E.message||"Error al guardar el recurso"}finally{i.value=!1}}};return ht(()=>{d.value||(u.value.operation_start_date=a.project?.start_date||null)}),(E,I)=>(w(),S("div",If,[c.value?(w(),S("div",Of,[n("div",null,[I[10]||(I[10]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("span",null,_(c.value),1)]),n("button",{onClick:I[0]||(I[0]=T=>c.value=""),class:"btn btn-sm btn-ghost"},[...I[11]||(I[11]=[n("i",{class:"las la-times"},null,-1)])])])):J("",!0),h.value?(w(),S("div",Pf,[n("div",null,[I[12]||(I[12]=n("i",{class:"las la-check-circle text-2xl"},null,-1)),n("span",null,_(h.value),1)])])):J("",!0),n("form",{onSubmit:As(G,["prevent"]),class:"space-y-3"},[d.value?(w(),S("div",jf,[I[14]||(I[14]=n("label",{class:"col-span-4 text-right font-semibold"}," Recurso ",-1)),n("div",Nf,[n("input",{type:"text",class:"input input-bordered bg-gray-100 w-full",value:u.value.resource_display_name,disabled:""},null,8,Mf)])])):(w(),S("div",Df,[I[13]||(I[13]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Seleccionar Recurso "),n("span",{class:"text-error"},"*")],-1)),n("div",Tf,[Re(Xl,{placeholder:"Buscar recurso disponible...",excludeIds:p.value,onResourceSelected:C},null,8,["excludeIds"])])])),n("div",Ff,[I[15]||(I[15]=n("label",{class:"col-span-4 text-right font-semibold pt-3"}," Descripcin Detallada ",-1)),n("div",Vf,[ne(n("textarea",{class:"textarea textarea-bordered h-20 w-full","onUpdate:modelValue":I[1]||(I[1]=T=>u.value.detailed_description=T),placeholder:"Ingrese detalles adicionales del recurso..."},null,512),[[de,u.value.detailed_description]])])]),n("div",Uf,[I[16]||(I[16]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Fecha Inicio Operaciones "),n("span",{class:"text-error"},"*")],-1)),n("div",Lf,[ne(n("input",{type:"date",class:"input input-bordered w-full","onUpdate:modelValue":I[2]||(I[2]=T=>u.value.operation_start_date=T),required:""},null,512),[[de,u.value.operation_start_date]])])]),n("div",Bf,[I[17]||(I[17]=n("label",{class:"col-span-4 text-right font-semibold"}," Fecha Fin Operaciones ",-1)),n("div",Hf,[ne(n("input",{type:"date",class:"input input-bordered w-full","onUpdate:modelValue":I[3]||(I[3]=T=>u.value.operation_end_date=T)},null,512),[[de,u.value.operation_end_date]])])]),n("div",qf,[I[18]||(I[18]=n("label",{class:"col-span-4 text-right font-semibold"}," Costo Alquiler (Bs) ",-1)),n("div",Gf,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-bordered text-right w-full","onUpdate:modelValue":I[4]||(I[4]=T=>u.value.cost=T),placeholder:"0.00",disabled:$.value},null,8,Wf),[[de,u.value.cost]])])]),n("div",Kf,[I[19]||(I[19]=n("label",{class:"col-span-4 text-right font-semibold"}," Costo Mantenimiento (Bs) ",-1)),n("div",zf,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-bordered text-right w-full","onUpdate:modelValue":I[5]||(I[5]=T=>u.value.maintenance_cost=T),placeholder:"0.00",disabled:!u.value.include_maintenance},null,8,Yf),[[de,u.value.maintenance_cost]])])]),I[28]||(I[28]=n("div",{class:"divider"},"Configuracin de Mantenimiento",-1)),n("div",Qf,[I[20]||(I[20]=n("label",{class:"col-span-4 text-right font-semibold"}," Incluir Mantenimiento ",-1)),n("div",Jf,[n("label",Xf,[ne(n("input",{type:"checkbox",class:"checkbox checkbox-primary","onUpdate:modelValue":I[6]||(I[6]=T=>u.value.include_maintenance=T),disabled:$.value,onChange:j},null,40,Zf),[[Ol,u.value.include_maintenance]]),n("span",ep,_(u.value.include_maintenance?"S":"No"),1)])])]),u.value.include_maintenance?(w(),S("div",tp,[n("div",sp,[I[21]||(I[21]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Tipo de Frecuencia "),n("span",{class:"text-error"},"*")],-1)),n("div",np,[ne(n("select",{class:"select select-bordered w-full","onUpdate:modelValue":I[7]||(I[7]=T=>u.value.frequency_type=T),onChange:M},[(w(),S(oe,null,Se(f,T=>n("option",{key:T.value,value:T.value},_(T.label),9,op)),64))],544),[[Rs,u.value.frequency_type]])])]),u.value.frequency_type==="DAY"?(w(),S("div",rp,[I[23]||(I[23]=n("label",{class:"col-span-4 text-right font-semibold"},[K(" Intervalo en das "),n("span",{class:"text-error"},"*")],-1)),n("div",lp,[ne(n("input",{type:"number",min:"1",class:"input input-bordered w-full","onUpdate:modelValue":I[8]||(I[8]=T=>u.value.interval_days=T),placeholder:"Ej: 3",required:""},null,512),[[de,u.value.interval_days]]),n("div",ap,[n("span",ip,[I[22]||(I[22]=n("i",{class:"las la-info-circle"},null,-1)),K(" Mantenimiento cada "+_(u.value.interval_days||0)+" da(s) ",1)])])])])):u.value.frequency_type==="WEEK"?(w(),S("div",cp,[I[25]||(I[25]=n("label",{class:"col-span-4 text-right font-semibold pt-2"},[K(" Das de la semana "),n("span",{class:"text-error"},"*")],-1)),n("div",dp,[n("div",up,[(w(),S(oe,null,Se(m,T=>n("button",{key:T.value,type:"button",class:le(["btn btn-sm",u.value.weekdays.includes(T.value)?"btn-primary":"btn-outline"]),onClick:re=>A(T.value)},[n("span",pp,_(T.label),1),n("span",hp,_(T.label.substring(0,3)),1)],10,fp)),64))]),n("div",mp,[n("span",bp,[I[24]||(I[24]=n("i",{class:"las la-info-circle"},null,-1)),K(" "+_(u.value.weekdays.length)+" da(s) seleccionado(s) ",1)])])])])):u.value.frequency_type==="MONTH"?(w(),S("div",_p,[I[27]||(I[27]=n("label",{class:"col-span-4 text-right font-semibold pt-2"},[K(" Das del mes "),n("span",{class:"text-error"},"*")],-1)),n("div",gp,[n("div",vp,[(w(),S(oe,null,Se(31,T=>n("button",{key:T,type:"button",class:le(["btn btn-sm",u.value.monthdays.includes(T)?"btn-primary":"btn-outline"]),onClick:re=>x(T)},_(T),11,yp)),64))]),n("div",xp,[n("span",wp,[I[26]||(I[26]=n("i",{class:"las la-info-circle"},null,-1)),K(" "+_(u.value.monthdays.length)+" da(s) seleccionado(s) ",1)])])])])):J("",!0)])):J("",!0),n("div",Cp,[n("button",{type:"button",class:"btn btn-ghost",onClick:I[9]||(I[9]=T=>o("close")),disabled:i.value}," Cancelar ",8,$p),n("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(w(),S("span",Sp)):(w(),S("span",Rp,_(d.value?"Actualizar":"Guardar"),1))],8,Ep)])],32)]))}},Ap={class:"max-w-2xl mx-auto p-1"},Ip={class:"text-xl font-bold mb-6"},Op={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Pp={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Dp={class:"border-b-1 border-r-1 border-sky-200"},Tp={class:"ml-2"},jp={class:"border-b-1 border-r-1 border-sky-200"},Np={class:"ml-2"},Mp={class:"border-b-1 border-r-1 border-sky-200"},Fp={class:"ml-2"},Vp={class:"border-b-1 border-r-1 border-sky-200"},Up={class:"ml-2"},Lp={class:"border-b-1 border-r-1 border-sky-200"},Bp={class:"ml-2"},Hp={key:0,class:"border-b-1 border-r-1 border-sky-200"},qp={key:1,class:"border-b-1 border-r-1 border-sky-200"},Gp={class:"ml-2"},Wp={key:2,class:"border-b-1 border-r-1 border-sky-200"},Kp={class:"ml-2"},zp={key:3,class:"border-b-1 border-r-1 border-sky-200"},Yp={class:"ml-2"},Qp={key:4,class:"border-b-1 border-r-1 border-sky-200"},Jp={class:"ml-2"},Xp={key:0,class:"alert alert-error shadow-lg mb-4"},Zp={class:"form-control w-full"},eh={key:0,class:"form-control w-full"},th={class:"form-control w-full"},sh={key:1,class:"form-control w-full"},nh={key:2,class:"form-control w-full"},oh={class:"flex gap-3 justify-end mt-6"},rh={type:"submit",class:"btn btn-primary"},lh={__name:"SheetPorjectForm",props:{sheet:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,r=bn(),l=Fe(),a=Y(()=>l.project),i=Y(()=>s.sheet!==null),c=fe({period_start:"",period_end:"",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:"",contact_phone_reference:""}),h=fe("");ht(async()=>{await l.fetchProjectData(),i.value||r.initializeNewSheetProject(a.value)}),Me(()=>s.sheet,$=>{$&&(c.value={period_start:$.period_start||"",period_end:$.period_end||"",service_type:$.service_type||"ALQUILER Y MANTENIMIENTO",contact_reference:$.contact_reference||"",contact_phone_reference:$.contact_phone_reference||""})},{immediate:!0});const f=async $=>{$.preventDefault(),h.value="";try{if(i.value){const p={id:s.sheet.id,period_start:c.value.period_start,period_end:c.value.period_end||null,service_type:c.value.service_type,contact_reference:c.value.contact_reference,contact_phone_reference:c.value.contact_phone_reference};await r.updateSheetProject(p),console.log("Planilla actualizada:",s.sheet.id)}else{const p={...r.newSheetProject,period_start:c.value.period_start,service_type:c.value.service_type},C=await r.addSheetProject(p);console.log("Planilla creada con ID:",C)}o("close")}catch(p){console.error("Error al guardar planilla:",p),h.value=p.message||"Error al guardar la planilla"}},m=()=>{o("close")},u=$=>$?new Intl.DateTimeFormat("es-GT").format(new Date($)):"N/A",d=$=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[$]||{text:$,class:"badge-ghost"};return($,p)=>(w(),S("div",Ap,[n("h5",Ip,_(i.value?`Planilla #${e.sheet.id} - ${e.sheet.series_code}`:"Nueva Planilla de Proyecto"),1),n("div",Op,[p[15]||(p[15]=n("h6",{class:"font-semibold text-lg mb-3"},"Informacin del Proyecto",-1)),n("div",Pp,[n("div",Dp,[p[5]||(p[5]=n("span",{class:"font-medium"},"Proyecto ID:",-1)),n("span",Tp,_(a.value?.id),1)]),n("div",jp,[p[6]||(p[6]=n("span",{class:"font-medium"},"Cliente:",-1)),n("span",Np,_(a.value?.partner_name),1)]),n("div",Mp,[p[7]||(p[7]=n("span",{class:"font-medium"},"Ubicacin:",-1)),n("span",Fp,_(a.value?.location),1)]),n("div",Vp,[p[8]||(p[8]=n("span",{class:"font-medium"},"Contacto:",-1)),n("span",Up,_(a.value?.contact_name),1)]),n("div",Lp,[p[9]||(p[9]=n("span",{class:"font-medium"},"Telfono:",-1)),n("span",Bp,_(a.value?.contact_phone),1)]),i.value?(w(),S("div",Hp,[p[10]||(p[10]=n("span",{class:"font-medium"},"Estado:",-1)),n("span",{class:le(["ml-2 badge",d(e.sheet.status).class])},_(d(e.sheet.status).text),3)])):J("",!0),i.value?(w(),S("div",qp,[p[11]||(p[11]=n("span",{class:"font-medium"},"Fecha Emisin:",-1)),n("span",Gp,_(u(e.sheet.issue_date)),1)])):J("",!0),i.value?(w(),S("div",Wp,[p[12]||(p[12]=n("span",{class:"font-medium"},"Total Galones:",-1)),n("span",Kp,_(e.sheet.total_gallons?.toLocaleString()||0),1)])):J("",!0),i.value?(w(),S("div",zp,[p[13]||(p[13]=n("span",{class:"font-medium"},"Total Barriles:",-1)),n("span",Yp,_(e.sheet.total_barrels?.toLocaleString()||0),1)])):J("",!0),i.value?(w(),S("div",Qp,[p[14]||(p[14]=n("span",{class:"font-medium"},"Total M:",-1)),n("span",Jp,_(e.sheet.total_cubic_meters?.toFixed(1)||0),1)])):J("",!0)])]),h.value?(w(),S("div",Xp,[n("div",null,[p[16]||(p[16]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",null,_(h.value),1)])])):J("",!0),n("form",{onSubmit:As(f,["prevent"]),class:"space-y-4"},[n("div",Zp,[p[17]||(p[17]=n("label",{class:"label",for:"period_start"},[n("span",{class:"label-text font-medium"},"Fecha Inicio Perodo *")],-1)),ne(n("input",{type:"date",id:"period_start","onUpdate:modelValue":p[0]||(p[0]=C=>c.value.period_start=C),required:"",class:"input input-bordered w-full"},null,512),[[de,c.value.period_start]]),p[18]||(p[18]=n("label",{class:"label"},[n("span",{class:"label-text-alt"},"Fecha de inicio del perodo a facturar")],-1))]),i.value?(w(),S("div",eh,[p[19]||(p[19]=n("label",{class:"label",for:"period_end"},[n("span",{class:"label-text font-medium"},"Fecha Fin Perodo")],-1)),ne(n("input",{type:"date",id:"period_end","onUpdate:modelValue":p[1]||(p[1]=C=>c.value.period_end=C),class:"input input-bordered w-full"},null,512),[[de,c.value.period_end]]),p[20]||(p[20]=n("label",{class:"label"},[n("span",{class:"label-text-alt"},"Fecha de fin del perodo (opcional)")],-1))])):J("",!0),n("div",th,[p[22]||(p[22]=n("label",{class:"label",for:"service_type"},[n("span",{class:"label-text font-medium"},"Tipo de Servicio *")],-1)),ne(n("select",{id:"service_type","onUpdate:modelValue":p[2]||(p[2]=C=>c.value.service_type=C),required:"",class:"select select-bordered w-full"},[...p[21]||(p[21]=[n("option",{value:"ALQUILER"},"ALQUILER",-1),n("option",{value:"MANTENIMIENTO"},"MANTENIMIENTO",-1),n("option",{value:"ALQUILER Y MANTENIMIENTO"},"ALQUILER Y MANTENIMIENTO",-1)])],512),[[Rs,c.value.service_type]])]),i.value?(w(),S("div",sh,[p[23]||(p[23]=n("label",{class:"label",for:"contact_reference"},[n("span",{class:"label-text font-medium"},"Contacto de Referencia")],-1)),ne(n("input",{type:"text",id:"contact_reference","onUpdate:modelValue":p[3]||(p[3]=C=>c.value.contact_reference=C),placeholder:"Nombre del contacto",class:"input input-bordered w-full"},null,512),[[de,c.value.contact_reference]])])):J("",!0),i.value?(w(),S("div",nh,[p[24]||(p[24]=n("label",{class:"label",for:"contact_phone_reference"},[n("span",{class:"label-text font-medium"},"Telfono de Referencia")],-1)),ne(n("input",{type:"text",id:"contact_phone_reference","onUpdate:modelValue":p[4]||(p[4]=C=>c.value.contact_phone_reference=C),placeholder:"Telfono del contacto",class:"input input-bordered w-full"},null,512),[[de,c.value.contact_phone_reference]])])):J("",!0),n("div",oh,[n("button",{type:"button",class:"btn btn-outline",onClick:m}," Cancelar "),n("button",rh,_(i.value?"Actualizar":"Crear")+" Planilla ",1)])],32)]))}},ah={id:"project-app",class:"w-[90%] mx-auto p-4 bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300"},ih={class:"flex justify-between items-center border-b-blue-500 border-b pb-1 mb-3"},ch={class:"text-xl font-semibold text-blue-500"},dh={class:"flex items-center gap-3"},uh={class:"text-gray-500"},fh={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},ph={class:"space-y-1"},hh={class:"flex items-center gap-2 py-0.5"},mh={class:"font-semibold text-xs"},bh={class:"flex items-center gap-2 py-0.5"},_h={class:"font-semibold text-xs"},gh={key:0,class:"badge badge-info ml-1"},vh={class:"space-y-1"},yh={class:"flex items-center gap-2 py-0.5"},xh={class:"font-semibold text-xs"},wh={class:"flex items-center gap-2 py-0.5"},Ch={key:0,class:"font-semibold text-xs"},$h={key:1,class:"text-success font-bold text-xs"},Eh={class:"space-y-1"},Sh={class:"flex items-center gap-2 py-0.5"},Rh={class:"font-semibold text-xs"},kh={class:"flex items-center gap-2 py-0.5"},Ah={class:"font-semibold text-xs"},Ih={role:"tablist",class:"tabs tabs-lifted bg-base-100 p-1"},Oh={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},Ph={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},Dh={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},Th={__name:"ProjectsView",setup(e){const t=Fe(),s=as();bn();const o=Y(()=>t.project),r=fe(!1),l=fe(""),a=fe(null),i=fe(null),c=fe(null),h=$=>{l.value="Editar Recurso del Proyecto",a.value="ResourceForm",i.value=$,r.value=!0},f=()=>{l.value="Nueva Planilla del Proyecto #"+o.value?.id,a.value="SheetProjectForm",c.value=null,r.value=!0},m=$=>{l.value="Editar Planilla #"+$.id+" - Proyecto #"+o.value?.id,a.value="SheetProjectForm",c.value=$,r.value=!0},u=()=>{r.value=!1,a.value=null,l.value="",i.value=null,c.value=null},d=()=>{console.log("Accin cancelar proyecto")};return ht(()=>{t.fetchProjectData(),s.fetchResourcesProject()}),($,p)=>(w(),S("div",null,[n("div",ah,[n("div",ih,[n("h1",ch," Ficha de Proyecto #"+_(o.value?.id||"N/A"),1),n("div",dh,[n("div",uh,[n("span",{class:le(["badge",o.value?.is_closed?"badge-error":"badge-success"])},_(o.value?.is_closed?"Cerrado":"Abierto"),3)])])]),n("div",fh,[n("div",ph,[n("div",hh,[p[0]||(p[0]=n("i",{class:"las la-building text-blue-500 text-sm"},null,-1)),p[1]||(p[1]=n("span",{class:"text-xs text-gray-500"},"Cliente:",-1)),n("span",mh,_(o.value?.partner_name||"N/A"),1)]),n("div",bh,[p[2]||(p[2]=n("i",{class:"las la-map-marker text-blue-500 text-sm"},null,-1)),p[3]||(p[3]=n("span",{class:"text-xs text-gray-500"},"Campamento:",-1)),n("span",_h,[K(_(o.value?.location||"N/A")+" ",1),o.value?.location&&o.value?.cardinal_point?(w(),S("span",gh,_(o.value?.cardinal_point?` ${o.value.cardinal_point}`:""),1)):J("",!0)])])]),n("div",vh,[n("div",yh,[p[4]||(p[4]=n("i",{class:"las la-calendar-check text-blue-500 text-sm"},null,-1)),p[5]||(p[5]=n("span",{class:"text-xs text-gray-500"},"Inicio:",-1)),n("span",xh,_(ve(zn)(o.value?.start_date)),1)]),n("div",wh,[p[6]||(p[6]=n("i",{class:"las la-calendar-times text-blue-500 text-sm"},null,-1)),p[7]||(p[7]=n("span",{class:"text-xs text-gray-500"},"Fin:",-1)),o.value?.end_date?(w(),S("span",Ch,_(ve(zn)(o.value?.end_date)),1)):(w(),S("span",$h,"EN CURSO"))])]),n("div",Eh,[n("div",Sh,[p[8]||(p[8]=n("i",{class:"las la-user text-blue-500 text-sm"},null,-1)),p[9]||(p[9]=n("span",{class:"text-xs text-gray-500"},"Contacto:",-1)),n("span",Rh,_(o.value?.contact_name||"N/A"),1)]),n("div",kh,[p[10]||(p[10]=n("i",{class:"las la-phone text-blue-500 text-sm"},null,-1)),p[11]||(p[11]=n("span",{class:"text-xs text-gray-500"},"Telfono:",-1)),n("span",Ah,_(o.value?.contact_phone||"N/A"),1)])])]),n("div",Ih,[p[12]||(p[12]=n("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-amber-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Recursos Asignados",checked:""},null,-1)),n("div",Oh,[Re(du,{onEditResource:h})]),p[13]||(p[13]=n("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-cyan-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Planillas de Trabajo"},null,-1)),n("div",Ph,[Re(Tu,{onOpenSheetForm:f,onEditSheet:m})]),p[14]||(p[14]=n("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-lime-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Calendario Mantenimientos"},null,-1)),n("div",Dh,[Re(gf)])]),n("div",{class:"mt-8 bg-white border-t border-gray-200 shadow-md rounded-b-xl flex justify-end gap-3 px-4 py-3"},[n("a",{href:"/proyectos/",class:"btn btn-primary btn-sm",onClick:d},[...p[15]||(p[15]=[n("i",{class:"las la-times"},null,-1),K(" Volver A Proyectos ",-1)])])])]),Re(Os,{"is-open":r.value,title:l.value,size:"lg",onClose:u},{default:Vt(()=>[a.value==="ResourceForm"?(w(),pt(kp,{key:0,resource:i.value,onClose:u},null,8,["resource"])):J("",!0),a.value==="SheetProjectForm"?(w(),pt(lh,{key:1,sheet:c.value,onClose:u},null,8,["sheet"])):J("",!0)]),_:1},8,["is-open","title"])]))}},jh={class:"container mx-auto p-4"},Nh={key:0,class:"alert alert-error shadow-lg mb-4"},Mh={key:1,class:"alert alert-success shadow-lg mb-4"},Fh={class:"card-body space-y-4"},Vh={class:"flex gap-4"},Uh={class:"form-control w-full"},Lh={class:"mt-2 mb-2"},Bh={class:"table table-zebra w-full"},Hh={class:"border border-gray-300"},qh={class:"border border-gray-300"},Gh={class:"border border-gray-300"},Wh={class:"border border-gray-300"},Kh=["onUpdate:modelValue"],zh={class:"border border-gray-300"},Yh=["onUpdate:modelValue","onFocus","disabled"],Qh={class:"border border-gray-300 text-center"},Jh=["onUpdate:modelValue","disabled","onChange"],Xh={class:"border border-gray-300"},Zh={key:0,class:"space-y-2"},em=["onUpdate:modelValue","onChange"],tm=["value"],sm={key:0},nm=["onUpdate:modelValue"],om={key:1,class:"flex flex-wrap gap-1"},rm=["onClick"],lm={key:2,class:"grid grid-cols-7 gap-1"},am=["onClick"],im={key:1,class:"text-gray-400 text-sm"},cm={class:"border border-gray-300"},dm=["onUpdate:modelValue","onFocus","disabled"],um={class:"border border-gray-300 text-center"},fm=["onClick","disabled"],pm={key:0},hm={class:"flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},mm=["disabled"],bm={key:0,class:"loading loading-spinner loading-sm"},_m={key:1},gm={__name:"ResourceItemsForm",setup(e){const t=go(),s=as(),o=Fe(),r=Ms(),l=fe([]),a=fe(!1),i=fe(""),c=fe(""),h=Y(()=>l.value.filter(R=>R.resource?.type_equipment_display!=="SERVICIO").map(R=>R.resource_id)),f=[{value:"DAY",label:"Por intervalo de das"},{value:"WEEK",label:"Das de la semana"},{value:"MONTH",label:"Das del mes"}],m=[{value:0,label:"Lunes"},{value:1,label:"Martes"},{value:2,label:"Mircoles"},{value:3,label:"Jueves"},{value:4,label:"Viernes"},{value:5,label:"Sbado"},{value:6,label:"Domingo"}],u=async()=>{const R=t.selectedResource,G=R.type_equipment==="SERVIC";if(!G&&t.resources&&Array.isArray(t.resources)){const I=t.resources.find(T=>T.id===R.id);I&&(I.is_selected=!0)}const E={resource:R,resource_id:R.id,resource_display_name:R.display_name,detailed_description:R.display_name,frequency_type:"DAY",interval_days:G?3:0,weekdays:[],monthdays:[],cost:0,maintenance_cost:0,operation_start_date:o.project?.start_date||null,include_maintenance:G};l.value.push(E),t.selectedResource=null},d=R=>{const G=l.value[R];if(G.resource?.type_equipment_display!=="SERVICIO"&&t.resources&&Array.isArray(t.resources)){const E=t.resources.find(I=>I.id===G.resource_id);E&&(E.is_selected=!1)}l.value.splice(R,1)},$=async()=>{i.value="",c.value="",a.value=!0;try{if(l.value.filter(E=>!E.operation_start_date).length>0){i.value="Todos los recursos deben tener una fecha de inicio de operaciones",a.value=!1;return}const G=await s.addResourcesToProject(l.value);c.value=`Se agregaron ${G.added} recurso(s) exitosamente`,r.push("/project")}catch(R){console.error("Error submitting form:",R),i.value=R.message||"Error al guardar los recursos. Por favor intente nuevamente."}finally{a.value=!1}},p=(R,G)=>{if(!R.include_maintenance)R.frequency_type="DAY",R.interval_days=0,R.weekdays=[],R.monthdays=[],R.maintenance_cost=0;else{const T=G.target.closest("tr").querySelector('input[data-input="interval"]');T&&setTimeout(()=>{T.focus(),T.select()},50)}},C=R=>{R.frequency_type==="DAY"?(R.interval_days=R.interval_days||2,R.weekdays=[],R.monthdays=[]):R.frequency_type==="WEEK"?(R.interval_days=0,R.weekdays=R.weekdays||[],R.monthdays=[]):R.frequency_type==="MONTH"&&(R.interval_days=0,R.weekdays=[],R.monthdays=R.monthdays||[])},j=(R,G)=>{R.weekdays||(R.weekdays=[]);const E=R.weekdays.indexOf(G);E===-1?R.weekdays.push(G):R.weekdays.splice(E,1)},M=(R,G)=>{R.monthdays||(R.monthdays=[]);const E=R.monthdays.indexOf(G);E===-1?R.monthdays.push(G):R.monthdays.splice(E,1)},A=R=>{R.cost===0&&(R.cost=null)},x=R=>{R.maintenance_cost===0&&(R.maintenance_cost=null)};return ht(async()=>{await t.fetchResourcesAvailable()}),(R,G)=>(w(),S("div",jh,[i.value?(w(),S("div",Nh,[n("div",null,[G[1]||(G[1]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("span",null,_(i.value),1)]),n("button",{onClick:G[0]||(G[0]=E=>i.value=""),class:"btn btn-sm btn-ghost"},[...G[2]||(G[2]=[n("i",{class:"las la-times"},null,-1)])])])):J("",!0),c.value?(w(),S("div",Mh,[n("div",null,[G[3]||(G[3]=n("i",{class:"las la-check-circle text-2xl"},null,-1)),n("span",null,_(c.value),1)])])):J("",!0),n("form",{class:"card bg-base-100 shadow-xl border border-gray-200 rounded-lg",onSubmit:As($,["prevent"])},[n("div",Fh,[n("div",Vh,[n("div",Uh,[G[4]||(G[4]=n("label",{class:"label"},[n("span",{class:"label-text font-semibold"},"Seleccionar Recurso *")],-1)),Re(Xl,{placeholder:"Buscar recurso disponible...",excludeIds:h.value,onResourceSelected:u},null,8,["excludeIds"])])]),n("div",Lh,[n("table",Bh,[G[7]||(G[7]=n("thead",null,[n("tr",{class:"bg-lime-800 text-white border border-green-500 text-center uppercase"},[n("th",{class:"border"},"#"),n("th",{class:"border"},"Detalle"),n("th",{class:"border"},"Tipo"),n("th",{class:"border"},"Fecha Inicio *"),n("th",{class:"border"},"Costo Alq"),n("th",{class:"border"},"Mant"),n("th",{class:"border"},"Frecuencia"),n("th",{class:"border"},"Costo Mnt"),n("th",{class:"border"},"Acciones")])],-1)),n("tbody",null,[(w(!0),S(oe,null,Se(l.value,(E,I)=>(w(),S("tr",{key:I},[n("td",Hh,_(I+1),1),n("td",qh,_(E.resource_display_name||E.detailed_description),1),n("td",Gh,_(E.resource?.type_equipment_display==="SERVICIO"?"SERVICIO":"EQUIPO"),1),n("td",Wh,[ne(n("input",{type:"date",class:le(["input input-sm input-bordered w-full",{"input-error":!E.operation_start_date}]),"onUpdate:modelValue":T=>E.operation_start_date=T,required:""},null,10,Kh),[[de,E.operation_start_date]])]),n("td",zh,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":T=>E.cost=T,onFocus:T=>A(E),placeholder:"0.00",disabled:E.resource?.type_equipment_display==="SERVICIO"},null,40,Yh),[[de,E.cost]])]),n("td",Qh,[ne(n("input",{type:"checkbox",class:"checkbox checkbox-sm","onUpdate:modelValue":T=>E.include_maintenance=T,disabled:E.resource?.type_equipment_display==="SERVICIO",onChange:T=>p(E,T)},null,40,Jh),[[Ol,E.include_maintenance]])]),n("td",Xh,[E.include_maintenance?(w(),S("div",Zh,[ne(n("select",{class:"select select-sm select-bordered w-full","onUpdate:modelValue":T=>E.frequency_type=T,onChange:T=>C(E)},[(w(),S(oe,null,Se(f,T=>n("option",{key:T.value,value:T.value},_(T.label),9,tm)),64))],40,em),[[Rs,E.frequency_type]]),E.frequency_type==="DAY"?(w(),S("div",sm,[ne(n("input",{type:"number",min:"1",class:"input input-sm input-bordered w-full","onUpdate:modelValue":T=>E.interval_days=T,"data-input":"interval",placeholder:"Das"},null,8,nm),[[de,E.interval_days]])])):E.frequency_type==="WEEK"?(w(),S("div",om,[(w(),S(oe,null,Se(m,T=>n("button",{key:T.value,type:"button",class:le(["btn btn-xs",E.weekdays?.includes(T.value)?"btn-primary":"btn-outline"]),onClick:re=>j(E,T.value)},_(T.label.substring(0,3)),11,rm)),64))])):E.frequency_type==="MONTH"?(w(),S("div",lm,[(w(),S(oe,null,Se(31,T=>n("button",{key:T,type:"button",class:le(["btn btn-xs",E.monthdays?.includes(T)?"btn-primary":"btn-outline"]),onClick:re=>M(E,T)},_(T),11,am)),64))])):J("",!0)])):(w(),S("span",im,"-"))]),n("td",cm,[ne(n("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":T=>E.maintenance_cost=T,onFocus:T=>x(E),placeholder:"0.00",disabled:!E.include_maintenance},null,40,dm),[[de,E.maintenance_cost]])]),n("td",um,[n("button",{type:"button",class:"btn btn-sm btn-error",onClick:T=>d(I),disabled:a.value},[...G[5]||(G[5]=[n("i",{class:"las la-trash text-lg"},null,-1)])],8,fm)])]))),128)),l.value.length===0?(w(),S("tr",pm,[...G[6]||(G[6]=[n("td",{colspan:"9",class:"text-center py-4 text-gray-500"}," No hay recursos agregados. Seleccione un recurso del autocomplete. ",-1)])])):J("",!0)])])]),G[9]||(G[9]=n("div",{class:"divider"},null,-1)),n("div",hm,[Re(ve(_o),{to:"/project",class:le(["btn btn-ghost",{"btn-disabled":a.value}])},{default:Vt(()=>[...G[8]||(G[8]=[K(" Cancelar ",-1)])]),_:1},8,["class"]),n("button",{type:"submit",class:"btn btn-primary",disabled:l.value.length===0||a.value},[a.value?(w(),S("span",bm)):(w(),S("span",_m,"Guardar Recursos ("+_(l.value.length)+")",1))],8,mm)])])],32)]))}},Zl=Kt("technicalStore",{state:()=>({technical:{},technicals:[]}),actions:{async fetchTechnicalsAvailable(){console.log("Fetching available technicals...");try{const e=await fetch(ue.URLTechnicalsAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch technicals");const t=await e.json();this.technicals=t.data}catch(e){console.error("Error fetching technicals:",e)}}}}),ea=Kt("vehicleStore",{state:()=>({vehicle:{},vehicles:[]}),actions:{async fetchVehicles(){console.log("Fetching available vehicles...");try{const e=await fetch(ue.URLVehiclesAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch vehicles");const t=await e.json();this.vehicles=t.data}catch(e){console.error("Error fetching vehicles:",e)}}}}),vm={key:0,class:"max-w-4xl mx-auto p-1"},ym={class:"text-xl font-bold mb-6"},xm={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},wm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Cm={class:"border-b-1 border-r-1 border-sky-200"},$m={class:"ml-2"},Em={class:"border-b-1 border-r-1 border-sky-200"},Sm={class:"ml-2"},Rm={class:"border-b-1 border-r-1 border-sky-200"},km={class:"ml-2"},Am={class:"border-b-1 border-r-1 border-sky-200"},Im={class:"ml-2 font-mono"},Om={class:"border-b-1 border-r-1 border-sky-200"},Pm={class:"ml-2 text-blue-600"},Dm={class:"border-b-1 border-r-1 border-sky-200"},Tm={class:"ml-2"},jm={class:"border-b-1 border-r-1 border-sky-200"},Nm={class:"ml-2"},Mm={class:"border-b-1 border-r-1 border-sky-200"},Fm={class:"ml-2"},Vm={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Um={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Lm={class:"border-b-1 border-r-1 border-sky-200"},Bm={class:"ml-2"},Hm={class:"border-b-1 border-r-1 border-sky-200"},qm={class:"border-b-1 border-r-1 border-sky-200"},Gm={class:"border-b-1 border-r-1 border-sky-200"},Wm={class:"ml-2 font-mono text-xs"},Km={class:"border-b-1 border-r-1 border-sky-200"},zm={class:"ml-2"},Ym={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Qm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Jm={class:"border-b-1 border-r-1 border-sky-200"},Xm={class:"ml-2"},Zm={class:"border-b-1 border-r-1 border-sky-200"},eb={class:"ml-2"},tb={class:"border-b-1 border-r-1 border-sky-200"},sb={class:"ml-2"},nb={class:"border-b-1 border-r-1 border-sky-200"},ob={class:"ml-2"},rb={class:"border-b-1 border-r-1 border-sky-200"},lb={class:"ml-2"},ab={class:"border-b-1 border-r-1 border-sky-200"},ib={class:"ml-2"},cb={class:"border-b-1 border-r-1 border-sky-200"},db={class:"ml-2"},ub={class:"border-b-1 border-r-1 border-sky-200"},fb={class:"ml-2"},pb={key:0,class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},hb={class:"font-semibold text-lg mb-3"},mb={class:"overflow-x-auto border border-gray-300 rounded"},bb={class:"table table-sm w-full"},_b={class:"border-r border-gray-300"},gb={class:"border-r border-gray-300 font-mono text-sm"},vb={key:1,class:"bg-sky-50 rounded-lg p-4 mb-6 border-gray-200 border"},yb={class:"overflow-x-auto bg-base-100 border border-gray-300 rounded"},xb={class:"table table-xs w-full border-collapse"},wb={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},Cb={class:"border border-gray-300 text-center"},$b={class:"border border-gray-300 text-center font-mono text-xs"},Eb={class:"border border-gray-300 text-center font-mono text-xs"},Sb={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},Rb={class:"border border-gray-300 text-center text-gray-400"},kb={key:2,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},Ab={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},ta={__name:"TechnicalPresentation",props:{technical:{type:Object,default:null}},setup(e){const t=e,s=a=>a?new Date(a).toLocaleDateString("es-ES"):"N/A",o=(a,i)=>{if(!i)return"badge-ghost";const c=new Date,h=new Date(i),f=Math.floor((h-c)/(1e3*60*60*24));return f<0?"badge-error":f<=30?"badge-warning":"badge-success"},r=a=>{if(!a)return"Sin vencer";const i=new Date,c=new Date(a),h=Math.floor((c-i)/(1e3*60*60*24));return h<0?"VENCIDO":h<=30?"PRXIMO A VENCER":"VIGENTE"},l=Y(()=>t.technical?.vaccination_records?t.technical.vaccination_records.reduce((a,i)=>{const c=i.vaccine_type_display;return a[c]||(a[c]=[]),a[c].push(i),a},{}):{});return(a,i)=>e.technical?(w(),S("div",vm,[n("h5",ym,_(e.technical.first_name)+" "+_(e.technical.last_name),1),n("div",xm,[i[8]||(i[8]=n("h6",{class:"font-semibold text-lg mb-3"},"Datos Personales",-1)),n("div",wm,[n("div",Cm,[i[0]||(i[0]=n("span",{class:"font-medium"},"ID:",-1)),n("span",$m,_(e.technical.id),1)]),n("div",Em,[i[1]||(i[1]=n("span",{class:"font-medium"},"Nombre:",-1)),n("span",Sm,_(e.technical.first_name),1)]),n("div",Rm,[i[2]||(i[2]=n("span",{class:"font-medium"},"Apellido:",-1)),n("span",km,_(e.technical.last_name),1)]),n("div",Am,[i[3]||(i[3]=n("span",{class:"font-medium"},"Cdula (DNI):",-1)),n("span",Im,_(e.technical.dni),1)]),n("div",Om,[i[4]||(i[4]=n("span",{class:"font-medium"},"Email:",-1)),n("span",Pm,_(e.technical.email),1)]),n("div",Dm,[i[5]||(i[5]=n("span",{class:"font-medium"},"Telfono:",-1)),n("span",Tm,_(e.technical.nro_phone),1)]),n("div",jm,[i[6]||(i[6]=n("span",{class:"font-medium"},"Fecha Nacimiento:",-1)),n("span",Nm,_(s(e.technical.birth_date)),1)]),n("div",Mm,[i[7]||(i[7]=n("span",{class:"font-medium"},"Fecha Ingreso:",-1)),n("span",Fm,_(s(e.technical.date_joined)),1)])])]),n("div",Vm,[i[14]||(i[14]=n("h6",{class:"font-semibold text-lg mb-3"},"Informacin Laboral",-1)),n("div",Um,[n("div",Lm,[i[9]||(i[9]=n("span",{class:"font-medium"},"rea de Trabajo:",-1)),n("span",Bm,_(e.technical.work_area_display),1)]),n("div",Hm,[i[10]||(i[10]=n("span",{class:"font-medium"},"Afiliado IESS:",-1)),n("span",{class:le(["ml-2 badge",e.technical.is_iess_affiliated?"badge-success":"badge-ghost"])},_(e.technical.is_iess_affiliated?"S":"No"),3)]),n("div",qm,[i[11]||(i[11]=n("span",{class:"font-medium"},"Seguro de Vida:",-1)),n("span",{class:le(["ml-2 badge",e.technical.has_life_insurance_policy?"badge-success":"badge-ghost"])},_(e.technical.has_life_insurance_policy?"S":"No"),3)]),n("div",Gm,[i[12]||(i[12]=n("span",{class:"font-medium"},"Cdigo QUEST NCST:",-1)),n("span",Wm,_(e.technical.quest_ncst_code),1)]),n("div",Km,[i[13]||(i[13]=n("span",{class:"font-medium"},"Instructor QUEST:",-1)),n("span",zm,_(e.technical.quest_instructor),1)])])]),n("div",Ym,[i[23]||(i[23]=n("h6",{class:"font-semibold text-lg mb-3"},"Licencias y Certificados",-1)),n("div",Qm,[n("div",Jm,[i[15]||(i[15]=n("span",{class:"font-medium"},"Licencia (Expedida):",-1)),n("span",Xm,_(s(e.technical.license_issue_date)),1)]),n("div",Zm,[i[16]||(i[16]=n("span",{class:"font-medium"},"Licencia (Vence):",-1)),n("span",eb,[n("span",{class:le(["badge",o(e.technical.license_issue_date,e.technical.license_expiry_date)])},_(s(e.technical.license_expiry_date)),3)])]),n("div",tb,[i[17]||(i[17]=n("span",{class:"font-medium"},"Cond. Defensiva (Expedida):",-1)),n("span",sb,_(s(e.technical.defensive_driving_certificate_issue_date)),1)]),n("div",nb,[i[18]||(i[18]=n("span",{class:"font-medium"},"Cond. Defensiva (Vence):",-1)),n("span",ob,[n("span",{class:le(["badge",o(e.technical.defensive_driving_certificate_issue_date,e.technical.defensive_driving_certificate_expiry_date)])},_(s(e.technical.defensive_driving_certificate_expiry_date)),3)])]),n("div",rb,[i[19]||(i[19]=n("span",{class:"font-medium"},"Certificado MAE (Expedida):",-1)),n("span",lb,_(s(e.technical.mae_certificate_issue_date)),1)]),n("div",ab,[i[20]||(i[20]=n("span",{class:"font-medium"},"Certificado MAE (Vence):",-1)),n("span",ib,_(s(e.technical.mae_certificate_expiry_date)),1)]),n("div",cb,[i[21]||(i[21]=n("span",{class:"font-medium"},"Certificado Mdico (Expedida):",-1)),n("span",db,_(s(e.technical.medical_certificate_issue_date)),1)]),n("div",ub,[i[22]||(i[22]=n("span",{class:"font-medium"},"Certificado Mdico (Vence):",-1)),n("span",fb,_(s(e.technical.medical_certificate_expiry_date)),1)])])]),e.technical.passes&&e.technical.passes.length>0?(w(),S("div",pb,[n("h6",hb,"Pases de Acceso ("+_(e.technical.passes.length)+")",1),n("div",mb,[n("table",bb,[i[24]||(i[24]=n("thead",{class:"bg-sky-100"},[n("tr",null,[n("th",{class:"border-r border-gray-300"},"Bloque"),n("th",{class:"border-r border-gray-300"},"Vencimiento"),n("th",null,"Estado")])],-1)),n("tbody",null,[(w(!0),S(oe,null,Se(e.technical.passes,c=>(w(),S("tr",{key:c.id,class:"hover"},[n("td",_b,_(c.bloque_display||c.bloque),1),n("td",gb,_(s(c.fecha_caducidad)),1),n("td",null,[n("span",{class:le(["badge",o(null,c.fecha_caducidad)])},_(r(c.fecha_caducidad)),3)])]))),128))])])])])):J("",!0),e.technical.vaccination_records&&e.technical.vaccination_records.length>0?(w(),S("div",vb,[i[28]||(i[28]=n("h6",{class:"font-semibold text-lg mb-3"},"Registro de Vacunaciones",-1)),n("div",yb,[n("table",xb,[i[27]||(i[27]=n("thead",null,[n("tr",{class:"bg-sky-100"},[n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"VACUNA"),n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"DOSIS"),n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"FECHA"),n("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"LOTE")])],-1)),n("tbody",null,[(w(!0),S(oe,null,Se(l.value,(c,h)=>(w(),S(oe,{key:h},[(w(!0),S(oe,null,Se(c.slice(0,5),(f,m)=>(w(),S("tr",{key:f.id,class:"hover:bg-sky-50"},[m===0?(w(),S("td",wb,_(h),1)):J("",!0),n("td",Cb,_(f.dose_number),1),n("td",$b,_(s(f.application_date)),1),n("td",Eb,_(f.batch_number||""),1)]))),128)),(w(!0),S(oe,null,Se(Math.max(0,5-c.length),f=>(w(),S("tr",{key:`${h}-empty-${f}`,class:"hover:bg-sky-50"},[c.length===0&&f===1?(w(),S("td",Sb,_(h),1)):J("",!0),n("td",Rb,_(c.length+f),1),i[25]||(i[25]=n("td",{class:"border border-gray-300 text-center"},null,-1)),i[26]||(i[26]=n("td",{class:"border border-gray-300 text-center"},null,-1))]))),128))],64))),128))])])])])):J("",!0),e.technical.notes?(w(),S("div",kb,[i[29]||(i[29]=n("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),n("p",Ab,_(e.technical.notes),1)])):J("",!0)])):J("",!0)}},Ib={key:0,class:"max-w-4xl mx-auto p-1"},Ob={class:"text-xl font-bold mb-6"},Pb={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Db={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Tb={class:"border-b-1 border-r-1 border-sky-200"},jb={class:"ml-2"},Nb={class:"border-b-1 border-r-1 border-sky-200"},Mb={class:"ml-2 font-mono"},Fb={class:"border-b-1 border-r-1 border-sky-200"},Vb={class:"ml-2"},Ub={class:"border-b-1 border-r-1 border-sky-200"},Lb={class:"ml-2"},Bb={class:"border-b-1 border-r-1 border-sky-200"},Hb={class:"ml-2"},qb={class:"border-b-1 border-r-1 border-sky-200"},Gb={class:"ml-2"},Wb={class:"border-b-1 border-r-1 border-sky-200"},Kb={class:"border-b-1 border-r-1 border-sky-200"},zb={class:"ml-2 font-mono text-xs"},Yb={class:"border-b-1 border-r-1 border-sky-200"},Qb={class:"ml-2 font-mono text-xs"},Jb={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Xb={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Zb={class:"border-b-1 border-r-1 border-sky-200"},e_={class:"ml-2"},t_={class:"border-b-1 border-r-1 border-sky-200"},s_={class:"border-b-1 border-r-1 border-sky-200"},n_={class:"border-b-1 border-r-1 border-sky-200"},o_={class:"border-b-1 border-r-1 border-sky-200"},r_={class:"ml-2"},l_={class:"border-b-1 border-r-1 border-sky-200"},a_={class:"ml-2"},i_={class:"border-b-1 border-r-1 border-sky-200"},c_={class:"ml-2"},d_={class:"border-b-1 border-r-1 border-sky-200"},u_={class:"ml-2"},f_={class:"border-b-1 border-r-1 border-sky-200"},p_={class:"ml-2"},h_={class:"border-b-1 border-r-1 border-sky-200"},m_={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},b_={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},__={class:"border-b-1 border-r-1 border-sky-200"},g_={class:"ml-2"},v_={class:"border-b-1 border-r-1 border-sky-200"},y_={class:"ml-2"},x_={class:"border-b-1 border-r-1 border-sky-200"},w_={class:"ml-2"},C_={class:"border-b-1 border-r-1 border-sky-200"},$_={key:0,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},E_={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},sa={__name:"VehiclePresentation",props:{vehicle:{type:Object,default:null}},setup(e){const t=r=>r?new Date(r).toLocaleDateString("es-ES"):"N/A",s=r=>{switch(r){case"DISPONIBLE":return"badge-success";case"VIGENTE":return"badge-success";case"VENCIDO":return"badge-error";case"PROXIMO_A_VENCER":return"badge-warning";default:return"badge-ghost"}},o=r=>{if(!r)return!1;const l=new Date,a=new Date(r),i=Math.floor((a-l)/(1e3*60*60*24));return i<=30&&i>0};return(r,l)=>e.vehicle?(w(),S("div",Ib,[n("h5",Ob,_(e.vehicle.brand)+" "+_(e.vehicle.model),1),n("div",Pb,[l[9]||(l[9]=n("h6",{class:"font-semibold text-lg mb-3"},"Estado del Vehculo",-1)),n("div",Db,[n("div",Tb,[l[0]||(l[0]=n("span",{class:"font-medium"},"ID:",-1)),n("span",jb,_(e.vehicle.id),1)]),n("div",Nb,[l[1]||(l[1]=n("span",{class:"font-medium"},"Placa:",-1)),n("span",Mb,_(e.vehicle.no_plate),1)]),n("div",Fb,[l[2]||(l[2]=n("span",{class:"font-medium"},"Marca:",-1)),n("span",Vb,_(e.vehicle.brand),1)]),n("div",Ub,[l[3]||(l[3]=n("span",{class:"font-medium"},"Modelo:",-1)),n("span",Lb,_(e.vehicle.model),1)]),n("div",Bb,[l[4]||(l[4]=n("span",{class:"font-medium"},"Tipo:",-1)),n("span",Hb,_(e.vehicle.type_vehicle),1)]),n("div",qb,[l[5]||(l[5]=n("span",{class:"font-medium"},"Ao:",-1)),n("span",Gb,_(e.vehicle.year),1)]),n("div",Wb,[l[6]||(l[6]=n("span",{class:"font-medium"},"Estado:",-1)),n("span",{class:le(["ml-2 badge",s(e.vehicle.status_vehicle)])},_(e.vehicle.status_vehicle),3)]),n("div",Kb,[l[7]||(l[7]=n("span",{class:"font-medium"},"Nmero de Motor:",-1)),n("span",zb,_(e.vehicle.engine_number),1)]),n("div",Yb,[l[8]||(l[8]=n("span",{class:"font-medium"},"Nmero de Chasis:",-1)),n("span",Qb,_(e.vehicle.chassis_number),1)])])]),n("div",Jb,[l[20]||(l[20]=n("h6",{class:"font-semibold text-lg mb-3"},"Documentos y Certificaciones",-1)),n("div",Xb,[n("div",Zb,[l[10]||(l[10]=n("span",{class:"font-medium"},"Matrcula (Fecha):",-1)),n("span",e_,_(t(e.vehicle.date_matricula)),1)]),n("div",t_,[l[11]||(l[11]=n("span",{class:"font-medium"},"Matrcula (Vence):",-1)),n("span",{class:le(["ml-2",o(e.vehicle.due_date_matricula)?"text-warning font-semibold":""])},_(t(e.vehicle.due_date_matricula)),3)]),n("div",s_,[l[12]||(l[12]=n("span",{class:"font-medium"},"Cert. Operacional:",-1)),n("span",{class:le(["ml-2 badge",s(e.vehicle.status_cert_oper)])},_(e.vehicle.status_cert_oper),3)]),n("div",n_,[l[13]||(l[13]=n("span",{class:"font-medium"},"Cert. Oper. (Vence):",-1)),n("span",{class:le(["ml-2",o(e.vehicle.due_date_cert_oper)?"text-warning font-semibold":""])},_(t(e.vehicle.due_date_cert_oper)),3)]),n("div",o_,[l[14]||(l[14]=n("span",{class:"font-medium"},"MTOP (Fecha):",-1)),n("span",r_,_(t(e.vehicle.date_mtop)),1)]),n("div",l_,[l[15]||(l[15]=n("span",{class:"font-medium"},"MTOP (Vence):",-1)),n("span",a_,_(t(e.vehicle.due_date_mtop)),1)]),n("div",i_,[l[16]||(l[16]=n("span",{class:"font-medium"},"Revisin Tcnica:",-1)),n("span",c_,_(t(e.vehicle.date_technical_review)),1)]),n("div",d_,[l[17]||(l[17]=n("span",{class:"font-medium"},"Rev. Tcnica (Vence):",-1)),n("span",u_,_(t(e.vehicle.due_date_technical_review)),1)]),n("div",f_,[l[18]||(l[18]=n("span",{class:"font-medium"},"Satlite (Fecha):",-1)),n("span",p_,_(t(e.vehicle.date_satellite)),1)]),n("div",h_,[l[19]||(l[19]=n("span",{class:"font-medium"},"Satlite (Vence):",-1)),n("span",{class:le(["ml-2",o(e.vehicle.due_date_satellite)?"text-warning font-semibold":""])},_(t(e.vehicle.due_date_satellite)),3)])])]),n("div",m_,[l[25]||(l[25]=n("h6",{class:"font-semibold text-lg mb-3"},"Seguro",-1)),n("div",b_,[n("div",__,[l[21]||(l[21]=n("span",{class:"font-medium"},"Aseguradora:",-1)),n("span",g_,_(e.vehicle.insurance_company),1)]),n("div",v_,[l[22]||(l[22]=n("span",{class:"font-medium"},"Pliza Nro:",-1)),n("span",y_,_(e.vehicle.nro_poliza||"N/A"),1)]),n("div",x_,[l[23]||(l[23]=n("span",{class:"font-medium"},"Fecha Expedicin:",-1)),n("span",w_,_(t(e.vehicle.insurance_issue_date)),1)]),n("div",C_,[l[24]||(l[24]=n("span",{class:"font-medium"},"Vencimiento:",-1)),n("span",{class:le(["ml-2",o(e.vehicle.insurance_expiration_date)?"text-warning font-semibold":""])},_(t(e.vehicle.insurance_expiration_date)),3)])])]),e.vehicle.notes?(w(),S("div",$_,[l[26]||(l[26]=n("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),n("p",E_,_(e.vehicle.notes),1)])):J("",!0)])):J("",!0)}},S_={class:"w-[95%] mx-auto p-6"},R_={class:"bg-white rounded-lg shadow-md p-2 mb-2 border border-gray-200"},k_={class:"flex justify-between items-center"},A_={class:"text-gray-800 flex items-center gap-2 font-semibold"},I_={class:"flex gap-2"},O_={class:"grid grid-cols-1 gap-4"},P_={class:"bg-gradient-to-r from-blue-500 to-sky-600 text-white p-4 rounded-t-lg backdrop-blur-sm"},D_={class:"flex justify-between items-start"},T_={class:"flex-1"},j_={class:"flex items-center gap-3 mb-2"},N_={class:"text-xl font-bold"},M_={class:"badge text-blue-500 font-semibold bg-white px-3 py-1"},F_={class:"text-right"},V_={class:"text-2xl p1 rounded text-error bg-gray-100 w-100% font-mono border border-sky-600 border-2"},U_={class:"me-2"},L_={class:"p-2"},B_={class:"grid grid-cols-4 gap-4"},H_={class:"flex items-center gap-2"},q_={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},G_={class:"flex items-center gap-2"},W_={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},K_={class:"flex items-center gap-2"},z_={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Y_={class:"flex items-center gap-2"},Q_={class:"flex gap-1 flex-1"},J_={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},X_=["onClick"],Z_={class:"p-2 border-b bg-gray-50 border-b-gray-200"},eg={class:"grid grid-cols-4 gap-4"},tg={class:"flex items-center gap-2"},sg={class:"flex gap-1 flex-1"},ng={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},og={class:""},rg=["onClick"],lg={class:"flex items-center gap-2"},ag={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},ig={class:"flex items-center gap-2"},cg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},dg={class:"flex items-center gap-2"},ug={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},fg={class:"p-4 border-b border-b-gray-200"},pg={class:"font-semibold text-gray-700 mb-3"},hg={class:"overflow-x-auto"},mg={class:"table table-sm w-full table-zebra"},bg={class:"border border-gray-300 p-2"},_g={class:"border border-gray-300 p-2"},gg={class:"border border-gray-300 p-2 text-center"},vg={key:0},yg={class:"pt-2 pb-2"},xg={class:"flex gap-4"},wg={class:"flex gap-4"},Cg={class:"p-3 border rounded border-gray-200"},$g={class:"text-xl text-primary ml-5"},Eg={class:"p-3 border rounded border-gray-200"},Sg={class:"text-xl text-primary ml-5"},Rg={class:"p-3 border rounded border-gray-200"},kg={class:"text-xl text-primary ml-5"},Ag={class:"flex-1 border rounded p-3 border-gray-200"},Ig={class:"text-primary ml-5"},Og={class:"bg-gray-50 p-4 rounded-b-lg flex justify-between gap-2"},Pg={class:"flex gap-2"},Dg=["onClick"],Tg={key:0,class:"bg-white rounded-lg shadow-md p-8 text-center"},jg={__name:"CustodyChainView",setup(e){const t=Fe(),s=Zl(),o=ea();ht(async()=>{await t.fetchProjectData(),await s.fetchTechnicalsAvailable(),await o.fetchVehicles()});const r=Ms(),l=fe(null),a=fe(null),i=fe(!1),c=fe(!1),h=Y(()=>{if(!t.projectData?.work_orders)return[];const $=[];return t.projectData.work_orders.forEach(p=>{p.custody_chains&&p.custody_chains.forEach(C=>{$.push({...C,work_order:p})})}),$}),f=$=>{a.value=$,i.value=!0},m=$=>{l.value=$,c.value=!0},u=$=>$?$.substring(0,5):"N/A",d=$=>$?new Date($).toLocaleDateString("es-ES"):"N/A";return($,p)=>(w(),S("div",S_,[n("div",R_,[n("div",k_,[n("h1",A_,[p[6]||(p[6]=n("i",{class:"las la-file-invoice text-blue-500"},null,-1)),K(" Cadenas de Custodia - "+_(ve(t).projectData?.project?.partner_name),1)]),n("div",I_,[n("button",{class:"btn btn-secondary btn-sm",onClick:p[0]||(p[0]=C=>ve(r).push({name:"project-detail"}))},[...p[7]||(p[7]=[n("i",{class:"las la-arrow-left"},null,-1),K(" Volver ",-1)])]),n("button",{class:"btn btn-primary btn-sm",onClick:p[1]||(p[1]=C=>ve(r).push({name:"custody-chain-form"}))},[...p[8]||(p[8]=[n("i",{class:"las la-plus"},null,-1),K(" Nueva Cadena de Custodia ",-1)])])])])]),n("div",O_,[(w(!0),S(oe,null,Se(h.value,C=>(w(),S("div",{key:C.id,class:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow"},[n("div",P_,[n("div",D_,[n("div",T_,[n("div",j_,[n("h2",N_," #"+_(ve(t).projectData?.project?.id)+" "+_(ve(t).projectData?.project?.partner_name)+" - "+_(ve(t).projectData?.project?.location),1),n("span",M_,_(ve(t).projectData?.project?.cardinal_point||"N/A"),1)])]),n("div",F_,[n("div",V_,[p[9]||(p[9]=n("span",{class:"text-gray-700 ms-5"},"Nro.",-1)),n("span",U_,_(C.consecutive),1)])])])]),n("div",L_,[n("div",B_,[n("div",H_,[p[10]||(p[10]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Fecha:",-1)),n("span",q_,_(d(C.activity_date)),1)]),n("div",G_,[p[12]||(p[12]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Inicio - Fin:",-1)),n("span",W_,[K(_(u(C.start_time))+" - "+_(u(C.end_time))+" ",1),p[11]||(p[11]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),K(" "+_(C.time_duration?.toFixed(2)||"0.00")+" HRS ",1)])]),n("div",K_,[p[13]||(p[13]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Ubicacin:",-1)),n("span",z_,_(C.location),1)]),n("div",Y_,[p[16]||(p[16]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Placa Vehiculo:",-1)),n("div",Q_,[n("span",J_,[K(_(C.vehicle?.no_plate)+" ",1),p[14]||(p[14]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),K(" "+_(C.vehicle?.brand)+" "+_(C.vehicle?.model),1)]),n("button",{type:"button",class:"btn btn-sm btn-outline",onClick:j=>m(C.vehicle),title:"Ver detalles del vehculo"},[...p[15]||(p[15]=[n("i",{class:"las la-eye"},null,-1)])],8,X_)])])])]),n("div",Z_,[n("div",eg,[n("div",tg,[p[19]||(p[19]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Tcnico:",-1)),n("div",sg,[n("span",ng,[K(_(C.technical?.first_name)+" "+_(C.technical?.last_name)+" ",1),p[17]||(p[17]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),n("span",og,"CI: "+_(C.dni_driver),1)]),n("button",{type:"button",class:"btn btn-sm btn-outline",onClick:j=>f(C.technical),title:"Ver detalles del tcnico"},[...p[18]||(p[18]=[n("i",{class:"las la-eye"},null,-1)])],8,rg)])]),n("div",lg,[p[20]||(p[20]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Cargo:",-1)),n("span",ag,_(C.driver_position),1)]),n("div",ig,[p[22]||(p[22]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Contacto:",-1)),n("span",cg,[K(_(C.contact_name)+" ",1),p[21]||(p[21]=n("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),n("span",null,_(ve(t).projectData?.project?.contact_phone),1)])]),n("div",dg,[p[23]||(p[23]=n("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Empresa:",-1)),n("span",ug,_(ve(t).projectData?.project?.partner_name),1)])])]),n("div",fg,[n("h3",pg,"Detalle de Cadena de Custodia ("+_(C.details_count)+" equipos)",1),n("div",hg,[n("table",mg,[p[26]||(p[26]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white text-center"},[n("th",{class:"border border-gray-300 w-10"},"#"),n("th",{class:"border border-gray-300"},"Equipo"),n("th",{class:"border border-gray-300 w-30"},"ID Recurso"),n("th",{class:"border border-gray-300 w-30"},"Acciones")])],-1)),n("tbody",null,[(w(!0),S(oe,null,Se(C.details,(j,M)=>(w(),S("tr",{class:"hover:bg-yellow-100",key:j.id},[n("td",bg,_(M+1),1),n("td",_g,_(j.project_resource?.resource_item_name),1),n("td",gg,_(j.project_resource_id),1),p[24]||(p[24]=n("td",{class:"border border-gray-300 p-2 text-center"},[n("span",{class:"border rounded p-1 cursor-pointer bg-red-400 text-white hover:bg-red-600 font-semibold"}," Eliminar ")],-1))]))),128)),!C.details||C.details.length===0?(w(),S("tr",vg,[...p[25]||(p[25]=[n("td",{colspan:"4",class:"text-center py-4 text-gray-500"}," No hay detalles en esta cadena de custodia ",-1)])])):J("",!0)])])]),n("div",yg,[n("div",xg,[n("div",wg,[n("div",Cg,[p[27]||(p[27]=K(" Galones: ",-1)),n("span",$g,_(C.total_gallons),1)]),n("div",Eg,[p[28]||(p[28]=K(" Metro Cubicos: ",-1)),n("span",Sg,_(C.total_cubic_meters),1)]),n("div",Rg,[p[29]||(p[29]=K(" Barriles: ",-1)),n("span",kg,_(C.total_barrels),1)])]),n("div",Ag,[p[30]||(p[30]=n("span",{class:"font-semibold"},"Notas:",-1)),n("span",Ig,_(C.metadata?.notes||"Sin notas"),1)])])])]),n("div",Og,[n("button",{class:"btn btn-sm btn-primary",onClick:p[2]||(p[2]=j=>ve(r).push({name:"project-detail"}))},[...p[31]||(p[31]=[n("i",{class:"las la-arrow-left"},null,-1),K(" Volver ",-1)])]),n("div",Pg,[n("button",{class:"btn btn-sm btn-primary",onClick:j=>ve(r).push({name:"custody-chain-form",params:{id:C.id}})},[...p[32]||(p[32]=[n("i",{class:"las la-edit"},null,-1),K(" Editar ",-1)])],8,Dg),p[33]||(p[33]=n("button",{class:"btn btn-sm btn-primary"},[n("i",{class:"las la-print"}),K(" Imprimir ")],-1)),p[34]||(p[34]=n("button",{class:"btn btn-sm bg-red-600 text-white"},[n("i",{class:"las la-times-circle"}),K(" Anular ")],-1))])])]))),128)),h.value.length===0?(w(),S("div",Tg,[p[36]||(p[36]=n("i",{class:"las la-inbox text-6xl text-gray-300"},null,-1)),p[37]||(p[37]=n("p",{class:"text-gray-500 mt-4"},"No hay cadenas de custodia registradas para este proyecto",-1)),n("button",{class:"btn btn-primary btn-sm mt-4",onClick:p[3]||(p[3]=C=>ve(r).push({name:"custody-chain-form"}))},[...p[35]||(p[35]=[n("i",{class:"las la-plus"},null,-1),K(" Crear Primera Cadena ",-1)])])])):J("",!0)]),Re(Os,{"is-open":i.value,title:`Detalles del Tcnico - ${a.value?.first_name} ${a.value?.last_name}`,size:"xl",onClose:p[4]||(p[4]=C=>i.value=!1)},{default:Vt(()=>[a.value?(w(),pt(ta,{key:0,technical:a.value},null,8,["technical"])):J("",!0)]),_:1},8,["is-open","title"]),Re(Os,{"is-open":c.value,title:`Detalles del Vehculo - ${l.value?.no_plate}`,size:"xl",onClose:p[5]||(p[5]=C=>c.value=!1)},{default:Vt(()=>[l.value?(w(),pt(sa,{key:0,vehicle:l.value},null,8,["vehicle"])):J("",!0)]),_:1},8,["is-open","title"])]))}},Ng=Kt("custodyChainStore",{state:()=>({custodyChains:[],sheetProjectInfo:null,selectedCustodyChain:null,loading:!1,error:null,newCustodyChain:{id:null,id_sheet_project:null,issue_date:null,consecutive:"00000",activity_date:null,location:null,total_gallons:0,duration_hours:0}}),actions:{async fetchCustodyChainsBySheet(e){this.loading=!0,this.error=null,console.log("Fetching custody chains for sheet project ID:",e);try{const t=ue.URLAllCustodyChains.replace("${id_sheet_project}",e),s=await fetch(t,{method:"GET",headers:ue.headers});if(!s.ok)throw new Error("Failed to fetch custody chains");const o=await s.json();o.success&&o.data&&(this.custodyChains=o.data.custody_chains||[],this.sheetProjectInfo={sheet_project_id:o.data.sheet_project_id,sheet_project_code:o.data.sheet_project_code,project_id:o.data.project_id,project_name:o.data.project_name,total_chains:o.data.total_chains})}catch(t){console.error("Error fetching custody chains:",t),this.error=t.message,this.custodyChains=[],this.sheetProjectInfo=null}finally{this.loading=!1}},async addCustodyChain(e){console.log("Adding new custody chain",e);try{const t=await fetch(ue.URLCreateCustodyChain,{method:"POST",headers:ue.headers,body:JSON.stringify(e)});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to create custody chain")}const s=await t.json();return this.custodyChains.push(s.data),this.resetNewCustodyChain(),s.data}catch(t){throw console.error("Error creating custody chain:",t),t}},resetNewCustodyChain(){this.newCustodyChain={id:null,id_sheet_project:null,issue_date:new Date().toISOString().split("T")[0],consecutive:"00000",activity_date:new Date().toISOString().split("T")[0],location:null,total_gallons:0,duration_hours:0}},async fetchCustodyCapphainDetail(e){this.loading=!0,this.error=null,console.log("Fetching custody chain detail for ID:",e);try{const t=ue.URLCustodyChainDetail.replace("${id}",e),s=await fetch(t,{method:"GET",headers:ue.headers});if(!s.ok)throw new Error("Failed to fetch custody chain detail");const o=await s.json();return this.selectedCustodyChain=o.data,o.data}catch(t){throw console.error("Error fetching custody chain detail:",t),this.error=t.message,t}finally{this.loading=!1}},async updateCustodyChain(e,t){this.loading=!0,this.error=null,console.log("Updating custody chain",e,t);try{const s=ue.URLUpdateCustodyChain.replace("${id}",e),o=await fetch(s,{method:"PUT",headers:ue.headers,body:JSON.stringify(t)});if(!o.ok){const a=await o.json();throw new Error(a.message||"Failed to update custody chain")}const r=await o.json(),l=this.custodyChains.findIndex(a=>a.id===e);return l!==-1&&(this.custodyChains[l]={...this.custodyChains[l],...r.data}),r.data}catch(s){throw console.error("Error updating custody chain:",s),this.error=s.message,s}finally{this.loading=!1}}}}),Tt=e=>{if(!e)return!1;const t=new Date;return new Date(e)<t},wt=e=>{if(!e)return!1;const t=new Date,s=new Date(e),o=Math.floor((s-t)/(1e3*60*60*24));return o<=30&&o>0},Mg=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let s=!1,o=!1;return Tt(e.license_expiry_date)?(t.push({type:"error",field:"Licencia de Conducir",message:"Licencia de conducir VENCIDA"}),s=!0):wt(e.license_expiry_date)&&(t.push({type:"warning",field:"Licencia de Conducir",message:"Licencia de conducir prxima a vencer"}),o=!0),Tt(e.defensive_driving_certificate_expiry_date)?(t.push({type:"error",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva VENCIDO"}),s=!0):wt(e.defensive_driving_certificate_expiry_date)&&(t.push({type:"warning",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva prximo a vencer"}),o=!0),Tt(e.medical_certificate_expiry_date)?(t.push({type:"error",field:"Certificado Mdico",message:"Certificado mdico VENCIDO"}),s=!0):wt(e.medical_certificate_expiry_date)&&(t.push({type:"warning",field:"Certificado Mdico",message:"Certificado mdico prximo a vencer"}),o=!0),e.passes&&e.passes.length>0&&e.passes.forEach(r=>{Tt(r.fecha_caducidad)?(t.push({type:"error",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso VENCIDO"}),s=!0):wt(r.fecha_caducidad)&&(t.push({type:"warning",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso prximo a vencer"}),o=!0)}),e.is_iess_affiliated||(t.push({type:"warning",field:"IESS",message:"No est afiliado al IESS"}),o=!0),{hasErrors:s,hasWarnings:o,issues:t}},Fg=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let s=!1,o=!1;return Tt(e.due_date_matricula)?(t.push({type:"error",field:"Matrcula",message:"Matrcula VENCIDA"}),s=!0):wt(e.due_date_matricula)&&(t.push({type:"warning",field:"Matrcula",message:"Matrcula prxima a vencer"}),o=!0),e.status_cert_oper==="VENCIDO"?(t.push({type:"error",field:"Certificado Operacional",message:"Certificado operacional VENCIDO"}),s=!0):wt(e.due_date_cert_oper)&&(t.push({type:"warning",field:"Certificado Operacional",message:"Certificado operacional prximo a vencer"}),o=!0),Tt(e.due_date_technical_review)?(t.push({type:"error",field:"Revisin Tcnica",message:"Revisin tcnica VENCIDA"}),s=!0):wt(e.due_date_technical_review)&&(t.push({type:"warning",field:"Revisin Tcnica",message:"Revisin tcnica prxima a vencer"}),o=!0),Tt(e.insurance_expiration_date)?(t.push({type:"error",field:"Seguro",message:"Seguro VENCIDO"}),s=!0):wt(e.insurance_expiration_date)&&(t.push({type:"warning",field:"Seguro",message:"Seguro prximo a vencer"}),o=!0),Tt(e.due_date_satellite)?(t.push({type:"error",field:"Satlite",message:"Certificado de satlite VENCIDO"}),s=!0):wt(e.due_date_satellite)&&(t.push({type:"warning",field:"Satlite",message:"Certificado de satlite prximo a vencer"}),o=!0),{hasErrors:s,hasWarnings:o,issues:t}},na=42,oa=.158987,ra=.00378541,Vg=e=>{const t=parseFloat(e)||0;return{barrels:parseFloat((t/na).toFixed(4)),cubicMeters:parseFloat((t*ra).toFixed(4))}},Ug=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t*na).toFixed(4)),cubicMeters:parseFloat((t*oa).toFixed(4))}},Lg=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t/ra).toFixed(4)),barrels:parseFloat((t/oa).toFixed(4))}},Bg={class:"max-w-7xl mx-auto p-4"},Hg={class:"bg-white rounded-lg p-4 mb-4 border border-gray-200 shadow-sm"},qg={class:"text-xl font-semibold text-gray-800"},Gg={class:"text-sm text-gray-600 mt-1"},Wg={key:0,class:"mb-6 space-y-3"},Kg={key:0,class:"alert alert-error shadow-lg"},zg={class:"flex items-start w-full"},Yg={class:"flex-1"},Qg={class:"text-sm mt-2 space-y-1"},Jg={key:1,class:"alert alert-warning shadow-lg"},Xg={class:"flex items-start w-full"},Zg={class:"flex-1"},ev={class:"text-sm mt-2 space-y-1"},tv={key:2,class:"alert alert-error shadow-lg"},sv={class:"flex items-start w-full"},nv={class:"flex-1"},ov={class:"text-sm mt-2 space-y-1"},rv={key:3,class:"alert alert-warning shadow-lg"},lv={class:"flex items-start w-full"},av={class:"flex-1"},iv={class:"text-sm mt-2 space-y-1"},cv={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},dv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},uv={class:"form-control w-full"},fv={class:"label",for:"technical"},pv={class:"label-text font-medium"},hv={key:0,class:"badge badge-error badge-sm ml-1"},mv={key:1,class:"badge badge-warning badge-sm ml-1"},bv={class:"flex gap-2"},_v=["value"],gv={class:"form-control w-full"},vv={class:"label",for:"vehicle"},yv={class:"label-text font-medium"},xv={key:0,class:"badge badge-error badge-sm ml-1"},wv={key:1,class:"badge badge-warning badge-sm ml-1"},Cv={class:"flex gap-2"},$v=["value"],Ev={class:"form-control w-full"},Sv={class:"form-control w-full"},Rv={class:"form-control w-full"},kv={class:"form-control w-full"},Av={class:"form-control w-full"},Iv={class:"form-control w-full"},Ov={key:0,class:"label"},Pv={class:"label-text-alt text-error"},Dv={class:"form-control w-full"},Tv={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},jv={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Nv={class:"form-control w-full"},Mv={class:"form-control w-full"},Fv={class:"form-control w-full"},Vv={class:"form-control w-full"},Uv={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},Lv={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Bv={class:"form-control w-full"},Hv={class:"form-control w-full"},qv={class:"form-control w-full"},Gv={class:"form-control w-full"},Wv={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},Kv={class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},zv={class:"badge badge-primary ml-2"},Yv={class:"overflow-x-auto"},Qv={class:"table table-zebra w-full table-sm"},Jv=["onClick"],Xv={class:"border border-gray-300 text-center"},Zv=["checked","onClick"],e0={class:"border border-gray-300"},t0={class:"border border-gray-300"},s0={class:"border border-gray-300"},n0={class:"border border-gray-300 text-right font-mono"},o0={key:0},r0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},l0={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},a0={class:"form-control w-full"},i0={class:"form-control w-full"},c0={class:"form-control w-full"},d0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},u0={class:"form-control w-full"},f0={class:"flex gap-3 justify-end mt-6"},p0=["disabled"],h0=["disabled"],m0={key:0,class:"las la-save"},b0={key:1,class:"las la-spinner animate-spin"},_0={__name:"CustodyChainForm",setup(e){const t=Fe(),s=Zl(),o=ea(),r=as(),l=Ng(),a=Ms(),i=Ql(),c=fe(!1),h=fe(!1),f=fe(!1),m=Y(()=>{const V=parseInt(i.params.id);return isNaN(V)?0:V}),u=Y(()=>m.value>0),d=fe({technical:null,vehicle:null,sheet_project:null,consecutive:"",activity_date:new Date().toISOString().split("T")[0],location:"",issue_date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",time_duration:0,contact_name:"",dni_contact:"",contact_position:"",date_contact:new Date().toISOString().split("T")[0],driver_name:"",dni_driver:"",driver_position:"",driver_date:new Date().toISOString().split("T")[0],total_gallons:0,total_barrels:0,total_cubic_meters:0,notes:"",technical_name:"",technical_dni:"",technical_position:"",vehicle_plate:"",vehicle_brand:"",vehicle_model:""}),$=fe([]),p=async()=>{if(u.value)try{c.value=!0;const V=await l.fetchCustodyCapphainDetail(m.value);if(V){const v=V.custody_chain,k=V.technical,ge=V.vehicle,Te=V.details||[];d.value={technical:k?.id||null,vehicle:ge?.id||null,sheet_project:v.sheet_project_id,consecutive:v.consecutive,activity_date:v.activity_date,location:v.location,issue_date:v.issue_date||new Date().toISOString().split("T")[0],start_time:v.start_time||"",end_time:v.end_time||"",time_duration:v.time_duration||0,contact_name:v.contact_name||"",dni_contact:v.dni_contact||"",contact_position:v.contact_position||"",date_contact:v.date_contact||new Date().toISOString().split("T")[0],driver_name:v.driver_name||"",dni_driver:v.dni_driver||"",driver_position:v.driver_position||"",driver_date:v.driver_date||new Date().toISOString().split("T")[0],total_gallons:v.total_gallons||0,total_barrels:v.total_barrels||0,total_cubic_meters:v.total_cubic_meters||0,notes:v.meta?.notes||"",technical_name:k?`${k.first_name} ${k.last_name}`:"",technical_dni:k?.dni||"",technical_position:k?.work_area_display||k?.work_area||"",vehicle_plate:ge?.no_plate||"",vehicle_brand:ge?.brand||"",vehicle_model:ge?.model||""},Te.length>0&&($.value=Te.map(bt=>bt.project_resource.id))}else console.warn("Cadena de custodia no encontrada"),a.push({name:"projects-detail"})}catch(V){console.error("Error al cargar cadena de custodia:",V),alert("Error al cargar los datos de la cadena de custodia: "+V.message),a.push({name:"projects-detail"})}finally{c.value=!1}};ht(async()=>{await t.fetchProjectData(),await s.fetchTechnicalsAvailable(),await o.fetchVehicles(),await r.fetchResourcesProject(),u.value?await p():(d.value.location=t.project?.location||"",d.value.contact_name=t.project?.contact_name||"")});const C=Y(()=>r.resourcesProject.filter(V=>V.type_resource==="SERVICIO").map(V=>({...V,selected:$.value.includes(V.id)}))),j=Y(()=>C.value.filter(V=>V.selected)),M=Y(()=>s.technicals.map(V=>({id:V.id,display:`${V.first_name} ${V.last_name}`,fullData:V}))),A=Y(()=>o.vehicles.map(V=>({id:V.id,display:`${V.no_plate} - ${V.brand} ${V.model}`,fullData:V}))),x=V=>{const v=$.value.indexOf(V);v>-1?$.value.splice(v,1):$.value.push(V)},R=()=>{if(d.value.start_time&&d.value.end_time){const V=d.value.start_time.split(":"),v=d.value.end_time.split(":"),k=parseInt(V[0])*60+parseInt(V[1]),Te=parseInt(v[0])*60+parseInt(v[1])-k;d.value.time_duration=Te>0?Te:0}},G=async()=>{try{if(c.value=!0,!d.value.technical||!d.value.vehicle||j.value.length===0){alert("Por favor complete los campos requeridos y seleccione al menos un recurso");return}const V={custody_chain:{technical_id:d.value.technical,vehicle_id:d.value.vehicle,activity_date:d.value.activity_date,issue_date:d.value.issue_date,consecutive:d.value.consecutive,location:d.value.location,start_time:d.value.start_time,end_time:d.value.end_time,time_duration:d.value.time_duration,contact_name:d.value.contact_name,dni_contact:d.value.dni_contact,contact_position:d.value.contact_position,date_contact:d.value.date_contact,driver_name:d.value.driver_name,dni_driver:d.value.dni_driver,driver_position:d.value.driver_position,driver_date:d.value.driver_date,total_gallons:parseFloat(d.value.total_gallons)||0,total_barrels:parseFloat(d.value.total_barrels)||0,total_cubic_meters:parseFloat(d.value.total_cubic_meters)||0,meta:{notes:d.value.notes,id_user_updated:ue.userId||1}},details:$.value.map(v=>({project_resource_id:v}))};if(u.value){if(await l.updateCustodyChain(m.value,V)){await t.fetchProjectData();const k=t.workOrders.find(ge=>ge.status==="IN_PROGRESS");k?a.push({name:"sheet-project-view",params:{id:k.id}}):a.push({name:"projects-detail"})}}else{const v={technical_id:d.value.technical,vehicle_id:d.value.vehicle,project_id:ue.idProject,activity_date:d.value.activity_date,issue_date:d.value.issue_date,consecutive:d.value.consecutive,location:d.value.location,start_time:d.value.start_time,end_time:d.value.end_time,duration_hours:d.value.time_duration,contact_name:d.value.contact_name,dni_contact:d.value.dni_contact,contact_position:d.value.contact_position,date_contact:d.value.date_contact,driver_name:d.value.driver_name,dni_driver:d.value.dni_driver,driver_position:d.value.driver_position,driver_date:d.value.driver_date,technical_name:d.value.technical_name,technical_dni:d.value.technical_dni,technical_position:d.value.technical_position,vehicle_plate:d.value.vehicle_plate,vehicle_brand:d.value.vehicle_brand,vehicle_model:d.value.vehicle_model,total_gallons:parseFloat(d.value.total_gallons)||0,total_barrels:parseFloat(d.value.total_barrels)||0,total_cubic_meters:parseFloat(d.value.total_cubic_meters)||0,notes:d.value.notes,resources:$.value};if(await l.addCustodyChain(v)){alert("Cadena de custodia guardada exitosamente");const ge=t.workOrders.find(Te=>Te.status==="IN_PROGRESS");ge?a.push({name:"sheet-project-view",params:{id:ge.id}}):a.push({name:"projects-detail"})}}}catch(V){console.error("Error al guardar:",V),alert("Error al "+(u.value?"actualizar":"guardar")+" la cadena de custodia: "+V.message)}finally{c.value=!1}},E=()=>{re.value&&(h.value=!0)},I=()=>{ke.value&&(f.value=!0)},T=()=>{const V=t.workOrders.find(v=>v.status==="IN_PROGRESS");V?a.push({name:"sheet-project-view",params:{id:V.id}}):a.push({name:"projects-detail"})};Me(()=>t.project?.location,V=>{V&&!d.value.location&&!u.value&&(d.value.location=V)}),Me(()=>t.project?.contact_name,V=>{V&&!d.value.contact_name&&!u.value&&(d.value.contact_name=V)});const re=Y(()=>d.value.technical?s.technicals.find(V=>V.id===d.value.technical):null),ke=Y(()=>d.value.vehicle?o.vehicles.find(V=>V.id===d.value.vehicle):null),Ce=Y(()=>Mg(re.value)),ye=Y(()=>Fg(ke.value)),mt=Y(()=>Ce.value.hasErrors||Ce.value.hasWarnings||ye.value.hasErrors||ye.value.hasWarnings),ze=Y(()=>{if(!d.value.start_time||!d.value.end_time)return{isValid:!0,message:""};const V=d.value.start_time.split(":"),v=d.value.end_time.split(":"),k=parseInt(V[0])*60+parseInt(V[1]);return parseInt(v[0])*60+parseInt(v[1])<=k?{isValid:!1,message:"La hora de fin debe ser mayor que la hora de inicio"}:{isValid:!0,message:""}});Me(()=>d.value.start_time,()=>{R()}),Me(()=>d.value.end_time,()=>{R()}),Me(()=>d.value.technical,V=>{if(V&&!u.value){const v=s.technicals.find(k=>k.id===V);v&&(d.value.technical_name=`${v.first_name} ${v.last_name}`,d.value.technical_dni=v.dni,d.value.technical_position=v.work_area_display||v.work_area,d.value.driver_name=`${v.first_name} ${v.last_name}`,d.value.dni_driver=v.dni,d.value.driver_position=v.work_area_display||v.work_area,d.value.driver_date=new Date().toISOString().split("T")[0])}}),Me(()=>d.value.vehicle,V=>{if(V&&!u.value){const v=o.vehicles.find(k=>k.id===V);v&&(d.value.vehicle_plate=v.no_plate,d.value.vehicle_brand=v.brand,d.value.vehicle_model=v.model)}});const ae=fe(null);Me(()=>d.value.total_gallons,(V,v)=>{if(ae.value==="gallons"&&V!==v){const k=Vg(V);ae.value=null,d.value.total_barrels=k.barrels,d.value.total_cubic_meters=k.cubicMeters}}),Me(()=>d.value.total_barrels,(V,v)=>{if(ae.value==="barrels"&&V!==v){const k=Ug(V);ae.value=null,d.value.total_gallons=k.gallons,d.value.total_cubic_meters=k.cubicMeters}}),Me(()=>d.value.total_cubic_meters,(V,v)=>{if(ae.value==="cubicMeters"&&V!==v){const k=Lg(V);ae.value=null,d.value.total_gallons=k.gallons,d.value.total_barrels=k.barrels}});const te=()=>{ae.value="gallons"},pe=()=>{ae.value="barrels"},tt=()=>{ae.value="cubicMeters"};return(V,v)=>(w(),S("div",Bg,[n("div",Hg,[n("h2",qg,[v[23]||(v[23]=n("i",{class:"las la-link text-blue-600"},null,-1)),K(" "+_(u.value?`Editar Cadena de Custodia #${m.value}`:"Nueva Cadena de Custodia"),1)]),n("p",Gg,_(u.value?"Modifique los datos de la cadena de custodia":"Complete los datos para crear una nueva cadena de custodia"),1)]),mt.value?(w(),S("div",Wg,[Ce.value.hasErrors?(w(),S("div",Kg,[n("div",zg,[v[25]||(v[25]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("div",Yg,[v[24]||(v[24]=n("h3",{class:"font-bold"},"Problemas crticos con el tcnico seleccionado",-1)),n("ul",Qg,[(w(!0),S(oe,null,Se(Ce.value.issues.filter(k=>k.type==="error"),(k,ge)=>(w(),S("li",{key:ge},[n("strong",null,_(k.field)+":",1),K(" "+_(k.message),1)]))),128))])])])])):J("",!0),Ce.value.hasWarnings&&!Ce.value.hasErrors?(w(),S("div",Jg,[n("div",Xg,[v[27]||(v[27]=n("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),n("div",Zg,[v[26]||(v[26]=n("h3",{class:"font-bold"},"Advertencias del tcnico seleccionado",-1)),n("ul",ev,[(w(!0),S(oe,null,Se(Ce.value.issues.filter(k=>k.type==="warning"),(k,ge)=>(w(),S("li",{key:ge},[n("strong",null,_(k.field)+":",1),K(" "+_(k.message),1)]))),128))])])])])):J("",!0),ye.value.hasErrors?(w(),S("div",tv,[n("div",sv,[v[29]||(v[29]=n("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),n("div",nv,[v[28]||(v[28]=n("h3",{class:"font-bold"},"Problemas crticos con el vehculo seleccionado",-1)),n("ul",ov,[(w(!0),S(oe,null,Se(ye.value.issues.filter(k=>k.type==="error"),(k,ge)=>(w(),S("li",{key:ge},[n("strong",null,_(k.field)+":",1),K(" "+_(k.message),1)]))),128))])])])])):J("",!0),ye.value.hasWarnings&&!ye.value.hasErrors?(w(),S("div",rv,[n("div",lv,[v[31]||(v[31]=n("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),n("div",av,[v[30]||(v[30]=n("h3",{class:"font-bold"},"Advertencias del vehculo seleccionado",-1)),n("ul",iv,[(w(!0),S(oe,null,Se(ye.value.issues.filter(k=>k.type==="warning"),(k,ge)=>(w(),S("li",{key:ge},[n("strong",null,_(k.field)+":",1),K(" "+_(k.message),1)]))),128))])])])])):J("",!0)])):J("",!0),n("form",{onSubmit:As(G,["prevent"]),class:"space-y-6"},[n("div",cv,[v[50]||(v[50]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin General",-1)),n("div",dv,[n("div",uv,[n("label",fv,[n("span",pv,[v[34]||(v[34]=K(" Tcnico * ",-1)),Ce.value.hasErrors?(w(),S("span",hv,[...v[32]||(v[32]=[n("i",{class:"las la-exclamation-circle"},null,-1)])])):Ce.value.hasWarnings?(w(),S("span",mv,[...v[33]||(v[33]=[n("i",{class:"las la-exclamation-triangle"},null,-1)])])):J("",!0)])]),n("div",bv,[ne(n("select",{id:"technical","onUpdate:modelValue":v[0]||(v[0]=k=>d.value.technical=k),required:"",class:le(["select select-bordered w-full flex-1",{"select-error":Ce.value.hasErrors,"select-warning":Ce.value.hasWarnings&&!Ce.value.hasErrors}])},[v[35]||(v[35]=n("option",{value:null,disabled:""},"Seleccione un tcnico",-1)),(w(!0),S(oe,null,Se(M.value,k=>(w(),S("option",{key:k.id,value:k.id},_(k.display),9,_v))),128))],2),[[Rs,d.value.technical,void 0,{number:!0}]]),re.value?(w(),S("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:E,title:"Ver detalles del tcnico"},[...v[36]||(v[36]=[n("i",{class:"las la-eye text-lg"},null,-1)])])):J("",!0)])]),n("div",gv,[n("label",vv,[n("span",yv,[v[39]||(v[39]=K(" Vehculo * ",-1)),ye.value.hasErrors?(w(),S("span",xv,[...v[37]||(v[37]=[n("i",{class:"las la-exclamation-circle"},null,-1)])])):ye.value.hasWarnings?(w(),S("span",wv,[...v[38]||(v[38]=[n("i",{class:"las la-exclamation-triangle"},null,-1)])])):J("",!0)])]),n("div",Cv,[ne(n("select",{id:"vehicle","onUpdate:modelValue":v[1]||(v[1]=k=>d.value.vehicle=k),required:"",class:le(["select select-bordered w-full flex-1",{"select-error":ye.value.hasErrors,"select-warning":ye.value.hasWarnings&&!ye.value.hasErrors}])},[v[40]||(v[40]=n("option",{value:null,disabled:""},"Seleccione un vehculo",-1)),(w(!0),S(oe,null,Se(A.value,k=>(w(),S("option",{key:k.id,value:k.id},_(k.display),9,$v))),128))],2),[[Rs,d.value.vehicle,void 0,{number:!0}]]),ke.value?(w(),S("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:I,title:"Ver detalles del vehculo"},[...v[41]||(v[41]=[n("i",{class:"las la-eye text-lg"},null,-1)])])):J("",!0)])]),n("div",Ev,[v[42]||(v[42]=n("label",{class:"label",for:"consecutive"},[n("span",{class:"label-text font-medium"},"Consecutivo")],-1)),ne(n("input",{type:"text",id:"consecutive","onUpdate:modelValue":v[2]||(v[2]=k=>d.value.consecutive=k),readonly:"",placeholder:"Se generar automticamente",class:"input input-bordered w-full bg-gray-100"},null,512),[[de,d.value.consecutive]])]),n("div",Sv,[v[43]||(v[43]=n("label",{class:"label",for:"activity_date"},[n("span",{class:"label-text font-medium"},"Fecha de Actividad *")],-1)),ne(n("input",{type:"date",id:"activity_date","onUpdate:modelValue":v[3]||(v[3]=k=>d.value.activity_date=k),required:"",class:"input input-bordered w-full"},null,512),[[de,d.value.activity_date]])]),n("div",Rv,[v[44]||(v[44]=n("label",{class:"label",for:"location"},[n("span",{class:"label-text font-medium"},"Ubicacin")],-1)),ne(n("input",{type:"text",id:"location","onUpdate:modelValue":v[4]||(v[4]=k=>d.value.location=k),placeholder:"Ej: Bloque 31",class:"input input-bordered w-full"},null,512),[[de,d.value.location]])]),n("div",kv,[v[45]||(v[45]=n("label",{class:"label",for:"issue_date"},[n("span",{class:"label-text font-medium"},"Fecha de Emisin")],-1)),ne(n("input",{type:"date",id:"issue_date","onUpdate:modelValue":v[5]||(v[5]=k=>d.value.issue_date=k),class:"input input-bordered w-full"},null,512),[[de,d.value.issue_date]])]),n("div",Av,[v[46]||(v[46]=n("label",{class:"label",for:"start_time"},[n("span",{class:"label-text font-medium"},"Hora de Inicio")],-1)),ne(n("input",{type:"time",id:"start_time","onUpdate:modelValue":v[6]||(v[6]=k=>d.value.start_time=k),class:le(["input input-bordered w-full",{"input-error":!ze.value.isValid}])},null,2),[[de,d.value.start_time]])]),n("div",Iv,[v[48]||(v[48]=n("label",{class:"label",for:"end_time"},[n("span",{class:"label-text font-medium"},"Hora de Fin")],-1)),ne(n("input",{type:"time",id:"end_time","onUpdate:modelValue":v[7]||(v[7]=k=>d.value.end_time=k),class:le(["input input-bordered w-full",{"input-error":!ze.value.isValid}])},null,2),[[de,d.value.end_time]]),ze.value.isValid?J("",!0):(w(),S("label",Ov,[n("span",Pv,[v[47]||(v[47]=n("i",{class:"las la-exclamation-circle"},null,-1)),K(" "+_(ze.value.message),1)])]))]),n("div",Dv,[v[49]||(v[49]=n("label",{class:"label",for:"time_duration"},[n("span",{class:"label-text font-medium"},"Duracin (Minutos)")],-1)),ne(n("input",{type:"number",id:"time_duration","onUpdate:modelValue":v[8]||(v[8]=k=>d.value.time_duration=k),step:"0.01",readonly:"",class:"input input-bordered w-full bg-gray-100"},null,512),[[de,d.value.time_duration]])])])]),n("div",Tv,[v[55]||(v[55]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin del Transportista",-1)),n("div",jv,[n("div",Nv,[v[51]||(v[51]=n("label",{class:"label",for:"driver_name"},[n("span",{class:"label-text font-medium"},"Nombre de Transportista")],-1)),ne(n("input",{type:"text",id:"driver_name","onUpdate:modelValue":v[9]||(v[9]=k=>d.value.driver_name=k),placeholder:"Nombre completo",class:"input input-bordered w-full"},null,512),[[de,d.value.driver_name]])]),n("div",Mv,[v[52]||(v[52]=n("label",{class:"label",for:"dni_driver"},[n("span",{class:"label-text font-medium"},"Cdula de Transportista")],-1)),ne(n("input",{type:"text",id:"dni_driver","onUpdate:modelValue":v[10]||(v[10]=k=>d.value.dni_driver=k),placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,512),[[de,d.value.dni_driver]])]),n("div",Fv,[v[53]||(v[53]=n("label",{class:"label",for:"driver_position"},[n("span",{class:"label-text font-medium"},"Cargo de Transportista")],-1)),ne(n("input",{type:"text",id:"driver_position","onUpdate:modelValue":v[11]||(v[11]=k=>d.value.driver_position=k),placeholder:"Ej: Conductor",class:"input input-bordered w-full"},null,512),[[de,d.value.driver_position]])]),n("div",Vv,[v[54]||(v[54]=n("label",{class:"label",for:"driver_date"},[n("span",{class:"label-text font-medium"},"Fecha de Transportista")],-1)),ne(n("input",{type:"date",id:"driver_date","onUpdate:modelValue":v[12]||(v[12]=k=>d.value.driver_date=k),class:"input input-bordered w-full"},null,512),[[de,d.value.driver_date]])])])]),n("div",Uv,[v[60]||(v[60]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin de Contacto",-1)),n("div",Lv,[n("div",Bv,[v[56]||(v[56]=n("label",{class:"label",for:"contact_name"},[n("span",{class:"label-text font-medium"},"Nombre de Contacto")],-1)),ne(n("input",{type:"text",id:"contact_name","onUpdate:modelValue":v[13]||(v[13]=k=>d.value.contact_name=k),placeholder:"Nombre completo",class:"input input-bordered w-full"},null,512),[[de,d.value.contact_name]])]),n("div",Hv,[v[57]||(v[57]=n("label",{class:"label",for:"dni_contact"},[n("span",{class:"label-text font-medium"},"Cdula de Contacto")],-1)),ne(n("input",{type:"text",id:"dni_contact","onUpdate:modelValue":v[14]||(v[14]=k=>d.value.dni_contact=k),placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,512),[[de,d.value.dni_contact]])]),n("div",qv,[v[58]||(v[58]=n("label",{class:"label",for:"contact_position"},[n("span",{class:"label-text font-medium"},"Cargo de Contacto")],-1)),ne(n("input",{type:"text",id:"contact_position","onUpdate:modelValue":v[15]||(v[15]=k=>d.value.contact_position=k),placeholder:"Ej: Maquinista",class:"input input-bordered w-full"},null,512),[[de,d.value.contact_position]])]),n("div",Gv,[v[59]||(v[59]=n("label",{class:"label",for:"date_contact"},[n("span",{class:"label-text font-medium"},"Fecha de Contacto")],-1)),ne(n("input",{type:"date",id:"date_contact","onUpdate:modelValue":v[16]||(v[16]=k=>d.value.date_contact=k),class:"input input-bordered w-full"},null,512),[[de,d.value.date_contact]])])])]),n("div",Wv,[n("h6",Kv,[v[61]||(v[61]=K(" Recursos del Proyecto ",-1)),n("span",zv,_(j.value.length)+" seleccionados",1)]),n("div",Yv,[n("table",Qv,[v[63]||(v[63]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white"},[n("th",{class:"border border-gray-300 w-16 text-center"},[n("input",{type:"checkbox",class:"checkbox checkbox-sm"})]),n("th",{class:"border border-gray-300"},"#"),n("th",{class:"border border-gray-300"},"Cdigo"),n("th",{class:"border border-gray-300"},"Descripcin"),n("th",{class:"border border-gray-300 text-right"},"Costo")])],-1)),n("tbody",null,[(w(!0),S(oe,null,Se(C.value,(k,ge)=>(w(),S("tr",{key:k.id,class:le(["cursor-pointer hover:bg-blue-50",{"bg-blue-100":k.selected}]),onClick:Te=>x(k.id)},[n("td",Xv,[n("input",{type:"checkbox",class:"checkbox checkbox-sm checkbox-primary",checked:k.selected,onClick:As(Te=>x(k.id),["stop"])},null,8,Zv)]),n("td",e0,_(ge+1),1),n("td",t0,_(k.resource_item_code),1),n("td",s0,_(k.detailed_description),1),n("td",n0,"$"+_(k.cost),1)],10,Jv))),128)),C.value.length===0?(w(),S("tr",o0,[...v[62]||(v[62]=[n("td",{colspan:"5",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay recursos disponibles")],-1)])])):J("",!0)])])])]),n("div",r0,[v[67]||(v[67]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},[K(" Totales "),n("span",{class:"text-xs text-gray-500 ml-2"},"(Los valores se convierten automticamente)")],-1)),n("div",l0,[n("div",a0,[v[64]||(v[64]=n("label",{class:"label",for:"total_gallons"},[n("span",{class:"label-text font-medium"},"Total Galones")],-1)),ne(n("input",{type:"number",id:"total_gallons","onUpdate:modelValue":v[17]||(v[17]=k=>d.value.total_gallons=k),onInput:te,min:"0",step:"0.0001",class:"input input-bordered w-full",placeholder:"0.0000"},null,544),[[de,d.value.total_gallons,void 0,{number:!0}]])]),n("div",i0,[v[65]||(v[65]=n("label",{class:"label",for:"total_barrels"},[n("span",{class:"label-text font-medium"},"Total Barriles")],-1)),ne(n("input",{type:"number",id:"total_barrels","onUpdate:modelValue":v[18]||(v[18]=k=>d.value.total_barrels=k),onInput:pe,min:"0",step:"0.0001",class:"input input-bordered w-full",placeholder:"0.0000"},null,544),[[de,d.value.total_barrels,void 0,{number:!0}]])]),n("div",c0,[v[66]||(v[66]=n("label",{class:"label",for:"total_cubic_meters"},[n("span",{class:"label-text font-medium"},"Total Metros Cbicos")],-1)),ne(n("input",{type:"number",id:"total_cubic_meters","onUpdate:modelValue":v[19]||(v[19]=k=>d.value.total_cubic_meters=k),onInput:tt,min:"0",step:"0.0001",class:"input input-bordered w-full",placeholder:"0.0000"},null,544),[[de,d.value.total_cubic_meters,void 0,{number:!0}]])])])]),n("div",d0,[v[68]||(v[68]=n("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Notas",-1)),n("div",u0,[ne(n("textarea",{id:"notes","onUpdate:modelValue":v[20]||(v[20]=k=>d.value.notes=k),rows:"4",placeholder:"Observaciones o notas adicionales...",class:"textarea textarea-bordered w-full"},null,512),[[de,d.value.notes]])])]),n("div",f0,[n("button",{type:"button",class:"btn btn-outline",onClick:T,disabled:c.value},[...v[69]||(v[69]=[n("i",{class:"las la-times"},null,-1),K(" Cancelar ",-1)])],8,p0),n("button",{type:"submit",class:"btn btn-primary",disabled:c.value},[c.value?(w(),S("i",b0)):(w(),S("i",m0)),K(" "+_(c.value?"Guardando...":u.value?"Actualizar Cadena de Custodia":"Guardar Cadena de Custodia"),1)],8,h0)])],32),Re(Os,{"is-open":h.value,title:`Detalles del Tcnico - ${re.value?.first_name} ${re.value?.last_name}`,size:"xl",onClose:v[21]||(v[21]=k=>h.value=!1)},{default:Vt(()=>[re.value?(w(),pt(ta,{key:0,technical:re.value},null,8,["technical"])):J("",!0)]),_:1},8,["is-open","title"]),Re(Os,{"is-open":f.value,title:`Detalles del Vehculo - ${ke.value?.no_plate}`,size:"xl",onClose:v[22]||(v[22]=k=>f.value=!1)},{default:Vt(()=>[ke.value?(w(),pt(sa,{key:0,vehicle:ke.value},null,8,["vehicle"])):J("",!0)]),_:1},8,["is-open","title"])]))}},g0={class:"w-[95%] mx-auto p-4"},v0={class:"bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300 p-6 mb-6"},y0={class:"flex justify-between items-center border-b-blue-500 border-b pb-3 mb-4"},x0={class:"text-xl font-semibold text-blue-500"},w0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},C0={class:"bg-blue-50 rounded-lg p-4 border border-blue-200"},$0={class:"font-semibold text-blue-700 mb-3 flex items-center gap-2"},E0={class:"space-y-2 text-sm"},S0={class:"ml-2"},R0={class:"ml-2"},k0={class:"ml-2"},A0={class:"ml-2"},I0={class:"bg-sky-50 rounded-lg p-4 border border-sky-200"},O0={class:"space-y-2 text-sm"},P0={class:"ml-2 font-mono"},D0={class:"ml-2"},T0={class:"ml-2"},j0={class:"bg-white rounded-xl shadow-md border border-gray-200 p-6"},N0={class:"font-semibold text-lg mb-4 flex items-center gap-2 text-gray-800"},M0={class:"overflow-x-auto"},F0={class:"table table-zebra w-full"},V0={key:0},U0={class:"p-2 border border-gray-300 text-center"},L0={class:"p-2 border border-gray-300 font-mono"},B0={class:"p-2 border border-gray-300 text-center"},H0={class:"p-2 border border-gray-300 text-center font-mono"},q0={class:"p-2 border border-gray-300 text-center font-mono"},G0={class:"p-2 border border-gray-300 text-center font-semibold"},W0={class:"p-2 border border-gray-300"},K0={class:"p-2 border border-gray-300"},z0={key:0,class:"text-xs"},Y0={class:"font-semibold"},Q0={key:1,class:"text-gray-400"},J0={class:"p-2 border border-gray-300"},X0={key:0,class:"text-xs"},Z0={class:"font-semibold"},ey={class:"text-gray-500"},ty={key:1,class:"text-gray-400"},sy={class:"p-2 border border-gray-300 text-right font-mono"},ny={class:"p-2 border border-gray-300 text-right font-mono"},oy={class:"p-2 border border-gray-300 text-right font-mono"},ry={class:"p-2 border border-gray-300 text-center"},ly={class:"badge badge-info"},ay={class:"p-2 border border-gray-300 text-end"},iy={class:"flex gap-2 justify-end"},cy=["onClick"],dy=["onClick"],uy={key:0},fy={class:"bg-gray-500 font-bold text-white"},py={class:"p-2 border border-gray-300 text-center"},hy={class:"p-2 border border-gray-300 text-right font-mono"},my={class:"p-2 border border-gray-300 text-right font-mono"},by={class:"p-2 border border-gray-300 text-right font-mono"},_y={class:"stats shadow w-full mt-6"},gy={class:"stat"},vy={class:"stat-value text-primary"},yy={class:"stat"},xy={class:"stat-value text-info"},wy={class:"stat"},Cy={class:"stat-value text-info"},$y={class:"stat"},Ey={class:"stat-value text-info"},Sy={class:"stat"},Ry={class:"stat-value text-info"},ky={__name:"SheetProjectView",setup(e){const t=Ql(),s=Ms(),o=Fe(),r=bn(),l=Y(()=>parseInt(t.params.id)),a=Y(()=>o.project),i=Y(()=>r.getSheetProjectById(l.value)),c=Y(()=>r.getCustodyChainsForSheet(l.value)),h=A=>A?new Intl.DateTimeFormat("es-GT").format(new Date(A)):"N/A",f=A=>A||"N/A",m=A=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[A]||{text:A,class:"badge-ghost"},u=Y(()=>c.value.reduce((A,x)=>A+(x.total_gallons||0),0)),d=Y(()=>c.value.reduce((A,x)=>A+(x.total_barrels||0),0)),$=Y(()=>c.value.reduce((A,x)=>A+(x.total_cubic_meters||0),0)),p=Y(()=>c.value.reduce((A,x)=>A+parseFloat(x.time_duration||0),0).toFixed(2)),C=()=>{s.push({name:"projects-detail"})},j=A=>{s.push({name:"custody-chain-form",params:{id:A}})},M=()=>{s.push({name:"custody-chain-form",query:{sheet_id:i.value?.id}})};return ht(async()=>{a.value.id||await o.fetchProjectData()}),(A,x)=>(w(),S("div",g0,[n("div",v0,[n("div",y0,[n("h1",x0,[x[0]||(x[0]=n("i",{class:"las la-link text-2xl"},null,-1)),K(" Cadenas de Custodia - Planilla "+_(i.value?.series_code||"N/A"),1)]),n("div",{class:"flex gap-3"},[n("button",{onClick:M,class:"btn btn-primary btn-sm"},[...x[1]||(x[1]=[n("i",{class:"las la-plus"},null,-1),K(" Nueva Cadena de Custodia ",-1)])]),n("button",{onClick:C,class:"btn btn-outline btn-sm"},[...x[2]||(x[2]=[n("i",{class:"las la-arrow-left"},null,-1),K(" Volver ",-1)])])])]),n("div",w0,[n("div",C0,[n("h3",$0,[x[3]||(x[3]=n("i",{class:"las la-building"},null,-1)),K(" Informacin del Proyecto #"+_(a.value?.id||"N/A"),1)]),n("div",E0,[n("div",null,[x[4]||(x[4]=n("span",{class:"font-medium"},"Cliente:",-1)),n("span",S0,_(a.value?.partner_name||"N/A"),1)]),n("div",null,[x[5]||(x[5]=n("span",{class:"font-medium"},"Ubicacin:",-1)),n("span",R0,_(a.value?.location||"N/A")+_(a.value?.cardinal_point?" - "+a.value.cardinal_point:""),1)]),n("div",null,[x[6]||(x[6]=n("span",{class:"font-medium"},"Contacto:",-1)),n("span",k0,_(a.value?.contact_name||"N/A")+" ("+_(a.value?.contact_phone||"N/A")+")",1)]),n("div",null,[x[7]||(x[7]=n("span",{class:"font-medium"},"Fecha Inicio:",-1)),n("span",A0,_(h(a.value?.start_date)),1)])])]),n("div",I0,[x[12]||(x[12]=n("h3",{class:"font-semibold text-sky-700 mb-3 flex items-center gap-2"},[n("i",{class:"las la-file-invoice"}),K(" Informacin de la Planilla ")],-1)),n("div",O0,[n("div",null,[x[8]||(x[8]=n("span",{class:"font-medium"},"Serie:",-1)),n("span",P0,_(i.value?.series_code||"N/A"),1)]),n("div",null,[x[9]||(x[9]=n("span",{class:"font-medium"},"Estado:",-1)),n("span",{class:le(["ml-2 badge",m(i.value?.status).class])},_(m(i.value?.status).text),3)]),n("div",null,[x[10]||(x[10]=n("span",{class:"font-medium"},"Tipo Servicio:",-1)),n("span",D0,_(i.value?.service_type||"N/A"),1)]),n("div",null,[x[11]||(x[11]=n("span",{class:"font-medium"},"Perodo:",-1)),n("span",T0,_(h(i.value?.period_start))+" - "+_(i.value?.period_end?h(i.value.period_end):"En curso"),1)])])])])]),n("div",j0,[n("h2",N0,[x[13]||(x[13]=n("i",{class:"las la-list text-blue-600"},null,-1)),K(" Listado de Cadenas de Custodia ("+_(c.value.length)+") ",1)]),n("div",M0,[n("table",F0,[x[20]||(x[20]=n("thead",null,[n("tr",{class:"bg-gray-500 text-white"},[n("th",{class:"p-2 border border-gray-100 text-center"},"#"),n("th",{class:"p-2 border border-gray-100 text-center"},"Consecutivo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Actividad"),n("th",{class:"p-2 border border-gray-100 text-center"},"Hora Inicio"),n("th",{class:"p-2 border border-gray-100 text-center"},"Hora Fin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Minutos"),n("th",{class:"p-2 border border-gray-100 text-center"},"Ubicacin"),n("th",{class:"p-2 border border-gray-100 text-center"},"Tcnico"),n("th",{class:"p-2 border border-gray-100 text-center"},"Vehculo"),n("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),n("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),n("th",{class:"p-2 border border-gray-100 text-center"},"M"),n("th",{class:"p-2 border border-gray-100 text-center"},"Recursos"),n("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),n("tbody",null,[c.value.length===0?(w(),S("tr",V0,[...x[14]||(x[14]=[n("td",{colspan:"14",class:"text-center text-gray-500 py-8"},[n("i",{class:"las la-inbox text-4xl"}),n("p",null,"No hay cadenas de custodia registradas para esta planilla")],-1)])])):(w(!0),S(oe,{key:1},Se(c.value,R=>(w(),S("tr",{key:R.id},[n("td",U0,_(R.id),1),n("td",L0,_(R.consecutive),1),n("td",B0,_(h(R.activity_date)),1),n("td",H0,_(f(R.start_time)),1),n("td",q0,_(f(R.end_time)),1),n("td",G0,_(R.time_duration||0),1),n("td",W0,_(R.location||"N/A"),1),n("td",K0,[R.technical?(w(),S("div",z0,[n("div",Y0,_(R.technical.first_name)+" "+_(R.technical.last_name),1)])):(w(),S("span",Q0,"N/A"))]),n("td",J0,[R.vehicle?(w(),S("div",X0,[n("div",Z0,_(R.vehicle.no_plate),1),n("div",ey,_(R.vehicle.brand),1)])):(w(),S("span",ty,"N/A"))]),n("td",sy,_(R.total_gallons||0),1),n("td",ny,_(R.total_barrels||0),1),n("td",oy,_(R.total_cubic_meters||0),1),n("td",ry,[n("span",ly,_(R.details_count||0),1)]),n("td",ay,[n("div",iy,[n("button",{onClick:G=>j(R.id),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Ver detalle"},[...x[15]||(x[15]=[n("i",{class:"las la-eye"},null,-1),K(" VER ",-1)])],8,cy),n("button",{onClick:G=>ve(s).push({name:"custody-chain-form",params:{id:R.id}}),class:"btn btn-xs border-orange-500 text-orange-500 bg-white",title:"Editar cadena"},[...x[16]||(x[16]=[n("i",{class:"las la-edit"},null,-1),K(" EDITAR ",-1)])],8,dy)])])]))),128))]),c.value.length>0?(w(),S("tfoot",uy,[n("tr",fy,[x[17]||(x[17]=n("td",{colspan:"5",class:"p-2 border border-gray-300 text-right"},"TOTALES:",-1)),n("td",py,_(p.value)+" Mins",1),x[18]||(x[18]=n("td",{colspan:"3",class:"p-2 border border-gray-300"},null,-1)),n("td",hy,_(u.value),1),n("td",my,_(d.value),1),n("td",by,_($.value),1),x[19]||(x[19]=n("td",{colspan:"2",class:"p-2 border border-gray-300"},null,-1))])])):J("",!0)])])]),n("div",_y,[n("div",gy,[x[21]||(x[21]=n("div",{class:"stat-title"},"Total Cadenas",-1)),n("div",vy,_(c.value.length),1),x[22]||(x[22]=n("div",{class:"stat-desc"},"Registradas",-1))]),n("div",yy,[x[23]||(x[23]=n("div",{class:"stat-title"},"Horas Totales",-1)),n("div",xy,_(p.value),1),x[24]||(x[24]=n("div",{class:"stat-desc"},"Horas trabajadas",-1))]),n("div",wy,[x[25]||(x[25]=n("div",{class:"stat-title"},"Total Galones",-1)),n("div",Cy,_(u.value.toLocaleString()),1),x[26]||(x[26]=n("div",{class:"stat-desc"},"Acumulados",-1))]),n("div",$y,[x[27]||(x[27]=n("div",{class:"stat-title"},"Total Barriles",-1)),n("div",Ey,_(d.value),1),x[28]||(x[28]=n("div",{class:"stat-desc"},"Acumulados",-1))]),n("div",Sy,[x[29]||(x[29]=n("div",{class:"stat-title"},"Total M",-1)),n("div",Ry,_($.value),1),x[30]||(x[30]=n("div",{class:"stat-desc"},"Acumulados",-1))])])]))}},Ay=Fd({history:gd("/"),routes:[{path:"/",redirect:"/project"},{path:"/project",name:"projects-detail",component:Th},{path:"/resource/form",name:"resource-form",component:gm},{path:"/custody-chain",name:"custody-chain",component:jg},{path:"/custody-chain/form/:id?",name:"custody-chain-form",component:_0},{path:"/work-sheet/:id/",name:"sheet-project-view",component:ky}]}),vo=Ec(Vd);vo.use(kc());vo.use(Ay);vo.mount("#vue-app");

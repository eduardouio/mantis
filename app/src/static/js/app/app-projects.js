(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function zn(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const we={},es=[],ft=()=>{},xr=()=>!1,nn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qn=e=>e.startsWith("onUpdate:"),qe=Object.assign,Jn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ra=Object.prototype.hasOwnProperty,ve=(e,t)=>ra.call(e,t),ee=Array.isArray,ts=e=>Ps(e)==="[object Map]",is=e=>Ps(e)==="[object Set]",$o=e=>Ps(e)==="[object Date]",le=e=>typeof e=="function",Ie=e=>typeof e=="string",nt=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",wr=e=>(xe(e)||le(e))&&le(e.then)&&le(e.catch),Cr=Object.prototype.toString,Ps=e=>Cr.call(e),la=e=>Ps(e).slice(8,-1),$r=e=>Ps(e)==="[object Object]",Xn=e=>Ie(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bs=zn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),on=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},aa=/-\w/g,Vt=on(e=>e.replace(aa,t=>t.slice(1).toUpperCase())),ia=/\B([A-Z])/g,Yt=on(e=>e.replace(ia,"-$1").toLowerCase()),Er=on(e=>e.charAt(0).toUpperCase()+e.slice(1)),gn=on(e=>e?`on${Er(e)}`:""),Ft=(e,t)=>!Object.is(e,t),Bs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Sr=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},rn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Eo;const ln=()=>Eo||(Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zn(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=Ie(o)?fa(o):Zn(o);if(r)for(const l in r)t[l]=r[l]}return t}else if(Ie(e)||xe(e))return e}const ca=/;(?![^(]*\))/g,da=/:([^]+)/,ua=/\/\*[^]*?\*\//g;function fa(e){const t={};return e.replace(ua,"").split(ca).forEach(n=>{if(n){const o=n.split(da);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function se(e){let t="";if(Ie(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const o=se(e[n]);o&&(t+=o+" ")}else if(xe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const pa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ha=zn(pa);function kr(e){return!!e||e===""}function ba(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Ts(e[o],t[o]);return n}function Ts(e,t){if(e===t)return!0;let n=$o(e),o=$o(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=nt(e),o=nt(t),n||o)return e===t;if(n=ee(e),o=ee(t),n||o)return n&&o?ba(e,t):!1;if(n=xe(e),o=xe(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,l=Object.keys(t).length;if(r!==l)return!1;for(const a in e){const i=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(i&&!c||!i&&c||!Ts(e[a],t[a]))return!1}}return String(e)===String(t)}function eo(e,t){return e.findIndex(n=>Ts(n,t))}const Rr=e=>!!(e&&e.__v_isRef===!0),_=e=>Ie(e)?e:e==null?"":ee(e)||xe(e)&&(e.toString===Cr||!le(e.toString))?Rr(e)?_(e.value):JSON.stringify(e,Ar,2):String(e),Ar=(e,t)=>Rr(t)?Ar(e,t.value):ts(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],l)=>(n[vn(o,l)+" =>"]=r,n),{})}:is(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>vn(n))}:nt(t)?vn(t):xe(t)&&!ee(t)&&!$r(t)?String(t):t,vn=(e,t="")=>{var n;return nt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Fe;class Dr{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!t&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Fe;try{return Fe=this,t()}finally{Fe=n}}}on(){++this._on===1&&(this.prevScope=Fe,Fe=this)}off(){this._on>0&&--this._on===0&&(Fe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Or(e){return new Dr(e)}function Ir(){return Fe}function ma(e,t=!1){Fe&&Fe.cleanups.push(e)}let Se;const yn=new WeakSet;class Pr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yn.has(this)&&(yn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,So(this),jr(this);const t=Se,n=st;Se=this,st=!0;try{return this.fn()}finally{Mr(this),Se=t,st=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)no(t);this.deps=this.depsTail=void 0,So(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){In(this)&&this.run()}get dirty(){return In(this)}}let Tr=0,ms,_s;function Nr(e,t=!1){if(e.flags|=8,t){e.next=_s,_s=e;return}e.next=ms,ms=e}function to(){Tr++}function so(){if(--Tr>0)return;if(_s){let t=_s;for(_s=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ms;){let t=ms;for(ms=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function jr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Mr(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),no(o),_a(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function In(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Cs)||(e.globalVersion=Cs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!In(e))))return;e.flags|=2;const t=e.dep,n=Se,o=st;Se=e,st=!0;try{jr(e);const r=e.fn(e._value);(t.version===0||Ft(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Se=n,st=o,Mr(e),e.flags&=-3}}function no(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)no(l,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function _a(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let st=!0;const Vr=[];function St(){Vr.push(st),st=!1}function kt(){const e=Vr.pop();st=e===void 0?!0:e}function So(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Se;Se=void 0;try{t()}finally{Se=n}}}let Cs=0;class ga{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class oo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Se||!st||Se===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Se)n=this.activeLink=new ga(Se,this),Se.deps?(n.prevDep=Se.depsTail,Se.depsTail.nextDep=n,Se.depsTail=n):Se.deps=Se.depsTail=n,Ur(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Se.depsTail,n.nextDep=void 0,Se.depsTail.nextDep=n,Se.depsTail=n,Se.deps===n&&(Se.deps=o)}return n}trigger(t){this.version++,Cs++,this.notify(t)}notify(t){to();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{so()}}}function Ur(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Ur(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ys=new WeakMap,Wt=Symbol(""),Pn=Symbol(""),$s=Symbol("");function Ue(e,t,n){if(st&&Se){let o=Ys.get(e);o||Ys.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new oo),r.map=o,r.key=n),r.track()}}function yt(e,t,n,o,r,l){const a=Ys.get(e);if(!a){Cs++;return}const i=c=>{c&&c.trigger()};if(to(),t==="clear")a.forEach(i);else{const c=ee(e),p=c&&Xn(n);if(c&&n==="length"){const u=Number(o);a.forEach((b,f)=>{(f==="length"||f===$s||!nt(f)&&f>=u)&&i(b)})}else switch((n!==void 0||a.has(void 0))&&i(a.get(n)),p&&i(a.get($s)),t){case"add":c?p&&i(a.get("length")):(i(a.get(Wt)),ts(e)&&i(a.get(Pn)));break;case"delete":c||(i(a.get(Wt)),ts(e)&&i(a.get(Pn)));break;case"set":ts(e)&&i(a.get(Wt));break}}so()}function va(e,t){const n=Ys.get(e);return n&&n.get(t)}function Qt(e){const t=he(e);return t===e?t:(Ue(t,"iterate",$s),Ze(e)?t:t.map(Me))}function an(e){return Ue(e=he(e),"iterate",$s),e}const ya={__proto__:null,[Symbol.iterator](){return xn(this,Symbol.iterator,Me)},concat(...e){return Qt(this).concat(...e.map(t=>ee(t)?Qt(t):t))},entries(){return xn(this,"entries",e=>(e[1]=Me(e[1]),e))},every(e,t){return _t(this,"every",e,t,void 0,arguments)},filter(e,t){return _t(this,"filter",e,t,n=>n.map(Me),arguments)},find(e,t){return _t(this,"find",e,t,Me,arguments)},findIndex(e,t){return _t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _t(this,"findLast",e,t,Me,arguments)},findLastIndex(e,t){return _t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _t(this,"forEach",e,t,void 0,arguments)},includes(...e){return wn(this,"includes",e)},indexOf(...e){return wn(this,"indexOf",e)},join(e){return Qt(this).join(e)},lastIndexOf(...e){return wn(this,"lastIndexOf",e)},map(e,t){return _t(this,"map",e,t,void 0,arguments)},pop(){return us(this,"pop")},push(...e){return us(this,"push",e)},reduce(e,...t){return ko(this,"reduce",e,t)},reduceRight(e,...t){return ko(this,"reduceRight",e,t)},shift(){return us(this,"shift")},some(e,t){return _t(this,"some",e,t,void 0,arguments)},splice(...e){return us(this,"splice",e)},toReversed(){return Qt(this).toReversed()},toSorted(e){return Qt(this).toSorted(e)},toSpliced(...e){return Qt(this).toSpliced(...e)},unshift(...e){return us(this,"unshift",e)},values(){return xn(this,"values",Me)}};function xn(e,t,n){const o=an(e),r=o[t]();return o!==e&&!Ze(e)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.done||(l.value=n(l.value)),l}),r}const xa=Array.prototype;function _t(e,t,n,o,r,l){const a=an(e),i=a!==e&&!Ze(e),c=a[t];if(c!==xa[t]){const b=c.apply(e,l);return i?Me(b):b}let p=n;a!==e&&(i?p=function(b,f){return n.call(this,Me(b),f,e)}:n.length>2&&(p=function(b,f){return n.call(this,b,f,e)}));const u=c.call(a,p,o);return i&&r?r(u):u}function ko(e,t,n,o){const r=an(e);let l=n;return r!==e&&(Ze(e)?n.length>3&&(l=function(a,i,c){return n.call(this,a,i,c,e)}):l=function(a,i,c){return n.call(this,a,Me(i),c,e)}),r[t](l,...o)}function wn(e,t,n){const o=he(e);Ue(o,"iterate",$s);const r=o[t](...n);return(r===-1||r===!1)&&ao(n[0])?(n[0]=he(n[0]),o[t](...n)):r}function us(e,t,n=[]){St(),to();const o=he(e)[t].apply(e,n);return so(),kt(),o}const wa=zn("__proto__,__v_isRef,__isVue"),Lr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nt));function Ca(e){nt(e)||(e=String(e));const t=he(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class qr{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return l;if(n==="__v_raw")return o===(r?l?Pa:Wr:l?Gr:Hr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const a=ee(t);if(!r){let c;if(a&&(c=ya[n]))return c;if(n==="hasOwnProperty")return Ca}const i=Reflect.get(t,n,De(t)?t:o);if((nt(n)?Lr.has(n):wa(n))||(r||Ue(t,"get",n),l))return i;if(De(i)){const c=a&&Xn(n)?i:i.value;return r&&xe(c)?Nn(c):c}return xe(i)?r?Nn(i):Ns(i):i}}class Br extends qr{constructor(t=!1){super(!1,t)}set(t,n,o,r){let l=t[n];if(!this._isShallow){const c=Ut(l);if(!Ze(o)&&!Ut(o)&&(l=he(l),o=he(o)),!ee(t)&&De(l)&&!De(o))return c||(l.value=o),!0}const a=ee(t)&&Xn(n)?Number(n)<t.length:ve(t,n),i=Reflect.set(t,n,o,De(t)?t:r);return t===he(r)&&(a?Ft(o,l)&&yt(t,"set",n,o):yt(t,"add",n,o)),i}deleteProperty(t,n){const o=ve(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&yt(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!nt(n)||!Lr.has(n))&&Ue(t,"has",n),o}ownKeys(t){return Ue(t,"iterate",ee(t)?"length":Wt),Reflect.ownKeys(t)}}class $a extends qr{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ea=new Br,Sa=new $a,ka=new Br(!0);const Tn=e=>e,Vs=e=>Reflect.getPrototypeOf(e);function Ra(e,t,n){return function(...o){const r=this.__v_raw,l=he(r),a=ts(l),i=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,p=r[e](...o),u=n?Tn:t?zs:Me;return!t&&Ue(l,"iterate",c?Pn:Wt),{next(){const{value:b,done:f}=p.next();return f?{value:b,done:f}:{value:i?[u(b[0]),u(b[1])]:u(b),done:f}},[Symbol.iterator](){return this}}}}function Us(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Aa(e,t){const n={get(r){const l=this.__v_raw,a=he(l),i=he(r);e||(Ft(r,i)&&Ue(a,"get",r),Ue(a,"get",i));const{has:c}=Vs(a),p=t?Tn:e?zs:Me;if(c.call(a,r))return p(l.get(r));if(c.call(a,i))return p(l.get(i));l!==a&&l.get(r)},get size(){const r=this.__v_raw;return!e&&Ue(he(r),"iterate",Wt),r.size},has(r){const l=this.__v_raw,a=he(l),i=he(r);return e||(Ft(r,i)&&Ue(a,"has",r),Ue(a,"has",i)),r===i?l.has(r):l.has(r)||l.has(i)},forEach(r,l){const a=this,i=a.__v_raw,c=he(i),p=t?Tn:e?zs:Me;return!e&&Ue(c,"iterate",Wt),i.forEach((u,b)=>r.call(l,p(u),p(b),a))}};return qe(n,e?{add:Us("add"),set:Us("set"),delete:Us("delete"),clear:Us("clear")}:{add(r){!t&&!Ze(r)&&!Ut(r)&&(r=he(r));const l=he(this);return Vs(l).has.call(l,r)||(l.add(r),yt(l,"add",r,r)),this},set(r,l){!t&&!Ze(l)&&!Ut(l)&&(l=he(l));const a=he(this),{has:i,get:c}=Vs(a);let p=i.call(a,r);p||(r=he(r),p=i.call(a,r));const u=c.call(a,r);return a.set(r,l),p?Ft(l,u)&&yt(a,"set",r,l):yt(a,"add",r,l),this},delete(r){const l=he(this),{has:a,get:i}=Vs(l);let c=a.call(l,r);c||(r=he(r),c=a.call(l,r)),i&&i.call(l,r);const p=l.delete(r);return c&&yt(l,"delete",r,void 0),p},clear(){const r=he(this),l=r.size!==0,a=r.clear();return l&&yt(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Ra(r,e,t)}),n}function ro(e,t){const n=Aa(e,t);return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(ve(n,r)&&r in o?n:o,r,l)}const Da={get:ro(!1,!1)},Oa={get:ro(!1,!0)},Ia={get:ro(!0,!1)};const Hr=new WeakMap,Gr=new WeakMap,Wr=new WeakMap,Pa=new WeakMap;function Ta(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Na(e){return e.__v_skip||!Object.isExtensible(e)?0:Ta(la(e))}function Ns(e){return Ut(e)?e:lo(e,!1,Ea,Da,Hr)}function Kr(e){return lo(e,!1,ka,Oa,Gr)}function Nn(e){return lo(e,!0,Sa,Ia,Wr)}function lo(e,t,n,o,r){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=Na(e);if(l===0)return e;const a=r.get(e);if(a)return a;const i=new Proxy(e,l===2?o:n);return r.set(e,i),i}function $t(e){return Ut(e)?$t(e.__v_raw):!!(e&&e.__v_isReactive)}function Ut(e){return!!(e&&e.__v_isReadonly)}function Ze(e){return!!(e&&e.__v_isShallow)}function ao(e){return e?!!e.__v_raw:!1}function he(e){const t=e&&e.__v_raw;return t?he(t):e}function io(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&Sr(e,"__v_skip",!0),e}const Me=e=>xe(e)?Ns(e):e,zs=e=>xe(e)?Nn(e):e;function De(e){return e?e.__v_isRef===!0:!1}function ie(e){return Yr(e,!1)}function ja(e){return Yr(e,!0)}function Yr(e,t){return De(e)?e:new Ma(e,t)}class Ma{constructor(t,n){this.dep=new oo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:he(t),this._value=n?t:Me(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Ze(t)||Ut(t);t=o?t:he(t),Ft(t,n)&&(this._rawValue=t,this._value=o?t:Me(t),this.dep.trigger())}}function be(e){return De(e)?e.value:e}const Fa={get:(e,t,n)=>t==="__v_raw"?e:be(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return De(r)&&!De(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function zr(e){return $t(e)?e:new Proxy(e,Fa)}function Va(e){const t=ee(e)?new Array(e.length):{};for(const n in e)t[n]=Qr(e,n);return t}class Ua{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return va(he(this._object),this._key)}}class La{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function qa(e,t,n){return De(e)?e:le(e)?new La(e):xe(e)&&arguments.length>1?Qr(e,t,n):ie(e)}function Qr(e,t,n){const o=e[t];return De(o)?o:new Ua(e,t,n)}class Ba{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new oo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Se!==this)return Nr(this,!0),!0}get value(){const t=this.dep.track();return Fr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ha(e,t,n=!1){let o,r;return le(e)?o=e:(o=e.get,r=e.set),new Ba(o,r,n)}const Ls={},Qs=new WeakMap;let Ht;function Ga(e,t=!1,n=Ht){if(n){let o=Qs.get(n);o||Qs.set(n,o=[]),o.push(e)}}function Wa(e,t,n=we){const{immediate:o,deep:r,once:l,scheduler:a,augmentJob:i,call:c}=n,p=K=>r?K:Ze(K)||r===!1||r===0?xt(K,1):xt(K);let u,b,f,d,$=!1,y=!1;if(De(e)?(b=()=>e.value,$=Ze(e)):$t(e)?(b=()=>p(e),$=!0):ee(e)?(y=!0,$=e.some(K=>$t(K)||Ze(K)),b=()=>e.map(K=>{if(De(K))return K.value;if($t(K))return p(K);if(le(K))return c?c(K,2):K()})):le(e)?t?b=c?()=>c(e,2):e:b=()=>{if(f){St();try{f()}finally{kt()}}const K=Ht;Ht=u;try{return c?c(e,3,[d]):e(d)}finally{Ht=K}}:b=ft,t&&r){const K=b,G=r===!0?1/0:r;b=()=>xt(K(),G)}const x=Ir(),j=()=>{u.stop(),x&&x.active&&Jn(x.effects,u)};if(l&&t){const K=t;t=(...G)=>{K(...G),j()}}let F=y?new Array(e.length).fill(Ls):Ls;const W=K=>{if(!(!(u.flags&1)||!u.dirty&&!K))if(t){const G=u.run();if(r||$||(y?G.some((v,w)=>Ft(v,F[w])):Ft(G,F))){f&&f();const v=Ht;Ht=u;try{const w=[G,F===Ls?void 0:y&&F[0]===Ls?[]:F,d];F=G,c?c(t,3,w):t(...w)}finally{Ht=v}}}else u.run()};return i&&i(W),u=new Pr(b),u.scheduler=a?()=>a(W,!1):W,d=K=>Ga(K,!1,u),f=u.onStop=()=>{const K=Qs.get(u);if(K){if(c)c(K,4);else for(const G of K)G();Qs.delete(u)}},t?o?W(!0):F=u.run():a?a(W.bind(null,!0),!0):u.run(),j.pause=u.pause.bind(u),j.resume=u.resume.bind(u),j.stop=j,j}function xt(e,t=1/0,n){if(t<=0||!xe(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,De(e))xt(e.value,t,n);else if(ee(e))for(let o=0;o<e.length;o++)xt(e[o],t,n);else if(is(e)||ts(e))e.forEach(o=>{xt(o,t,n)});else if($r(e)){for(const o in e)xt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&xt(e[o],t,n)}return e}function js(e,t,n,o){try{return o?e(...o):e()}catch(r){cn(r,t,n)}}function pt(e,t,n,o){if(le(e)){const r=js(e,t,n,o);return r&&wr(r)&&r.catch(l=>{cn(l,t,n)}),r}if(ee(e)){const r=[];for(let l=0;l<e.length;l++)r.push(pt(e[l],t,n,o));return r}}function cn(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||we;if(t){let i=t.parent;const c=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let b=0;b<u.length;b++)if(u[b](e,c,p)===!1)return}i=i.parent}if(l){St(),js(l,null,10,[e,c,p]),kt();return}}Ka(e,n,r,o,a)}function Ka(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const Ge=[];let dt=-1;const ss=[];let It=null,Xt=0;const Jr=Promise.resolve();let Js=null;function dn(e){const t=Js||Jr;return e?t.then(this?e.bind(this):e):t}function Ya(e){let t=dt+1,n=Ge.length;for(;t<n;){const o=t+n>>>1,r=Ge[o],l=Es(r);l<e||l===e&&r.flags&2?t=o+1:n=o}return t}function co(e){if(!(e.flags&1)){const t=Es(e),n=Ge[Ge.length-1];!n||!(e.flags&2)&&t>=Es(n)?Ge.push(e):Ge.splice(Ya(t),0,e),e.flags|=1,Xr()}}function Xr(){Js||(Js=Jr.then(el))}function za(e){ee(e)?ss.push(...e):It&&e.id===-1?It.splice(Xt+1,0,e):e.flags&1||(ss.push(e),e.flags|=1),Xr()}function Ro(e,t,n=dt+1){for(;n<Ge.length;n++){const o=Ge[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ge.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Zr(e){if(ss.length){const t=[...new Set(ss)].sort((n,o)=>Es(n)-Es(o));if(ss.length=0,It){It.push(...t);return}for(It=t,Xt=0;Xt<It.length;Xt++){const n=It[Xt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}It=null,Xt=0}}const Es=e=>e.id==null?e.flags&2?-1:1/0:e.id;function el(e){try{for(dt=0;dt<Ge.length;dt++){const t=Ge[dt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),js(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;dt<Ge.length;dt++){const t=Ge[dt];t&&(t.flags&=-2)}dt=-1,Ge.length=0,Zr(),Js=null,(Ge.length||ss.length)&&el()}}let Le=null,tl=null;function Xs(e){const t=Le;return Le=e,tl=e&&e.type.__scopeId||null,t}function Lt(e,t=Le,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&tn(-1);const l=Xs(t);let a;try{a=e(...r)}finally{Xs(l),o._d&&tn(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function Z(e,t){if(Le===null)return e;const n=hn(Le),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[l,a,i,c=we]=t[r];l&&(le(l)&&(l={mounted:l,updated:l}),l.deep&&xt(a),o.push({dir:l,instance:n,value:a,oldValue:void 0,arg:i,modifiers:c}))}return e}function qt(e,t,n,o){const r=e.dirs,l=t&&t.dirs;for(let a=0;a<r.length;a++){const i=r[a];l&&(i.oldValue=l[a].value);let c=i.dir[o];c&&(St(),pt(c,n,8,[e.el,i,e,t]),kt())}}const Qa=Symbol("_vte"),Ja=e=>e.__isTeleport,Xa=Symbol("_leaveCb");function uo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,uo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sl(e,t){return le(e)?qe({name:e.name},t,{setup:e}):e}function nl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Zs=new WeakMap;function gs(e,t,n,o,r=!1){if(ee(e)){e.forEach(($,y)=>gs($,t&&(ee(t)?t[y]:t),n,o,r));return}if(ns(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&gs(e,t,n,o.component.subTree);return}const l=o.shapeFlag&4?hn(o.component):o.el,a=r?null:l,{i,r:c}=e,p=t&&t.r,u=i.refs===we?i.refs={}:i.refs,b=i.setupState,f=he(b),d=b===we?xr:$=>ve(f,$);if(p!=null&&p!==c){if(Ao(t),Ie(p))u[p]=null,d(p)&&(b[p]=null);else if(De(p)){p.value=null;const $=t;$.k&&(u[$.k]=null)}}if(le(c))js(c,i,12,[a,u]);else{const $=Ie(c),y=De(c);if($||y){const x=()=>{if(e.f){const j=$?d(c)?b[c]:u[c]:c.value;if(r)ee(j)&&Jn(j,l);else if(ee(j))j.includes(l)||j.push(l);else if($)u[c]=[l],d(c)&&(b[c]=u[c]);else{const F=[l];c.value=F,e.k&&(u[e.k]=F)}}else $?(u[c]=a,d(c)&&(b[c]=a)):y&&(c.value=a,e.k&&(u[e.k]=a))};if(a){const j=()=>{x(),Zs.delete(e)};j.id=-1,Zs.set(e,j),Qe(j,n)}else Ao(e),x()}}}function Ao(e){const t=Zs.get(e);t&&(t.flags|=8,Zs.delete(e))}ln().requestIdleCallback;ln().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,ol=e=>e.type.__isKeepAlive;function Za(e,t){rl(e,"a",t)}function ei(e,t){rl(e,"da",t)}function rl(e,t,n=We){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(un(t,o,n),n){let r=n.parent;for(;r&&r.parent;)ol(r.parent.vnode)&&ti(o,t,n,r),r=r.parent}}function ti(e,t,n,o){const r=un(t,e,o,!0);ll(()=>{Jn(o[t],r)},n)}function un(e,t,n=We,o=!1){if(n){const r=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...a)=>{St();const i=Ms(n),c=pt(t,n,e,a);return i(),kt(),c});return o?r.unshift(l):r.push(l),l}}const At=e=>(t,n=We)=>{(!Rs||e==="sp")&&un(e,(...o)=>t(...o),n)},si=At("bm"),bt=At("m"),ni=At("bu"),oi=At("u"),ri=At("bum"),ll=At("um"),li=At("sp"),ai=At("rtg"),ii=At("rtc");function ci(e,t=We){un("ec",e,t)}const di=Symbol.for("v-ndc");function _e(e,t,n,o){let r;const l=n,a=ee(e);if(a||Ie(e)){const i=a&&$t(e);let c=!1,p=!1;i&&(c=!Ze(e),p=Ut(e),e=an(e)),r=new Array(e.length);for(let u=0,b=e.length;u<b;u++)r[u]=t(c?p?zs(Me(e[u])):Me(e[u]):e[u],u,void 0,l)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,l)}else if(xe(e))if(e[Symbol.iterator])r=Array.from(e,(i,c)=>t(i,c,void 0,l));else{const i=Object.keys(e);r=new Array(i.length);for(let c=0,p=i.length;c<p;c++){const u=i[c];r[c]=t(e[u],u,c,l)}}else r=[];return r}function ui(e,t,n={},o,r){if(Le.ce||Le.parent&&ns(Le.parent)&&Le.parent.ce){const p=Object.keys(n).length>0;return E(),ht(re,null,[Ce("slot",n,o)],p?-2:64)}let l=e[t];l&&l._c&&(l._d=!1),E();const a=l&&al(l(n)),i=n.key||a&&a.key,c=ht(re,{key:(i&&!nt(i)?i:`_${t}`)+(!a&&o?"_fb":"")},a||[],a&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),l&&l._c&&(l._d=!0),c}function al(e){return e.some(t=>ks(t)?!(t.type===Rt||t.type===re&&!al(t.children)):!0)?e:null}const jn=e=>e?Rl(e)?hn(e):jn(e.parent):null,vs=qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jn(e.parent),$root:e=>jn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>cl(e),$forceUpdate:e=>e.f||(e.f=()=>{co(e.update)}),$nextTick:e=>e.n||(e.n=dn.bind(e.proxy)),$watch:e=>Pi.bind(e)}),Cn=(e,t)=>e!==we&&!e.__isScriptSetup&&ve(e,t),fi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:l,accessCache:a,type:i,appContext:c}=e;let p;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return l[t]}else{if(Cn(o,t))return a[t]=1,o[t];if(r!==we&&ve(r,t))return a[t]=2,r[t];if((p=e.propsOptions[0])&&ve(p,t))return a[t]=3,l[t];if(n!==we&&ve(n,t))return a[t]=4,n[t];Mn&&(a[t]=0)}}const u=vs[t];let b,f;if(u)return t==="$attrs"&&Ue(e.attrs,"get",""),u(e);if((b=i.__cssModules)&&(b=b[t]))return b;if(n!==we&&ve(n,t))return a[t]=4,n[t];if(f=c.config.globalProperties,ve(f,t))return f[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:l}=e;return Cn(r,t)?(r[t]=n,!0):o!==we&&ve(o,t)?(o[t]=n,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:l,type:a}},i){let c,p;return!!(n[i]||e!==we&&i[0]!=="$"&&ve(e,i)||Cn(t,i)||(c=l[0])&&ve(c,i)||ve(o,i)||ve(vs,i)||ve(r.config.globalProperties,i)||(p=a.__cssModules)&&p[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ve(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Do(e){return ee(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Mn=!0;function pi(e){const t=cl(e),n=e.proxy,o=e.ctx;Mn=!1,t.beforeCreate&&Oo(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:a,watch:i,provide:c,inject:p,created:u,beforeMount:b,mounted:f,beforeUpdate:d,updated:$,activated:y,deactivated:x,beforeDestroy:j,beforeUnmount:F,destroyed:W,unmounted:K,render:G,renderTracked:v,renderTriggered:w,errorCaptured:C,serverPrefetch:N,expose:P,inheritAttrs:Re,components:ce,directives:me,filters:Ae}=t;if(p&&hi(p,o,null),a)for(const ne in a){const ae=a[ne];le(ae)&&(o[ne]=ae.bind(n))}if(r){const ne=r.call(n,n);xe(ne)&&(e.data=Ns(ne))}if(Mn=!0,l)for(const ne in l){const ae=l[ne],tt=le(ae)?ae.bind(n,n):le(ae.get)?ae.get.bind(n,n):ft,rt=!le(ae)&&le(ae.set)?ae.set.bind(n):ft,Xe=Q({get:tt,set:rt});Object.defineProperty(o,ne,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:Ne=>Xe.value=Ne})}if(i)for(const ne in i)il(i[ne],o,n,ne);if(c){const ne=le(c)?c.call(n):c;Reflect.ownKeys(ne).forEach(ae=>{Hs(ae,ne[ae])})}u&&Oo(u,e,"c");function $e(ne,ae){ee(ae)?ae.forEach(tt=>ne(tt.bind(n))):ae&&ne(ae.bind(n))}if($e(si,b),$e(bt,f),$e(ni,d),$e(oi,$),$e(Za,y),$e(ei,x),$e(ci,C),$e(ii,v),$e(ai,w),$e(ri,F),$e(ll,K),$e(li,N),ee(P))if(P.length){const ne=e.exposed||(e.exposed={});P.forEach(ae=>{Object.defineProperty(ne,ae,{get:()=>n[ae],set:tt=>n[ae]=tt,enumerable:!0})})}else e.exposed||(e.exposed={});G&&e.render===ft&&(e.render=G),Re!=null&&(e.inheritAttrs=Re),ce&&(e.components=ce),me&&(e.directives=me),N&&nl(e)}function hi(e,t,n=ft){ee(e)&&(e=Fn(e));for(const o in e){const r=e[o];let l;xe(r)?"default"in r?l=et(r.from||o,r.default,!0):l=et(r.from||o):l=et(r),De(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):t[o]=l}}function Oo(e,t,n){pt(ee(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function il(e,t,n,o){let r=o.includes(".")?wl(n,o):()=>n[o];if(Ie(e)){const l=t[e];le(l)&&je(r,l)}else if(le(e))je(r,e.bind(n));else if(xe(e))if(ee(e))e.forEach(l=>il(l,t,n,o));else{const l=le(e.handler)?e.handler.bind(n):t[e.handler];le(l)&&je(r,l,e)}}function cl(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,i=l.get(t);let c;return i?c=i:!r.length&&!n&&!o?c=t:(c={},r.length&&r.forEach(p=>en(c,p,a,!0)),en(c,t,a)),xe(t)&&l.set(t,c),c}function en(e,t,n,o=!1){const{mixins:r,extends:l}=t;l&&en(e,l,n,!0),r&&r.forEach(a=>en(e,a,n,!0));for(const a in t)if(!(o&&a==="expose")){const i=bi[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const bi={data:Io,props:Po,emits:Po,methods:hs,computed:hs,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:hs,directives:hs,watch:_i,provide:Io,inject:mi};function Io(e,t){return t?e?function(){return qe(le(e)?e.call(this,this):e,le(t)?t.call(this,this):t)}:t:e}function mi(e,t){return hs(Fn(e),Fn(t))}function Fn(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Be(e,t){return e?[...new Set([].concat(e,t))]:t}function hs(e,t){return e?qe(Object.create(null),e,t):t}function Po(e,t){return e?ee(e)&&ee(t)?[...new Set([...e,...t])]:qe(Object.create(null),Do(e),Do(t??{})):t}function _i(e,t){if(!e)return t;if(!t)return e;const n=qe(Object.create(null),e);for(const o in t)n[o]=Be(e[o],t[o]);return n}function dl(){return{app:null,config:{isNativeTag:xr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gi=0;function vi(e,t){return function(o,r=null){le(o)||(o=qe({},o)),r!=null&&!xe(r)&&(r=null);const l=dl(),a=new WeakSet,i=[];let c=!1;const p=l.app={_uid:gi++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:tc,get config(){return l.config},set config(u){},use(u,...b){return a.has(u)||(u&&le(u.install)?(a.add(u),u.install(p,...b)):le(u)&&(a.add(u),u(p,...b))),p},mixin(u){return l.mixins.includes(u)||l.mixins.push(u),p},component(u,b){return b?(l.components[u]=b,p):l.components[u]},directive(u,b){return b?(l.directives[u]=b,p):l.directives[u]},mount(u,b,f){if(!c){const d=p._ceVNode||Ce(o,r);return d.appContext=l,f===!0?f="svg":f===!1&&(f=void 0),e(d,u,f),c=!0,p._container=u,u.__vue_app__=p,hn(d.component)}},onUnmount(u){i.push(u)},unmount(){c&&(pt(i,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(u,b){return l.provides[u]=b,p},runWithContext(u){const b=Kt;Kt=p;try{return u()}finally{Kt=b}}};return p}}let Kt=null;function Hs(e,t){if(We){let n=We.provides;const o=We.parent&&We.parent.provides;o===n&&(n=We.provides=Object.create(o)),n[e]=t}}function et(e,t,n=!1){const o=kl();if(o||Kt){let r=Kt?Kt._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&le(t)?t.call(o&&o.proxy):t}}function yi(){return!!(kl()||Kt)}const ul={},fl=()=>Object.create(ul),pl=e=>Object.getPrototypeOf(e)===ul;function xi(e,t,n,o=!1){const r={},l=fl();e.propsDefaults=Object.create(null),hl(e,t,r,l);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=o?r:Kr(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function wi(e,t,n,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=e,i=he(r),[c]=e.propsOptions;let p=!1;if((o||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let b=0;b<u.length;b++){let f=u[b];if(fn(e.emitsOptions,f))continue;const d=t[f];if(c)if(ve(l,f))d!==l[f]&&(l[f]=d,p=!0);else{const $=Vt(f);r[$]=Vn(c,i,$,d,e,!1)}else d!==l[f]&&(l[f]=d,p=!0)}}}else{hl(e,t,r,l)&&(p=!0);let u;for(const b in i)(!t||!ve(t,b)&&((u=Yt(b))===b||!ve(t,u)))&&(c?n&&(n[b]!==void 0||n[u]!==void 0)&&(r[b]=Vn(c,i,b,void 0,e,!0)):delete r[b]);if(l!==i)for(const b in l)(!t||!ve(t,b))&&(delete l[b],p=!0)}p&&yt(e.attrs,"set","")}function hl(e,t,n,o){const[r,l]=e.propsOptions;let a=!1,i;if(t)for(let c in t){if(bs(c))continue;const p=t[c];let u;r&&ve(r,u=Vt(c))?!l||!l.includes(u)?n[u]=p:(i||(i={}))[u]=p:fn(e.emitsOptions,c)||(!(c in o)||p!==o[c])&&(o[c]=p,a=!0)}if(l){const c=he(n),p=i||we;for(let u=0;u<l.length;u++){const b=l[u];n[b]=Vn(r,c,b,p[b],e,!ve(p,b))}}return a}function Vn(e,t,n,o,r,l){const a=e[n];if(a!=null){const i=ve(a,"default");if(i&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&le(c)){const{propsDefaults:p}=r;if(n in p)o=p[n];else{const u=Ms(r);o=p[n]=c.call(null,t),u()}}else o=c;r.ce&&r.ce._setProp(n,o)}a[0]&&(l&&!i?o=!1:a[1]&&(o===""||o===Yt(n))&&(o=!0))}return o}const Ci=new WeakMap;function bl(e,t,n=!1){const o=n?Ci:t.propsCache,r=o.get(e);if(r)return r;const l=e.props,a={},i=[];let c=!1;if(!le(e)){const u=b=>{c=!0;const[f,d]=bl(b,t,!0);qe(a,f),d&&i.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!l&&!c)return xe(e)&&o.set(e,es),es;if(ee(l))for(let u=0;u<l.length;u++){const b=Vt(l[u]);To(b)&&(a[b]=we)}else if(l)for(const u in l){const b=Vt(u);if(To(b)){const f=l[u],d=a[b]=ee(f)||le(f)?{type:f}:qe({},f),$=d.type;let y=!1,x=!0;if(ee($))for(let j=0;j<$.length;++j){const F=$[j],W=le(F)&&F.name;if(W==="Boolean"){y=!0;break}else W==="String"&&(x=!1)}else y=le($)&&$.name==="Boolean";d[0]=y,d[1]=x,(y||ve(d,"default"))&&i.push(b)}}const p=[a,i];return xe(e)&&o.set(e,p),p}function To(e){return e[0]!=="$"&&!bs(e)}const fo=e=>e==="_"||e==="_ctx"||e==="$stable",po=e=>ee(e)?e.map(ut):[ut(e)],$i=(e,t,n)=>{if(t._n)return t;const o=Lt((...r)=>po(t(...r)),n);return o._c=!1,o},ml=(e,t,n)=>{const o=e._ctx;for(const r in e){if(fo(r))continue;const l=e[r];if(le(l))t[r]=$i(r,l,o);else if(l!=null){const a=po(l);t[r]=()=>a}}},_l=(e,t)=>{const n=po(t);e.slots.default=()=>n},gl=(e,t,n)=>{for(const o in t)(n||!fo(o))&&(e[o]=t[o])},Ei=(e,t,n)=>{const o=e.slots=fl();if(e.vnode.shapeFlag&32){const r=t._;r?(gl(o,t,n),n&&Sr(o,"_",r,!0)):ml(t,o)}else t&&_l(e,t)},Si=(e,t,n)=>{const{vnode:o,slots:r}=e;let l=!0,a=we;if(o.shapeFlag&32){const i=t._;i?n&&i===1?l=!1:gl(r,t,n):(l=!t.$stable,ml(t,r)),a=t}else t&&(_l(e,t),a={default:1});if(l)for(const i in r)!fo(i)&&a[i]==null&&delete r[i]},Qe=Li;function ki(e){return Ri(e)}function Ri(e,t){const n=ln();n.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:a,createText:i,createComment:c,setText:p,setElementText:u,parentNode:b,nextSibling:f,setScopeId:d=ft,insertStaticContent:$}=e,y=(m,g,S,O=null,I=null,D=null,H=void 0,U=null,V=!!g.dynamicChildren)=>{if(m===g)return;m&&!fs(m,g)&&(O=A(m),Ne(m,I,D,!0),m=null),g.patchFlag===-2&&(V=!1,g.dynamicChildren=null);const{type:T,ref:te,shapeFlag:Y}=g;switch(T){case pn:x(m,g,S,O);break;case Rt:j(m,g,S,O);break;case Gs:m==null&&F(g,S,O,H);break;case re:ce(m,g,S,O,I,D,H,U,V);break;default:Y&1?G(m,g,S,O,I,D,H,U,V):Y&6?me(m,g,S,O,I,D,H,U,V):(Y&64||Y&128)&&T.process(m,g,S,O,I,D,H,U,V,J)}te!=null&&I?gs(te,m&&m.ref,D,g||m,!g):te==null&&m&&m.ref!=null&&gs(m.ref,null,D,m,!0)},x=(m,g,S,O)=>{if(m==null)o(g.el=i(g.children),S,O);else{const I=g.el=m.el;g.children!==m.children&&p(I,g.children)}},j=(m,g,S,O)=>{m==null?o(g.el=c(g.children||""),S,O):g.el=m.el},F=(m,g,S,O)=>{[m.el,m.anchor]=$(m.children,g,S,O,m.el,m.anchor)},W=({el:m,anchor:g},S,O)=>{let I;for(;m&&m!==g;)I=f(m),o(m,S,O),m=I;o(g,S,O)},K=({el:m,anchor:g})=>{let S;for(;m&&m!==g;)S=f(m),r(m),m=S;r(g)},G=(m,g,S,O,I,D,H,U,V)=>{if(g.type==="svg"?H="svg":g.type==="math"&&(H="mathml"),m==null)v(g,S,O,I,D,H,U,V);else{const T=m.el&&m.el._isVueCE?m.el:null;try{T&&T._beginPatch(),N(m,g,I,D,H,U,V)}finally{T&&T._endPatch()}}},v=(m,g,S,O,I,D,H,U)=>{let V,T;const{props:te,shapeFlag:Y,transition:X,dirs:oe}=m;if(V=m.el=a(m.type,D,te&&te.is,te),Y&8?u(V,m.children):Y&16&&C(m.children,V,null,O,I,$n(m,D),H,U),oe&&qt(m,null,O,"created"),w(V,m,m.scopeId,H,O),te){for(const Ee in te)Ee!=="value"&&!bs(Ee)&&l(V,Ee,null,te[Ee],D,O);"value"in te&&l(V,"value",null,te.value,D),(T=te.onVnodeBeforeMount)&&ct(T,O,m)}oe&&qt(m,null,O,"beforeMount");const pe=Ai(I,X);pe&&X.beforeEnter(V),o(V,g,S),((T=te&&te.onVnodeMounted)||pe||oe)&&Qe(()=>{T&&ct(T,O,m),pe&&X.enter(V),oe&&qt(m,null,O,"mounted")},I)},w=(m,g,S,O,I)=>{if(S&&d(m,S),O)for(let D=0;D<O.length;D++)d(m,O[D]);if(I){let D=I.subTree;if(g===D||$l(D.type)&&(D.ssContent===g||D.ssFallback===g)){const H=I.vnode;w(m,H,H.scopeId,H.slotScopeIds,I.parent)}}},C=(m,g,S,O,I,D,H,U,V=0)=>{for(let T=V;T<m.length;T++){const te=m[T]=U?Pt(m[T]):ut(m[T]);y(null,te,g,S,O,I,D,H,U)}},N=(m,g,S,O,I,D,H)=>{const U=g.el=m.el;let{patchFlag:V,dynamicChildren:T,dirs:te}=g;V|=m.patchFlag&16;const Y=m.props||we,X=g.props||we;let oe;if(S&&Bt(S,!1),(oe=X.onVnodeBeforeUpdate)&&ct(oe,S,g,m),te&&qt(g,m,S,"beforeUpdate"),S&&Bt(S,!0),(Y.innerHTML&&X.innerHTML==null||Y.textContent&&X.textContent==null)&&u(U,""),T?P(m.dynamicChildren,T,U,S,O,$n(g,I),D):H||ae(m,g,U,null,S,O,$n(g,I),D,!1),V>0){if(V&16)Re(U,Y,X,S,I);else if(V&2&&Y.class!==X.class&&l(U,"class",null,X.class,I),V&4&&l(U,"style",Y.style,X.style,I),V&8){const pe=g.dynamicProps;for(let Ee=0;Ee<pe.length;Ee++){const ye=pe[Ee],Ke=Y[ye],Ye=X[ye];(Ye!==Ke||ye==="value")&&l(U,ye,Ke,Ye,I,S)}}V&1&&m.children!==g.children&&u(U,g.children)}else!H&&T==null&&Re(U,Y,X,S,I);((oe=X.onVnodeUpdated)||te)&&Qe(()=>{oe&&ct(oe,S,g,m),te&&qt(g,m,S,"updated")},O)},P=(m,g,S,O,I,D,H)=>{for(let U=0;U<g.length;U++){const V=m[U],T=g[U],te=V.el&&(V.type===re||!fs(V,T)||V.shapeFlag&198)?b(V.el):S;y(V,T,te,null,O,I,D,H,!0)}},Re=(m,g,S,O,I)=>{if(g!==S){if(g!==we)for(const D in g)!bs(D)&&!(D in S)&&l(m,D,g[D],null,I,O);for(const D in S){if(bs(D))continue;const H=S[D],U=g[D];H!==U&&D!=="value"&&l(m,D,U,H,I,O)}"value"in S&&l(m,"value",g.value,S.value,I)}},ce=(m,g,S,O,I,D,H,U,V)=>{const T=g.el=m?m.el:i(""),te=g.anchor=m?m.anchor:i("");let{patchFlag:Y,dynamicChildren:X,slotScopeIds:oe}=g;oe&&(U=U?U.concat(oe):oe),m==null?(o(T,S,O),o(te,S,O),C(g.children||[],S,te,I,D,H,U,V)):Y>0&&Y&64&&X&&m.dynamicChildren?(P(m.dynamicChildren,X,S,I,D,H,U),(g.key!=null||I&&g===I.subTree)&&vl(m,g,!0)):ae(m,g,S,te,I,D,H,U,V)},me=(m,g,S,O,I,D,H,U,V)=>{g.slotScopeIds=U,m==null?g.shapeFlag&512?I.ctx.activate(g,S,O,H,V):Ae(g,S,O,I,D,H,V):ke(m,g,V)},Ae=(m,g,S,O,I,D,H)=>{const U=m.component=zi(m,O,I);if(ol(m)&&(U.ctx.renderer=J),Qi(U,!1,H),U.asyncDep){if(I&&I.registerDep(U,$e,H),!m.el){const V=U.subTree=Ce(Rt);j(null,V,g,S),m.placeholder=V.el}}else $e(U,m,g,S,I,D,H)},ke=(m,g,S)=>{const O=g.component=m.component;if(Vi(m,g,S))if(O.asyncDep&&!O.asyncResolved){ne(O,g,S);return}else O.next=g,O.update();else g.el=m.el,O.vnode=g},$e=(m,g,S,O,I,D,H)=>{const U=()=>{if(m.isMounted){let{next:Y,bu:X,u:oe,parent:pe,vnode:Ee}=m;{const at=yl(m);if(at){Y&&(Y.el=Ee.el,ne(m,Y,H)),at.asyncDep.then(()=>{m.isUnmounted||U()});return}}let ye=Y,Ke;Bt(m,!1),Y?(Y.el=Ee.el,ne(m,Y,H)):Y=Ee,X&&Bs(X),(Ke=Y.props&&Y.props.onVnodeBeforeUpdate)&&ct(Ke,pe,Y,Ee),Bt(m,!0);const Ye=jo(m),lt=m.subTree;m.subTree=Ye,y(lt,Ye,b(lt.el),A(lt),m,I,D),Y.el=Ye.el,ye===null&&Ui(m,Ye.el),oe&&Qe(oe,I),(Ke=Y.props&&Y.props.onVnodeUpdated)&&Qe(()=>ct(Ke,pe,Y,Ee),I)}else{let Y;const{el:X,props:oe}=g,{bm:pe,m:Ee,parent:ye,root:Ke,type:Ye}=m,lt=ns(g);Bt(m,!1),pe&&Bs(pe),!lt&&(Y=oe&&oe.onVnodeBeforeMount)&&ct(Y,ye,g),Bt(m,!0);{Ke.ce&&Ke.ce._def.shadowRoot!==!1&&Ke.ce._injectChildStyle(Ye);const at=m.subTree=jo(m);y(null,at,S,O,m,I,D),g.el=at.el}if(Ee&&Qe(Ee,I),!lt&&(Y=oe&&oe.onVnodeMounted)){const at=g;Qe(()=>ct(Y,ye,at),I)}(g.shapeFlag&256||ye&&ns(ye.vnode)&&ye.vnode.shapeFlag&256)&&m.a&&Qe(m.a,I),m.isMounted=!0,g=S=O=null}};m.scope.on();const V=m.effect=new Pr(U);m.scope.off();const T=m.update=V.run.bind(V),te=m.job=V.runIfDirty.bind(V);te.i=m,te.id=m.uid,V.scheduler=()=>co(te),Bt(m,!0),T()},ne=(m,g,S)=>{g.component=m;const O=m.vnode.props;m.vnode=g,m.next=null,wi(m,g.props,O,S),Si(m,g.children,S),St(),Ro(m),kt()},ae=(m,g,S,O,I,D,H,U,V=!1)=>{const T=m&&m.children,te=m?m.shapeFlag:0,Y=g.children,{patchFlag:X,shapeFlag:oe}=g;if(X>0){if(X&128){rt(T,Y,S,O,I,D,H,U,V);return}else if(X&256){tt(T,Y,S,O,I,D,H,U,V);return}}oe&8?(te&16&&R(T,I,D),Y!==T&&u(S,Y)):te&16?oe&16?rt(T,Y,S,O,I,D,H,U,V):R(T,I,D,!0):(te&8&&u(S,""),oe&16&&C(Y,S,O,I,D,H,U,V))},tt=(m,g,S,O,I,D,H,U,V)=>{m=m||es,g=g||es;const T=m.length,te=g.length,Y=Math.min(T,te);let X;for(X=0;X<Y;X++){const oe=g[X]=V?Pt(g[X]):ut(g[X]);y(m[X],oe,S,null,I,D,H,U,V)}T>te?R(m,I,D,!0,!1,Y):C(g,S,O,I,D,H,U,V,Y)},rt=(m,g,S,O,I,D,H,U,V)=>{let T=0;const te=g.length;let Y=m.length-1,X=te-1;for(;T<=Y&&T<=X;){const oe=m[T],pe=g[T]=V?Pt(g[T]):ut(g[T]);if(fs(oe,pe))y(oe,pe,S,null,I,D,H,U,V);else break;T++}for(;T<=Y&&T<=X;){const oe=m[Y],pe=g[X]=V?Pt(g[X]):ut(g[X]);if(fs(oe,pe))y(oe,pe,S,null,I,D,H,U,V);else break;Y--,X--}if(T>Y){if(T<=X){const oe=X+1,pe=oe<te?g[oe].el:O;for(;T<=X;)y(null,g[T]=V?Pt(g[T]):ut(g[T]),S,pe,I,D,H,U,V),T++}}else if(T>X)for(;T<=Y;)Ne(m[T],I,D,!0),T++;else{const oe=T,pe=T,Ee=new Map;for(T=pe;T<=X;T++){const ze=g[T]=V?Pt(g[T]):ut(g[T]);ze.key!=null&&Ee.set(ze.key,T)}let ye,Ke=0;const Ye=X-pe+1;let lt=!1,at=0;const ds=new Array(Ye);for(T=0;T<Ye;T++)ds[T]=0;for(T=oe;T<=Y;T++){const ze=m[T];if(Ke>=Ye){Ne(ze,I,D,!0);continue}let it;if(ze.key!=null)it=Ee.get(ze.key);else for(ye=pe;ye<=X;ye++)if(ds[ye-pe]===0&&fs(ze,g[ye])){it=ye;break}it===void 0?Ne(ze,I,D,!0):(ds[it-pe]=T+1,it>=at?at=it:lt=!0,y(ze,g[it],S,null,I,D,H,U,V),Ke++)}const xo=lt?Di(ds):es;for(ye=xo.length-1,T=Ye-1;T>=0;T--){const ze=pe+T,it=g[ze],wo=g[ze+1],Co=ze+1<te?wo.el||wo.placeholder:O;ds[T]===0?y(null,it,S,Co,I,D,H,U,V):lt&&(ye<0||T!==xo[ye]?Xe(it,S,Co,2):ye--)}}},Xe=(m,g,S,O,I=null)=>{const{el:D,type:H,transition:U,children:V,shapeFlag:T}=m;if(T&6){Xe(m.component.subTree,g,S,O);return}if(T&128){m.suspense.move(g,S,O);return}if(T&64){H.move(m,g,S,J);return}if(H===re){o(D,g,S);for(let Y=0;Y<V.length;Y++)Xe(V[Y],g,S,O);o(m.anchor,g,S);return}if(H===Gs){W(m,g,S);return}if(O!==2&&T&1&&U)if(O===0)U.beforeEnter(D),o(D,g,S),Qe(()=>U.enter(D),I);else{const{leave:Y,delayLeave:X,afterLeave:oe}=U,pe=()=>{m.ctx.isUnmounted?r(D):o(D,g,S)},Ee=()=>{D._isLeaving&&D[Xa](!0),Y(D,()=>{pe(),oe&&oe()})};X?X(D,pe,Ee):Ee()}else o(D,g,S)},Ne=(m,g,S,O=!1,I=!1)=>{const{type:D,props:H,ref:U,children:V,dynamicChildren:T,shapeFlag:te,patchFlag:Y,dirs:X,cacheIndex:oe}=m;if(Y===-2&&(I=!1),U!=null&&(St(),gs(U,null,S,m,!0),kt()),oe!=null&&(g.renderCache[oe]=void 0),te&256){g.ctx.deactivate(m);return}const pe=te&1&&X,Ee=!ns(m);let ye;if(Ee&&(ye=H&&H.onVnodeBeforeUnmount)&&ct(ye,g,m),te&6)h(m.component,S,O);else{if(te&128){m.suspense.unmount(S,O);return}pe&&qt(m,null,g,"beforeUnmount"),te&64?m.type.remove(m,g,S,J,O):T&&!T.hasOnce&&(D!==re||Y>0&&Y&64)?R(T,g,S,!1,!0):(D===re&&Y&384||!I&&te&16)&&R(V,g,S),O&&mt(m)}(Ee&&(ye=H&&H.onVnodeUnmounted)||pe)&&Qe(()=>{ye&&ct(ye,g,m),pe&&qt(m,null,g,"unmounted")},S)},mt=m=>{const{type:g,el:S,anchor:O,transition:I}=m;if(g===re){M(S,O);return}if(g===Gs){K(m);return}const D=()=>{r(S),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(m.shapeFlag&1&&I&&!I.persisted){const{leave:H,delayLeave:U}=I,V=()=>H(S,D);U?U(m.el,D,V):V()}else D()},M=(m,g)=>{let S;for(;m!==g;)S=f(m),r(m),m=S;r(g)},h=(m,g,S)=>{const{bum:O,scope:I,job:D,subTree:H,um:U,m:V,a:T}=m;No(V),No(T),O&&Bs(O),I.stop(),D&&(D.flags|=8,Ne(H,m,g,S)),U&&Qe(U,g),Qe(()=>{m.isUnmounted=!0},g)},R=(m,g,S,O=!1,I=!1,D=0)=>{for(let H=D;H<m.length;H++)Ne(m[H],g,S,O,I)},A=m=>{if(m.shapeFlag&6)return A(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const g=f(m.anchor||m.el),S=g&&g[Qa];return S?f(S):g};let q=!1;const B=(m,g,S)=>{m==null?g._vnode&&Ne(g._vnode,null,null,!0):y(g._vnode||null,m,g,null,null,null,S),g._vnode=m,q||(q=!0,Ro(),Zr(),q=!1)},J={p:y,um:Ne,m:Xe,r:mt,mt:Ae,mc:C,pc:ae,pbc:P,n:A,o:e};return{render:B,hydrate:void 0,createApp:vi(B)}}function $n({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Bt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ai(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vl(e,t,n=!1){const o=e.children,r=t.children;if(ee(o)&&ee(r))for(let l=0;l<o.length;l++){const a=o[l];let i=r[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[l]=Pt(r[l]),i.el=a.el),!n&&i.patchFlag!==-2&&vl(a,i)),i.type===pn&&i.patchFlag!==-1&&(i.el=a.el),i.type===Rt&&!i.el&&(i.el=a.el)}}function Di(e){const t=e.slice(),n=[0];let o,r,l,a,i;const c=e.length;for(o=0;o<c;o++){const p=e[o];if(p!==0){if(r=n[n.length-1],e[r]<p){t[o]=r,n.push(o);continue}for(l=0,a=n.length-1;l<a;)i=l+a>>1,e[n[i]]<p?l=i+1:a=i;p<e[n[l]]&&(l>0&&(t[o]=n[l-1]),n[l]=o)}}for(l=n.length,a=n[l-1];l-- >0;)n[l]=a,a=t[a];return n}function yl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yl(t)}function No(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Oi=Symbol.for("v-scx"),Ii=()=>et(Oi);function je(e,t,n){return xl(e,t,n)}function xl(e,t,n=we){const{immediate:o,deep:r,flush:l,once:a}=n,i=qe({},n),c=t&&o||!t&&l!=="post";let p;if(Rs){if(l==="sync"){const d=Ii();p=d.__watcherHandles||(d.__watcherHandles=[])}else if(!c){const d=()=>{};return d.stop=ft,d.resume=ft,d.pause=ft,d}}const u=We;i.call=(d,$,y)=>pt(d,u,$,y);let b=!1;l==="post"?i.scheduler=d=>{Qe(d,u&&u.suspense)}:l!=="sync"&&(b=!0,i.scheduler=(d,$)=>{$?d():co(d)}),i.augmentJob=d=>{t&&(d.flags|=4),b&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const f=Wa(e,t,i);return Rs&&(p?p.push(f):c&&f()),f}function Pi(e,t,n){const o=this.proxy,r=Ie(e)?e.includes(".")?wl(o,e):()=>o[e]:e.bind(o,o);let l;le(t)?l=t:(l=t.handler,n=t);const a=Ms(this),i=xl(r,l.bind(o),n);return a(),i}function wl(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Ti=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Vt(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function Ni(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||we;let r=n;const l=t.startsWith("update:"),a=l&&Ti(o,t.slice(7));a&&(a.trim&&(r=n.map(u=>Ie(u)?u.trim():u)),a.number&&(r=n.map(rn)));let i,c=o[i=gn(t)]||o[i=gn(Vt(t))];!c&&l&&(c=o[i=gn(Yt(t))]),c&&pt(c,e,6,r);const p=o[i+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,pt(p,e,6,r)}}const ji=new WeakMap;function Cl(e,t,n=!1){const o=n?ji:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let a={},i=!1;if(!le(e)){const c=p=>{const u=Cl(p,t,!0);u&&(i=!0,qe(a,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!l&&!i?(xe(e)&&o.set(e,null),null):(ee(l)?l.forEach(c=>a[c]=null):qe(a,l),xe(e)&&o.set(e,a),a)}function fn(e,t){return!e||!nn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,Yt(t))||ve(e,t))}function jo(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[l],slots:a,attrs:i,emit:c,render:p,renderCache:u,props:b,data:f,setupState:d,ctx:$,inheritAttrs:y}=e,x=Xs(e);let j,F;try{if(n.shapeFlag&4){const K=r||o,G=K;j=ut(p.call(G,K,u,b,d,f,$)),F=i}else{const K=t;j=ut(K.length>1?K(b,{attrs:i,slots:a,emit:c}):K(b,null)),F=t.props?i:Mi(i)}}catch(K){ys.length=0,cn(K,e,1),j=Ce(Rt)}let W=j;if(F&&y!==!1){const K=Object.keys(F),{shapeFlag:G}=W;K.length&&G&7&&(l&&K.some(Qn)&&(F=Fi(F,l)),W=os(W,F,!1,!0))}return n.dirs&&(W=os(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(n.dirs):n.dirs),n.transition&&uo(W,n.transition),j=W,Xs(x),j}const Mi=e=>{let t;for(const n in e)(n==="class"||n==="style"||nn(n))&&((t||(t={}))[n]=e[n]);return t},Fi=(e,t)=>{const n={};for(const o in e)(!Qn(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Vi(e,t,n){const{props:o,children:r,component:l}=e,{props:a,children:i,patchFlag:c}=t,p=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?Mo(o,a,p):!!a;if(c&8){const u=t.dynamicProps;for(let b=0;b<u.length;b++){const f=u[b];if(a[f]!==o[f]&&!fn(p,f))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?Mo(o,a,p):!0:!!a;return!1}function Mo(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(t[l]!==e[l]&&!fn(n,l))return!0}return!1}function Ui({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const $l=e=>e.__isSuspense;function Li(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):za(e)}const re=Symbol.for("v-fgt"),pn=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),Gs=Symbol.for("v-stc"),ys=[];let Je=null;function E(e=!1){ys.push(Je=e?null:[])}function qi(){ys.pop(),Je=ys[ys.length-1]||null}let Ss=1;function tn(e,t=!1){Ss+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function El(e){return e.dynamicChildren=Ss>0?Je||es:null,qi(),Ss>0&&Je&&Je.push(e),e}function k(e,t,n,o,r,l){return El(s(e,t,n,o,r,l,!0))}function ht(e,t,n,o,r){return El(Ce(e,t,n,o,r,!0))}function ks(e){return e?e.__v_isVNode===!0:!1}function fs(e,t){return e.type===t.type&&e.key===t.key}const Sl=({key:e})=>e??null,Ws=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ie(e)||De(e)||le(e)?{i:Le,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,r=null,l=e===re?0:1,a=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sl(t),ref:t&&Ws(t),scopeId:tl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Le};return i?(ho(c,n),l&128&&e.normalize(c)):n&&(c.shapeFlag|=Ie(n)?8:16),Ss>0&&!a&&Je&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Je.push(c),c}const Ce=Bi;function Bi(e,t=null,n=null,o=0,r=null,l=!1){if((!e||e===di)&&(e=Rt),ks(e)){const i=os(e,t,!0);return n&&ho(i,n),Ss>0&&!l&&Je&&(i.shapeFlag&6?Je[Je.indexOf(e)]=i:Je.push(i)),i.patchFlag=-2,i}if(ec(e)&&(e=e.__vccOpts),t){t=Hi(t);let{class:i,style:c}=t;i&&!Ie(i)&&(t.class=se(i)),xe(c)&&(ao(c)&&!ee(c)&&(c=qe({},c)),t.style=Zn(c))}const a=Ie(e)?1:$l(e)?128:Ja(e)?64:xe(e)?4:le(e)?2:0;return s(e,t,n,o,r,a,l,!0)}function Hi(e){return e?ao(e)||pl(e)?qe({},e):e:null}function os(e,t,n=!1,o=!1){const{props:r,ref:l,patchFlag:a,children:i,transition:c}=e,p=t?Wi(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Sl(p),ref:t&&t.ref?n&&l?ee(l)?l.concat(Ws(t)):[l,Ws(t)]:Ws(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&os(e.ssContent),ssFallback:e.ssFallback&&os(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&uo(u,c.clone(u)),u}function L(e=" ",t=0){return Ce(pn,null,e,t)}function Gi(e,t){const n=Ce(Gs,null,e);return n.staticCount=t,n}function z(e="",t=!1){return t?(E(),ht(Rt,null,e)):Ce(Rt,null,e)}function ut(e){return e==null||typeof e=="boolean"?Ce(Rt):ee(e)?Ce(re,null,e.slice()):ks(e)?Pt(e):Ce(pn,null,String(e))}function Pt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:os(e)}function ho(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ee(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),ho(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!pl(t)?t._ctx=Le:r===3&&Le&&(Le.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else le(t)?(t={default:t,_ctx:Le},n=32):(t=String(t),o&64?(n=16,t=[L(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wi(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=se([t.class,o.class]));else if(r==="style")t.style=Zn([t.style,o.style]);else if(nn(r)){const l=t[r],a=o[r];a&&l!==a&&!(ee(l)&&l.includes(a))&&(t[r]=l?[].concat(l,a):a)}else r!==""&&(t[r]=o[r])}return t}function ct(e,t,n,o=null){pt(e,t,7,[n,o])}const Ki=dl();let Yi=0;function zi(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||Ki,l={uid:Yi++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Dr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bl(o,r),emitsOptions:Cl(o,r),emit:null,emitted:null,propsDefaults:we,inheritAttrs:o.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Ni.bind(null,l),e.ce&&e.ce(l),l}let We=null;const kl=()=>We||Le;let sn,Un;{const e=ln(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),l=>{r.length>1?r.forEach(a=>a(l)):r[0](l)}};sn=t("__VUE_INSTANCE_SETTERS__",n=>We=n),Un=t("__VUE_SSR_SETTERS__",n=>Rs=n)}const Ms=e=>{const t=We;return sn(e),e.scope.on(),()=>{e.scope.off(),sn(t)}},Fo=()=>{We&&We.scope.off(),sn(null)};function Rl(e){return e.vnode.shapeFlag&4}let Rs=!1;function Qi(e,t=!1,n=!1){t&&Un(t);const{props:o,children:r}=e.vnode,l=Rl(e);xi(e,o,l,t),Ei(e,r,n||t);const a=l?Ji(e,t):void 0;return t&&Un(!1),a}function Ji(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fi);const{setup:o}=n;if(o){St();const r=e.setupContext=o.length>1?Zi(e):null,l=Ms(e),a=js(o,e,0,[e.props,r]),i=wr(a);if(kt(),l(),(i||e.sp)&&!ns(e)&&nl(e),i){if(a.then(Fo,Fo),t)return a.then(c=>{Vo(e,c)}).catch(c=>{cn(c,e,0)});e.asyncDep=a}else Vo(e,a)}else Al(e)}function Vo(e,t,n){le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=zr(t)),Al(e)}function Al(e,t,n){const o=e.type;e.render||(e.render=o.render||ft);{const r=Ms(e);St();try{pi(e)}finally{kt(),r()}}}const Xi={get(e,t){return Ue(e,"get",""),e[t]}};function Zi(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Xi),slots:e.slots,emit:e.emit,expose:t}}function hn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(zr(io(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vs)return vs[n](e)},has(t,n){return n in t||n in vs}})):e.proxy}function ec(e){return le(e)&&"__vccOpts"in e}const Q=(e,t)=>Ha(e,t,Rs);function Dl(e,t,n){try{tn(-1);const o=arguments.length;return o===2?xe(t)&&!ee(t)?ks(t)?Ce(e,null,[t]):Ce(e,t):Ce(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&ks(n)&&(n=[n]),Ce(e,t,n))}finally{tn(1)}}const tc="3.5.24";let Ln;const Uo=typeof window<"u"&&window.trustedTypes;if(Uo)try{Ln=Uo.createPolicy("vue",{createHTML:e=>e})}catch{}const Ol=Ln?e=>Ln.createHTML(e):e=>e,sc="http://www.w3.org/2000/svg",nc="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,Lo=vt&&vt.createElement("template"),oc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?vt.createElementNS(sc,e):t==="mathml"?vt.createElementNS(nc,e):n?vt.createElement(e,{is:n}):vt.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>vt.createTextNode(e),createComment:e=>vt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,l){const a=n?n.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===l||!(r=r.nextSibling)););else{Lo.innerHTML=Ol(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const i=Lo.content;if(o==="svg"||o==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},rc=Symbol("_vtc");function lc(e,t,n){const o=e[rc];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const qo=Symbol("_vod"),ac=Symbol("_vsh"),ic=Symbol(""),cc=/(?:^|;)\s*display\s*:/;function dc(e,t,n){const o=e.style,r=Ie(n);let l=!1;if(n&&!r){if(t)if(Ie(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();n[i]==null&&Ks(o,i,"")}else for(const a in t)n[a]==null&&Ks(o,a,"");for(const a in n)a==="display"&&(l=!0),Ks(o,a,n[a])}else if(r){if(t!==n){const a=o[ic];a&&(n+=";"+a),o.cssText=n,l=cc.test(n)}}else t&&e.removeAttribute("style");qo in e&&(e[qo]=l?o.display:"",e[ac]&&(o.display="none"))}const Bo=/\s*!important$/;function Ks(e,t,n){if(ee(n))n.forEach(o=>Ks(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=uc(e,t);Bo.test(n)?e.setProperty(Yt(o),n.replace(Bo,""),"important"):e[o]=n}}const Ho=["Webkit","Moz","ms"],En={};function uc(e,t){const n=En[t];if(n)return n;let o=Vt(t);if(o!=="filter"&&o in e)return En[t]=o;o=Er(o);for(let r=0;r<Ho.length;r++){const l=Ho[r]+o;if(l in e)return En[t]=l}return t}const Go="http://www.w3.org/1999/xlink";function Wo(e,t,n,o,r,l=ha(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Go,t.slice(6,t.length)):e.setAttributeNS(Go,t,n):n==null||l&&!kr(n)?e.removeAttribute(t):e.setAttribute(t,l?"":nt(n)?String(n):n)}function Ko(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ol(n):n);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const i=l==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(i!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=kr(n):n==null&&i==="string"?(n="",a=!0):i==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(r||t)}function jt(e,t,n,o){e.addEventListener(t,n,o)}function fc(e,t,n,o){e.removeEventListener(t,n,o)}const Yo=Symbol("_vei");function pc(e,t,n,o,r=null){const l=e[Yo]||(e[Yo]={}),a=l[t];if(o&&a)a.value=o;else{const[i,c]=hc(t);if(o){const p=l[t]=_c(o,r);jt(e,i,p,c)}else a&&(fc(e,i,a,c),l[t]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function hc(e){let t;if(zo.test(e)){t={};let o;for(;o=e.match(zo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let Sn=0;const bc=Promise.resolve(),mc=()=>Sn||(bc.then(()=>Sn=0),Sn=Date.now());function _c(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;pt(gc(o,n.value),t,5,[o])};return n.value=e,n.attached=mc(),n}function gc(e,t){if(ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Qo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vc=(e,t,n,o,r,l)=>{const a=r==="svg";t==="class"?lc(e,o,a):t==="style"?dc(e,n,o):nn(t)?Qn(t)||pc(e,t,n,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yc(e,t,o,a))?(Ko(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wo(e,t,o,a,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ie(o))?Ko(e,Vt(t),o,l,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Wo(e,t,o,a))};function yc(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Qo(t)&&le(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Qo(t)&&Ie(n)?!1:t in e}const rs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ee(t)?n=>Bs(t,n):t};function xc(e){e.target.composing=!0}function Jo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Et=Symbol("_assign");function Xo(e,t,n){return t&&(e=e.trim()),n&&(e=rn(e)),e}const de={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[Et]=rs(r);const l=o||r.props&&r.props.type==="number";jt(e,t?"change":"input",a=>{a.target.composing||e[Et](Xo(e.value,n,l))}),(n||l)&&jt(e,"change",()=>{e.value=Xo(e.value,n,l)}),t||(jt(e,"compositionstart",xc),jt(e,"compositionend",Jo),jt(e,"change",Jo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:l}},a){if(e[Et]=rs(a),e.composing)return;const i=(l||e.type==="number")&&!/^0\d/.test(e.value)?rn(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===c)||(e.value=c))}},Tt={deep:!0,created(e,t,n){e[Et]=rs(n),jt(e,"change",()=>{const o=e._modelValue,r=As(e),l=e.checked,a=e[Et];if(ee(o)){const i=eo(o,r),c=i!==-1;if(l&&!c)a(o.concat(r));else if(!l&&c){const p=[...o];p.splice(i,1),a(p)}}else if(is(o)){const i=new Set(o);l?i.add(r):i.delete(r),a(i)}else a(Il(e,l))})},mounted:Zo,beforeUpdate(e,t,n){e[Et]=rs(n),Zo(e,t,n)}};function Zo(e,{value:t,oldValue:n},o){e._modelValue=t;let r;if(ee(t))r=eo(t,o.props.value)>-1;else if(is(t))r=t.has(o.props.value);else{if(t===n)return;r=Ts(t,Il(e,!0))}e.checked!==r&&(e.checked=r)}const Ct={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=is(t);jt(e,"change",()=>{const l=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?rn(As(a)):As(a));e[Et](e.multiple?r?new Set(l):l:l[0]),e._assigning=!0,dn(()=>{e._assigning=!1})}),e[Et]=rs(o)},mounted(e,{value:t}){er(e,t)},beforeUpdate(e,t,n){e[Et]=rs(n)},updated(e,{value:t}){e._assigning||er(e,t)}};function er(e,t){const n=e.multiple,o=ee(t);if(!(n&&!o&&!is(t))){for(let r=0,l=e.options.length;r<l;r++){const a=e.options[r],i=As(a);if(n)if(o){const c=typeof i;c==="string"||c==="number"?a.selected=t.some(p=>String(p)===String(i)):a.selected=eo(t,i)>-1}else a.selected=t.has(i);else if(Ts(As(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function As(e){return"_value"in e?e._value:e.value}function Il(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const wc=["ctrl","shift","alt","meta"],Cc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wc.some(n=>e[`${n}Key`]&&!t.includes(n))},Ds=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((r,...l)=>{for(let a=0;a<t.length;a++){const i=Cc[t[a]];if(i&&i(r,t))return}return e(r,...l)}))},$c=qe({patchProp:vc},oc);let tr;function Ec(){return tr||(tr=ki($c))}const Sc=((...e)=>{const t=Ec().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=Rc(o);if(!r)return;const l=t._component;!le(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,kc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function kc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rc(e){return Ie(e)?document.querySelector(e):e}let Pl;const bn=e=>Pl=e,Tl=Symbol();function qn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var xs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(xs||(xs={}));function Ac(){const e=Or(!0),t=e.run(()=>ie({}));let n=[],o=[];const r=io({install(l){bn(r),r._a=l,l.provide(Tl,r),l.config.globalProperties.$pinia=r,o.forEach(a=>n.push(a)),o=[]},use(l){return this._a?n.push(l):o.push(l),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Nl=()=>{};function sr(e,t,n,o=Nl){e.add(t);const r=()=>{e.delete(t)&&o()};return!n&&Ir()&&ma(r),r}function Jt(e,...t){e.forEach(n=>{n(...t)})}const Dc=e=>e(),nr=Symbol(),kn=Symbol();function Bn(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];qn(r)&&qn(o)&&e.hasOwnProperty(n)&&!De(o)&&!$t(o)?e[n]=Bn(r,o):e[n]=o}return e}const Oc=Symbol();function Ic(e){return!qn(e)||!Object.prototype.hasOwnProperty.call(e,Oc)}const{assign:Ot}=Object;function Pc(e){return!!(De(e)&&e.effect)}function Tc(e,t,n,o){const{state:r,actions:l,getters:a}=t,i=n.state.value[e];let c;function p(){i||(n.state.value[e]=r?r():{});const u=Va(n.state.value[e]);return Ot(u,l,Object.keys(a||{}).reduce((b,f)=>(b[f]=io(Q(()=>{bn(n);const d=n._s.get(e);return a[f].call(d,d)})),b),{}))}return c=jl(e,p,t,n,o,!0),c}function jl(e,t,n={},o,r,l){let a;const i=Ot({actions:{}},n),c={deep:!0};let p,u,b=new Set,f=new Set,d;const $=o.state.value[e];!l&&!$&&(o.state.value[e]={}),ie({});let y;function x(C){let N;p=u=!1,typeof C=="function"?(C(o.state.value[e]),N={type:xs.patchFunction,storeId:e,events:d}):(Bn(o.state.value[e],C),N={type:xs.patchObject,payload:C,storeId:e,events:d});const P=y=Symbol();dn().then(()=>{y===P&&(p=!0)}),u=!0,Jt(b,N,o.state.value[e])}const j=l?function(){const{state:N}=n,P=N?N():{};this.$patch(Re=>{Ot(Re,P)})}:Nl;function F(){a.stop(),b.clear(),f.clear(),o._s.delete(e)}const W=(C,N="")=>{if(nr in C)return C[kn]=N,C;const P=function(){bn(o);const Re=Array.from(arguments),ce=new Set,me=new Set;function Ae(ne){ce.add(ne)}function ke(ne){me.add(ne)}Jt(f,{args:Re,name:P[kn],store:G,after:Ae,onError:ke});let $e;try{$e=C.apply(this&&this.$id===e?this:G,Re)}catch(ne){throw Jt(me,ne),ne}return $e instanceof Promise?$e.then(ne=>(Jt(ce,ne),ne)).catch(ne=>(Jt(me,ne),Promise.reject(ne))):(Jt(ce,$e),$e)};return P[nr]=!0,P[kn]=N,P},K={_p:o,$id:e,$onAction:sr.bind(null,f),$patch:x,$reset:j,$subscribe(C,N={}){const P=sr(b,C,N.detached,()=>Re()),Re=a.run(()=>je(()=>o.state.value[e],ce=>{(N.flush==="sync"?u:p)&&C({storeId:e,type:xs.direct,events:d},ce)},Ot({},c,N)));return P},$dispose:F},G=Ns(K);o._s.set(e,G);const w=(o._a&&o._a.runWithContext||Dc)(()=>o._e.run(()=>(a=Or()).run(()=>t({action:W}))));for(const C in w){const N=w[C];if(De(N)&&!Pc(N)||$t(N))l||($&&Ic(N)&&(De(N)?N.value=$[C]:Bn(N,$[C])),o.state.value[e][C]=N);else if(typeof N=="function"){const P=W(N,C);w[C]=P,i.actions[C]=N}}return Ot(G,w),Ot(he(G),w),Object.defineProperty(G,"$state",{get:()=>o.state.value[e],set:C=>{x(N=>{Ot(N,C)})}}),o._p.forEach(C=>{Ot(G,a.run(()=>C({store:G,app:o._a,pinia:o,options:i})))}),$&&l&&n.hydrate&&n.hydrate(G.$state,$),p=!0,u=!0,G}function zt(e,t,n){let o;const r=typeof t=="function";o=r?n:t;function l(a,i){const c=yi();return a=a||(c?et(Tl,null):null),a&&bn(a),a=Pl,a._s.has(e)||(r?jl(e,t,o,a):Tc(e,o,a)),a._s.get(e)}return l.$id=e,l}function Nc(e){const t=he(e),n={};for(const o in t){const r=t[o];r.effect?n[o]=Q({get:()=>e[o],set(l){e[o]=l}}):(De(r)||$t(r))&&(n[o]=qa(e,o))}return n}const Zt=typeof document<"u";function Ml(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jc(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ml(e.default)}const ge=Object.assign;function Rn(e,t){const n={};for(const o in t){const r=t[o];n[o]=ot(r)?r.map(e):e(r)}return n}const ws=()=>{},ot=Array.isArray;function or(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}const Fl=/#/g,Mc=/&/g,Fc=/\//g,Vc=/=/g,Uc=/\?/g,Vl=/\+/g,Lc=/%5B/g,qc=/%5D/g,Ul=/%5E/g,Bc=/%60/g,Ll=/%7B/g,Hc=/%7C/g,ql=/%7D/g,Gc=/%20/g;function bo(e){return e==null?"":encodeURI(""+e).replace(Hc,"|").replace(Lc,"[").replace(qc,"]")}function Wc(e){return bo(e).replace(Ll,"{").replace(ql,"}").replace(Ul,"^")}function Hn(e){return bo(e).replace(Vl,"%2B").replace(Gc,"+").replace(Fl,"%23").replace(Mc,"%26").replace(Bc,"`").replace(Ll,"{").replace(ql,"}").replace(Ul,"^")}function Kc(e){return Hn(e).replace(Vc,"%3D")}function Yc(e){return bo(e).replace(Fl,"%23").replace(Uc,"%3F")}function zc(e){return Yc(e).replace(Fc,"%2F")}function Os(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Qc=/\/$/,Jc=e=>e.replace(Qc,"");function An(e,t,n="/"){let o,r={},l="",a="";const i=t.indexOf("#");let c=t.indexOf("?");return c=i>=0&&c>i?-1:c,c>=0&&(o=t.slice(0,c),l=t.slice(c,i>0?i:t.length),r=e(l.slice(1))),i>=0&&(o=o||t.slice(0,i),a=t.slice(i,t.length)),o=td(o??t,n),{fullPath:o+l+a,path:o,query:r,hash:Os(a)}}function Xc(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function rr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zc(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&ls(t.matched[o],n.matched[r])&&Bl(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ls(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Bl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ed(e[n],t[n]))return!1;return!0}function ed(e,t){return ot(e)?lr(e,t):ot(t)?lr(t,e):e===t}function lr(e,t){return ot(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function td(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=n.length-1,a,i;for(a=0;a<o.length;a++)if(i=o[a],i!==".")if(i==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+o.slice(a).join("/")}const Dt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Gn=(function(e){return e.pop="pop",e.push="push",e})({}),Dn=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function sd(e){if(!e)if(Zt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Jc(e)}const nd=/^[^#]+#/;function od(e,t){return e.replace(nd,"#")+t}function rd(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const mn=()=>({left:window.scrollX,top:window.scrollY});function ld(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=rd(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ar(e,t){return(history.state?history.state.position-t:-1)+e}const Wn=new Map;function ad(e,t){Wn.set(e,t)}function id(e){const t=Wn.get(e);return Wn.delete(e),t}function cd(e){return typeof e=="string"||e&&typeof e=="object"}function Hl(e){return typeof e=="string"||typeof e=="symbol"}let Oe=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Gl=Symbol("");Oe.MATCHER_NOT_FOUND+"",Oe.NAVIGATION_GUARD_REDIRECT+"",Oe.NAVIGATION_ABORTED+"",Oe.NAVIGATION_CANCELLED+"",Oe.NAVIGATION_DUPLICATED+"";function as(e,t){return ge(new Error,{type:e,[Gl]:!0},t)}function gt(e,t){return e instanceof Error&&Gl in e&&(t==null||!!(e.type&t))}const dd=["params","query","hash"];function ud(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of dd)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function fd(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<n.length;++o){const r=n[o].replace(Vl," "),l=r.indexOf("="),a=Os(l<0?r:r.slice(0,l)),i=l<0?null:Os(r.slice(l+1));if(a in t){let c=t[a];ot(c)||(c=t[a]=[c]),c.push(i)}else t[a]=i}return t}function ir(e){let t="";for(let n in e){const o=e[n];if(n=Kc(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(ot(o)?o.map(r=>r&&Hn(r)):[o&&Hn(o)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function pd(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=ot(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const hd=Symbol(""),cr=Symbol(""),_n=Symbol(""),mo=Symbol(""),Kn=Symbol("");function ps(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Nt(e,t,n,o,r,l=a=>a()){const a=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((i,c)=>{const p=f=>{f===!1?c(as(Oe.NAVIGATION_ABORTED,{from:n,to:t})):f instanceof Error?c(f):cd(f)?c(as(Oe.NAVIGATION_GUARD_REDIRECT,{from:t,to:f})):(a&&o.enterCallbacks[r]===a&&typeof f=="function"&&a.push(f),i())},u=l(()=>e.call(o&&o.instances[r],t,n,p));let b=Promise.resolve(u);e.length<3&&(b=b.then(p)),b.catch(f=>c(f))})}function On(e,t,n,o,r=l=>l()){const l=[];for(const a of e)for(const i in a.components){let c=a.components[i];if(!(t!=="beforeRouteEnter"&&!a.instances[i]))if(Ml(c)){const p=(c.__vccOpts||c)[t];p&&l.push(Nt(p,n,o,a,i,r))}else{let p=c();l.push(()=>p.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${i}" at "${a.path}"`);const b=jc(u)?u.default:u;a.mods[i]=u,a.components[i]=b;const f=(b.__vccOpts||b)[t];return f&&Nt(f,n,o,a,i,r)()}))}}return l}function bd(e,t){const n=[],o=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let a=0;a<l;a++){const i=t.matched[a];i&&(e.matched.find(p=>ls(p,i))?o.push(i):n.push(i));const c=e.matched[a];c&&(t.matched.find(p=>ls(p,c))||r.push(c))}return[n,o,r]}let md=()=>location.protocol+"//"+location.host;function Wl(e,t){const{pathname:n,search:o,hash:r}=t,l=e.indexOf("#");if(l>-1){let a=r.includes(e.slice(l))?e.slice(l).length:1,i=r.slice(a);return i[0]!=="/"&&(i="/"+i),rr(i,"")}return rr(n,e)+o+r}function _d(e,t,n,o){let r=[],l=[],a=null;const i=({state:f})=>{const d=Wl(e,location),$=n.value,y=t.value;let x=0;if(f){if(n.value=d,t.value=f,a&&a===$){a=null;return}x=y?f.position-y.position:0}else o(d);r.forEach(j=>{j(n.value,$,{delta:x,type:Gn.pop,direction:x?x>0?Dn.forward:Dn.back:Dn.unknown})})};function c(){a=n.value}function p(f){r.push(f);const d=()=>{const $=r.indexOf(f);$>-1&&r.splice($,1)};return l.push(d),d}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(ge({},f.state,{scroll:mn()}),"")}}function b(){for(const f of l)f();l=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:c,listen:p,destroy:b}}function dr(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?mn():null}}function gd(e){const{history:t,location:n}=window,o={value:Wl(e,n)},r={value:t.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(c,p,u){const b=e.indexOf("#"),f=b>-1?(n.host&&document.querySelector("base")?e:e.slice(b))+c:md()+e+c;try{t[u?"replaceState":"pushState"](p,"",f),r.value=p}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function a(c,p){l(c,ge({},t.state,dr(r.value.back,c,r.value.forward,!0),p,{position:r.value.position}),!0),o.value=c}function i(c,p){const u=ge({},r.value,t.state,{forward:c,scroll:mn()});l(u.current,u,!0),l(c,ge({},dr(o.value,c,null),{position:u.position+1},p),!1),o.value=c}return{location:o,state:r,push:i,replace:a}}function vd(e){e=sd(e);const t=gd(e),n=_d(e,t.state,t.location,t.replace);function o(l,a=!0){a||n.pauseListeners(),history.go(l)}const r=ge({location:"",base:e,go:o,createHref:od.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function yd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),vd(e)}let Gt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Te=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Te||{});const xd={type:Gt.Static,value:""},wd=/[a-zA-Z0-9_]/;function Cd(e){if(!e)return[[]];if(e==="/")return[[xd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${p}": ${d}`)}let n=Te.Static,o=n;const r=[];let l;function a(){l&&r.push(l),l=[]}let i=0,c,p="",u="";function b(){p&&(n===Te.Static?l.push({type:Gt.Static,value:p}):n===Te.Param||n===Te.ParamRegExp||n===Te.ParamRegExpEnd?(l.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:Gt.Param,value:p,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),p="")}function f(){p+=c}for(;i<e.length;){if(c=e[i++],c==="\\"&&n!==Te.ParamRegExp){o=n,n=Te.EscapeNext;continue}switch(n){case Te.Static:c==="/"?(p&&b(),a()):c===":"?(b(),n=Te.Param):f();break;case Te.EscapeNext:f(),n=o;break;case Te.Param:c==="("?n=Te.ParamRegExp:wd.test(c)?f():(b(),n=Te.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--);break;case Te.ParamRegExp:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=Te.ParamRegExpEnd:u+=c;break;case Te.ParamRegExpEnd:b(),n=Te.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--,u="";break;default:t("Unknown state");break}}return n===Te.ParamRegExp&&t(`Unfinished custom RegExp for param "${p}"`),b(),a(),r}const ur="[^/]+?",$d={sensitive:!1,strict:!1,start:!0,end:!0};var He=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(He||{});const Ed=/[.+*?^${}()[\]/\\]/g;function Sd(e,t){const n=ge({},$d,t),o=[];let r=n.start?"^":"";const l=[];for(const p of e){const u=p.length?[]:[He.Root];n.strict&&!p.length&&(r+="/");for(let b=0;b<p.length;b++){const f=p[b];let d=He.Segment+(n.sensitive?He.BonusCaseSensitive:0);if(f.type===Gt.Static)b||(r+="/"),r+=f.value.replace(Ed,"\\$&"),d+=He.Static;else if(f.type===Gt.Param){const{value:$,repeatable:y,optional:x,regexp:j}=f;l.push({name:$,repeatable:y,optional:x});const F=j||ur;if(F!==ur){d+=He.BonusCustomRegExp;try{`${F}`}catch(K){throw new Error(`Invalid custom RegExp for param "${$}" (${F}): `+K.message)}}let W=y?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;b||(W=x&&p.length<2?`(?:/${W})`:"/"+W),x&&(W+="?"),r+=W,d+=He.Dynamic,x&&(d+=He.BonusOptional),y&&(d+=He.BonusRepeatable),F===".*"&&(d+=He.BonusWildcard)}u.push(d)}o.push(u)}if(n.strict&&n.end){const p=o.length-1;o[p][o[p].length-1]+=He.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function i(p){const u=p.match(a),b={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",$=l[f-1];b[$.name]=d&&$.repeatable?d.split("/"):d}return b}function c(p){let u="",b=!1;for(const f of e){(!b||!u.endsWith("/"))&&(u+="/"),b=!1;for(const d of f)if(d.type===Gt.Static)u+=d.value;else if(d.type===Gt.Param){const{value:$,repeatable:y,optional:x}=d,j=$ in p?p[$]:"";if(ot(j)&&!y)throw new Error(`Provided param "${$}" is an array but it is not repeatable (* or + modifiers)`);const F=ot(j)?j.join("/"):j;if(!F)if(x)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):b=!0);else throw new Error(`Missing required param "${$}"`);u+=F}}return u||"/"}return{re:a,score:o,keys:l,parse:i,stringify:c}}function kd(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===He.Static+He.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===He.Static+He.Segment?1:-1:0}function Kl(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const l=kd(o[n],r[n]);if(l)return l;n++}if(Math.abs(r.length-o.length)===1){if(fr(o))return 1;if(fr(r))return-1}return r.length-o.length}function fr(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Rd={strict:!1,end:!0,sensitive:!1};function Ad(e,t,n){const o=Sd(Cd(e.path),n),r=ge(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Dd(e,t){const n=[],o=new Map;t=or(Rd,t);function r(b){return o.get(b)}function l(b,f,d){const $=!d,y=hr(b);y.aliasOf=d&&d.record;const x=or(t,b),j=[y];if("alias"in b){const K=typeof b.alias=="string"?[b.alias]:b.alias;for(const G of K)j.push(hr(ge({},y,{components:d?d.record.components:y.components,path:G,aliasOf:d?d.record:y})))}let F,W;for(const K of j){const{path:G}=K;if(f&&G[0]!=="/"){const v=f.record.path,w=v[v.length-1]==="/"?"":"/";K.path=f.record.path+(G&&w+G)}if(F=Ad(K,f,x),d?d.alias.push(F):(W=W||F,W!==F&&W.alias.push(F),$&&b.name&&!br(F)&&a(b.name)),Yl(F)&&c(F),y.children){const v=y.children;for(let w=0;w<v.length;w++)l(v[w],F,d&&d.children[w])}d=d||F}return W?()=>{a(W)}:ws}function a(b){if(Hl(b)){const f=o.get(b);f&&(o.delete(b),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(b);f>-1&&(n.splice(f,1),b.record.name&&o.delete(b.record.name),b.children.forEach(a),b.alias.forEach(a))}}function i(){return n}function c(b){const f=Pd(b,n);n.splice(f,0,b),b.record.name&&!br(b)&&o.set(b.record.name,b)}function p(b,f){let d,$={},y,x;if("name"in b&&b.name){if(d=o.get(b.name),!d)throw as(Oe.MATCHER_NOT_FOUND,{location:b});x=d.record.name,$=ge(pr(f.params,d.keys.filter(W=>!W.optional).concat(d.parent?d.parent.keys.filter(W=>W.optional):[]).map(W=>W.name)),b.params&&pr(b.params,d.keys.map(W=>W.name))),y=d.stringify($)}else if(b.path!=null)y=b.path,d=n.find(W=>W.re.test(y)),d&&($=d.parse(y),x=d.record.name);else{if(d=f.name?o.get(f.name):n.find(W=>W.re.test(f.path)),!d)throw as(Oe.MATCHER_NOT_FOUND,{location:b,currentLocation:f});x=d.record.name,$=ge({},f.params,b.params),y=d.stringify($)}const j=[];let F=d;for(;F;)j.unshift(F.record),F=F.parent;return{name:x,path:y,params:$,matched:j,meta:Id(j)}}e.forEach(b=>l(b));function u(){n.length=0,o.clear()}return{addRoute:l,resolve:p,removeRoute:a,clearRoutes:u,getRoutes:i,getRecordMatcher:r}}function pr(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function hr(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Od(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Od(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function br(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Id(e){return e.reduce((t,n)=>ge(t,n.meta),{})}function Pd(e,t){let n=0,o=t.length;for(;n!==o;){const l=n+o>>1;Kl(e,t[l])<0?o=l:n=l+1}const r=Td(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Td(e){let t=e;for(;t=t.parent;)if(Yl(t)&&Kl(e,t)===0)return t}function Yl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function mr(e){const t=et(_n),n=et(mo),o=Q(()=>{const c=be(e.to);return t.resolve(c)}),r=Q(()=>{const{matched:c}=o.value,{length:p}=c,u=c[p-1],b=n.matched;if(!u||!b.length)return-1;const f=b.findIndex(ls.bind(null,u));if(f>-1)return f;const d=_r(c[p-2]);return p>1&&_r(u)===d&&b[b.length-1].path!==d?b.findIndex(ls.bind(null,c[p-2])):f}),l=Q(()=>r.value>-1&&Fd(n.params,o.value.params)),a=Q(()=>r.value>-1&&r.value===n.matched.length-1&&Bl(n.params,o.value.params));function i(c={}){if(Md(c)){const p=t[be(e.replace)?"replace":"push"](be(e.to)).catch(ws);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:o,href:Q(()=>o.value.href),isActive:l,isExactActive:a,navigate:i}}function Nd(e){return e.length===1?e[0]:e}const jd=sl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mr,setup(e,{slots:t}){const n=Ns(mr(e)),{options:o}=et(_n),r=Q(()=>({[gr(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[gr(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&Nd(t.default(n));return e.custom?l:Dl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},l)}}}),_o=jd;function Md(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fd(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!ot(r)||r.length!==o.length||o.some((l,a)=>l!==r[a]))return!1}return!0}function _r(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const gr=(e,t,n)=>e??t??n,Vd=sl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=et(Kn),r=Q(()=>e.route||o.value),l=et(cr,0),a=Q(()=>{let p=be(l);const{matched:u}=r.value;let b;for(;(b=u[p])&&!b.components;)p++;return p}),i=Q(()=>r.value.matched[a.value]);Hs(cr,Q(()=>a.value+1)),Hs(hd,i),Hs(Kn,r);const c=ie();return je(()=>[c.value,i.value,e.name],([p,u,b],[f,d,$])=>{u&&(u.instances[b]=p,d&&d!==u&&p&&p===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),p&&u&&(!d||!ls(u,d)||!f)&&(u.enterCallbacks[b]||[]).forEach(y=>y(p))},{flush:"post"}),()=>{const p=r.value,u=e.name,b=i.value,f=b&&b.components[u];if(!f)return vr(n.default,{Component:f,route:p});const d=b.props[u],$=d?d===!0?p.params:typeof d=="function"?d(p):d:null,x=Dl(f,ge({},$,t,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(b.instances[u]=null)},ref:c}));return vr(n.default,{Component:x,route:p})||x}}});function vr(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const zl=Vd;function Ud(e){const t=Dd(e.routes,e),n=e.parseQuery||fd,o=e.stringifyQuery||ir,r=e.history,l=ps(),a=ps(),i=ps(),c=ja(Dt);let p=Dt;Zt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Rn.bind(null,A=>""+A),b=Rn.bind(null,zc),f=Rn.bind(null,Os);function d(A,q){let B,J;return Hl(A)?(B=t.getRecordMatcher(A),J=q):J=A,t.addRoute(J,B)}function $(A){const q=t.getRecordMatcher(A);q&&t.removeRoute(q)}function y(){return t.getRoutes().map(A=>A.record)}function x(A){return!!t.getRecordMatcher(A)}function j(A,q){if(q=ge({},q||c.value),typeof A=="string"){const S=An(n,A,q.path),O=t.resolve({path:S.path},q),I=r.createHref(S.fullPath);return ge(S,O,{params:f(O.params),hash:Os(S.hash),redirectedFrom:void 0,href:I})}let B;if(A.path!=null)B=ge({},A,{path:An(n,A.path,q.path).path});else{const S=ge({},A.params);for(const O in S)S[O]==null&&delete S[O];B=ge({},A,{params:b(S)}),q.params=b(q.params)}const J=t.resolve(B,q),fe=A.hash||"";J.params=u(f(J.params));const m=Xc(o,ge({},A,{hash:Wc(fe),path:J.path})),g=r.createHref(m);return ge({fullPath:m,hash:fe,query:o===ir?pd(A.query):A.query||{}},J,{redirectedFrom:void 0,href:g})}function F(A){return typeof A=="string"?An(n,A,c.value.path):ge({},A)}function W(A,q){if(p!==A)return as(Oe.NAVIGATION_CANCELLED,{from:q,to:A})}function K(A){return w(A)}function G(A){return K(ge(F(A),{replace:!0}))}function v(A,q){const B=A.matched[A.matched.length-1];if(B&&B.redirect){const{redirect:J}=B;let fe=typeof J=="function"?J(A,q):J;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=F(fe):{path:fe},fe.params={}),ge({query:A.query,hash:A.hash,params:fe.path!=null?{}:A.params},fe)}}function w(A,q){const B=p=j(A),J=c.value,fe=A.state,m=A.force,g=A.replace===!0,S=v(B,J);if(S)return w(ge(F(S),{state:typeof S=="object"?ge({},fe,S.state):fe,force:m,replace:g}),q||B);const O=B;O.redirectedFrom=q;let I;return!m&&Zc(o,J,B)&&(I=as(Oe.NAVIGATION_DUPLICATED,{to:O,from:J}),Xe(J,J,!0,!1)),(I?Promise.resolve(I):P(O,J)).catch(D=>gt(D)?gt(D,Oe.NAVIGATION_GUARD_REDIRECT)?D:rt(D):ae(D,O,J)).then(D=>{if(D){if(gt(D,Oe.NAVIGATION_GUARD_REDIRECT))return w(ge({replace:g},F(D.to),{state:typeof D.to=="object"?ge({},fe,D.to.state):fe,force:m}),q||O)}else D=ce(O,J,!0,g,fe);return Re(O,J,D),D})}function C(A,q){const B=W(A,q);return B?Promise.reject(B):Promise.resolve()}function N(A){const q=M.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(A):A()}function P(A,q){let B;const[J,fe,m]=bd(A,q);B=On(J.reverse(),"beforeRouteLeave",A,q);for(const S of J)S.leaveGuards.forEach(O=>{B.push(Nt(O,A,q))});const g=C.bind(null,A,q);return B.push(g),R(B).then(()=>{B=[];for(const S of l.list())B.push(Nt(S,A,q));return B.push(g),R(B)}).then(()=>{B=On(fe,"beforeRouteUpdate",A,q);for(const S of fe)S.updateGuards.forEach(O=>{B.push(Nt(O,A,q))});return B.push(g),R(B)}).then(()=>{B=[];for(const S of m)if(S.beforeEnter)if(ot(S.beforeEnter))for(const O of S.beforeEnter)B.push(Nt(O,A,q));else B.push(Nt(S.beforeEnter,A,q));return B.push(g),R(B)}).then(()=>(A.matched.forEach(S=>S.enterCallbacks={}),B=On(m,"beforeRouteEnter",A,q,N),B.push(g),R(B))).then(()=>{B=[];for(const S of a.list())B.push(Nt(S,A,q));return B.push(g),R(B)}).catch(S=>gt(S,Oe.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function Re(A,q,B){i.list().forEach(J=>N(()=>J(A,q,B)))}function ce(A,q,B,J,fe){const m=W(A,q);if(m)return m;const g=q===Dt,S=Zt?history.state:{};B&&(J||g?r.replace(A.fullPath,ge({scroll:g&&S&&S.scroll},fe)):r.push(A.fullPath,fe)),c.value=A,Xe(A,q,B,g),rt()}let me;function Ae(){me||(me=r.listen((A,q,B)=>{if(!h.listening)return;const J=j(A),fe=v(J,h.currentRoute.value);if(fe){w(ge(fe,{replace:!0,force:!0}),J).catch(ws);return}p=J;const m=c.value;Zt&&ad(ar(m.fullPath,B.delta),mn()),P(J,m).catch(g=>gt(g,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_CANCELLED)?g:gt(g,Oe.NAVIGATION_GUARD_REDIRECT)?(w(ge(F(g.to),{force:!0}),J).then(S=>{gt(S,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_DUPLICATED)&&!B.delta&&B.type===Gn.pop&&r.go(-1,!1)}).catch(ws),Promise.reject()):(B.delta&&r.go(-B.delta,!1),ae(g,J,m))).then(g=>{g=g||ce(J,m,!1),g&&(B.delta&&!gt(g,Oe.NAVIGATION_CANCELLED)?r.go(-B.delta,!1):B.type===Gn.pop&&gt(g,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),Re(J,m,g)}).catch(ws)}))}let ke=ps(),$e=ps(),ne;function ae(A,q,B){rt(A);const J=$e.list();return J.length?J.forEach(fe=>fe(A,q,B)):console.error(A),Promise.reject(A)}function tt(){return ne&&c.value!==Dt?Promise.resolve():new Promise((A,q)=>{ke.add([A,q])})}function rt(A){return ne||(ne=!A,Ae(),ke.list().forEach(([q,B])=>A?B(A):q()),ke.reset()),A}function Xe(A,q,B,J){const{scrollBehavior:fe}=e;if(!Zt||!fe)return Promise.resolve();const m=!B&&id(ar(A.fullPath,0))||(J||!B)&&history.state&&history.state.scroll||null;return dn().then(()=>fe(A,q,m)).then(g=>g&&ld(g)).catch(g=>ae(g,A,q))}const Ne=A=>r.go(A);let mt;const M=new Set,h={currentRoute:c,listening:!0,addRoute:d,removeRoute:$,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:y,resolve:j,options:e,push:K,replace:G,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:l.add,beforeResolve:a.add,afterEach:i.add,onError:$e.add,isReady:tt,install(A){A.component("RouterLink",_o),A.component("RouterView",zl),A.config.globalProperties.$router=h,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>be(c)}),Zt&&!mt&&c.value===Dt&&(mt=!0,K(r.location).catch(J=>{}));const q={};for(const J in Dt)Object.defineProperty(q,J,{get:()=>c.value[J],enumerable:!0});A.provide(_n,h),A.provide(mo,Kr(q)),A.provide(Kn,c);const B=A.unmount;M.add(A),A.unmount=function(){M.delete(A),M.size<1&&(p=Dt,me&&me(),me=null,c.value=Dt,mt=!1,ne=!1),B()}}};function R(A){return A.reduce((q,B)=>q.then(()=>N(B)),Promise.resolve())}return h}function Fs(){return et(_n)}function Ql(e){return et(mo)}const Ld={__name:"App",setup(e){return(t,n)=>(E(),ht(be(zl)))}},qs=window.djangoConfig?.projectId??6,Pe=window.djangoConfig?.baseUrl??"http://localhost:8000",yr=window.djangoConfig?.csrfToken??"falsocsrf",ue={apiBaseUrl:Pe,csrfToken:yr,idProject:qs,urlLogo:Pe+"/static/img/logo.png",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":yr},URLProjectData:Pe+"/api/projects/all-info/"+qs+"/",URLSourcesAvailable:Pe+"/api/projects/resources/available/",URLTechnicalsAvailable:Pe+"/api/technicals/avaliables/",URLVehiclesAvailable:Pe+"/api/vehicles/avaliables/",URLResourcesProject:Pe+"/api/projects/"+qs+"/resources/",URLUpdateResourceItem:Pe+"/api/projects/resources/update/",URLDeleteResourceProject:Pe+"/api/projects/resources/delete/${id_project_resource}/",URLSheetProjects:Pe+"/api/workorders/sheets/project/"+qs+"/",URLAddSheetProject:Pe+"/api/workorders/sheets/create/",URLUpdateSheetProject:Pe+"/api/workorders/sheets/update/",URLAddResourceToProject:Pe+"/api/projects/resources/add/",URLCreateCustodyChain:Pe+"/api/workorders/custody_chain/create/",URLCustodyChainDetail:Pe+"/api/workorders/custody_chain/detail/${id}/",URLUpdateCustodyChain:Pe+"/api/workorders/custody_chain/${id}/edit/",PDFCustodyChainReport:Pe+"/reports/custody-chain/${id}/",PDFCertFinalDisposition:Pe+"/reports/final-disposition/${id}/",URLWorkSheetReport:Pe+"/reports/worksheet/${id}/"},cs=zt("projectResourcesStore",{state:()=>({selectedResource:null,resourcesProject:[],newResourceProject:{id:null,project:null,resource:Object,type:null,detailed_description:null,cost:0,frecuency_type:"DAY",interval_days:2,week_days:null,month_days:null,operation_start_date:null,operation_end_date:null,is_retired:!1,retirement_date:null,retirement_reason:null,is_active:!0,is_selected:!1,is_confirm_delete:!1}}),actions:{async fetchResourcesProject(){console.log("Fetching project resources");try{const e=await fetch(ue.URLResourcesProject,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch project resources");const t=await e.json();this.resourcesProject=t.data}catch(e){console.error("Error fetching project resources:",e),this.resourcesProject=[]}},async addResourcesToProject(e){try{const t=e.map(r=>{const a=r.resource?.type_equipment==="SERVIC"?r.physical_equipment_code||0:r.resource_id,i={project_id:ue.idProject,resource_id:r.resource_id,detailed_description:r.detailed_description,cost:r.cost||0,maintenance_cost:r.maintenance_cost||0,operation_start_date:r.operation_start_date,include_maintenance:r.include_maintenance,frequency_type:r.include_maintenance?r.frequency_type||"DAY":null,physical_equipment_code:a};if(r.include_maintenance)switch(r.frequency_type){case"DAY":const c=parseInt(r.interval_days);i.interval_days=isNaN(c)||c<1?1:c;break;case"WEEK":i.weekdays=r.weekdays||[];break;case"MONTH":i.monthdays=r.monthdays||[];break}return i}),n=await fetch(ue.URLAddResourceToProject,{method:"POST",headers:ue.headers,body:JSON.stringify(t)}),o=await n.json();if(!n.ok)throw new Error(o.error||`Error al agregar recursos. Se agregaron ${o.added||0} de ${t.length}`);return o}catch(t){throw console.error("Error adding resources to project:",t),t}},async updateResourceProject(e){try{const t=await fetch(ue.URLUpdateResourceItem,{method:"PUT",headers:ue.headers,body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to update project resource");const o=this.resourcesProject.findIndex(r=>r.id===e.id);return o!==-1&&(this.resourcesProject[o]={...this.resourcesProject[o],...n.data}),n.data}catch(t){throw console.error("Error updating project resource:",t),t}},async deleteResourceProject(e){try{const t=ue.URLDeleteResourceProject.replace("${id_project_resource}",e),n=await fetch(t,{method:"DELETE",headers:ue.headers});if(!n.ok){let o="Failed to delete project resource";try{o=(await n.json()).error||o}catch{o=await n.text()||o}throw new Error(o)}this.resourcesProject=this.resourcesProject.filter(o=>o.id!==e)}catch(t){throw console.error("Error deleting project resource:",t),t}}}}),qd=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(0):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},Bd=e=>{const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)||t===null||t===void 0?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},Yn=e=>{if(!e)return"--";const[t,n,o]=e.split("-"),r=new Date(t,n-1,o);return new Intl.DateTimeFormat("es-GT",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r)},Hd={class:"space-y-3"},Gd={class:"flex justify-between items-center mb-4"},Wd={class:"overflow-x-auto"},Kd={class:"table table-zebra w-full"},Yd={key:0},zd={class:"p-2 border border-gray-300"},Qd={class:"p-2 border border-gray-300 text-center"},Jd={class:"p-2 border border-gray-300"},Xd={class:"flex items-center gap-2"},Zd={key:0,class:"text-red-500 border rounded p-1 bg-red-100 text-xs mr-1"},eu={key:1,class:"text-blue-600 border rounded p-1 bg-blue-100 text-xs mr-1",title:"Este recurso est en uso en cadenas de custodia"},tu={class:"p-2 border border-gray-300"},su={class:"p-2 border border-gray-300 text-right font-mono"},nu={class:"p-2 border border-gray-300 text-center"},ou={class:"text-xs"},ru={class:"p-2 border border-gray-300 text-end font-mono"},lu={class:"p-2 border border-gray-300 text-end"},au={class:"flex gap-2 justify-end"},iu=["onClick"],cu=["title","disabled","onClick"],du={class:"stats shadow w-full"},uu={class:"stat"},fu={class:"stat-value text-primary"},pu={class:"stat-desc"},hu={class:"stat text-end"},bu={class:"stat-value text-info text-end"},mu={__name:"TabResources",emits:["edit-resource"],setup(e,{emit:t}){const n=t,o=cs(),r=Q(()=>o.resourcesProject),l=ie(null),a=p=>parseFloat(p)===0,i=p=>{n("edit-resource",p)},c=async p=>{if(l.value===p.id)try{await o.deleteResourceProject(p.id),l.value=null}catch(u){console.error("Error al eliminar recurso:",u),alert(u.message||"Error al eliminar el recurso"),l.value=null}else l.value=p.id};return(p,u)=>(E(),k("div",Hd,[s("div",Gd,[u[1]||(u[1]=s("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[s("i",{class:"las la-tools text-blue-600"}),L(" Recursos Asignados ")],-1)),Ce(be(_o),{class:"btn btn-primary btn-sm",to:{name:"resource-form"}},{default:Lt(()=>[...u[0]||(u[0]=[s("i",{class:"las la-plus"},null,-1),L(" Asignar Recursos ",-1)])]),_:1})]),s("div",Wd,[s("table",Kd,[u[5]||(u[5]=s("thead",null,[s("tr",{class:"bg-gray-500 text-white"},[s("th",{class:"p-2 border border-gray-100 text-center"},"#"),s("th",{class:"p-2 border border-gray-100 text-center"},"Tipo"),s("th",{class:"p-2 border border-gray-100 text-center"},"Cdigo"),s("th",{class:"p-2 border border-gray-100 text-center"},"Descripcin"),s("th",{class:"p-2 border border-gray-100 text-center"},"Costo"),s("th",{class:"p-2 border border-gray-100 text-center"},"Frecuencia"),s("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Inicio"),s("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),s("tbody",null,[r.value.length===0?(E(),k("tr",Yd,[...u[2]||(u[2]=[s("td",{colspan:"8",class:"text-center text-gray-500 py-8"},[s("i",{class:"las la-inbox text-4xl"}),s("p",null,"No hay recursos asignados a este proyecto")],-1)])])):(E(!0),k(re,{key:1},_e(r.value,b=>(E(),k("tr",{key:b.id,class:se({"text-red-500 font-bold bg-red-100":a(b.cost)})},[s("td",zd,_(b.id),1),s("td",Qd,_(b.type_resource),1),s("td",Jd,[s("div",Xd,[b.is_retired?(E(),k("span",Zd,"RETIRADO")):z("",!0),b.is_deleteable?z("",!0):(E(),k("span",eu,"EN USO")),L(" "+_(b.resource_item_code),1)])]),s("td",tu,_(b.detailed_description),1),s("td",su,_(be(Bd)(b.cost)),1),s("td",nu,[s("span",ou,_(b.frequency_type==="DAY"?"Diario":b.frequency_type==="WEEK"?"Semanal":b.frequency_type==="MONTH"?"Mensual":b.frequency_type),1)]),s("td",ru,_(be(Yn)(b.operation_start_date)),1),s("td",lu,[s("div",au,[s("button",{class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar",onClick:f=>i(b)},[...u[3]||(u[3]=[s("i",{class:"las la-edit"},null,-1),L(" EDITAR ",-1)])],8,iu),s("button",{class:se(["btn btn-xs border-red-500 text-red-500 bg-white",{"opacity-50 cursor-not-allowed":!b.is_deleteable,"bg-red-500 text-black":l.value===b.id}]),title:b.is_deleteable?l.value===b.id?"Haz clic nuevamente para confirmar":"Eliminar recurso":"No se puede eliminar: el recurso est en uso en una o ms cadenas de custodia",disabled:!b.is_deleteable,onClick:f=>c(b)},[u[4]||(u[4]=s("i",{class:"las la-trash"},null,-1)),L(" "+_(l.value===b.id?"CONFIRMAR":"ELIMINAR"),1)],10,cu)])])],2))),128))])])]),s("div",du,[s("div",uu,[u[6]||(u[6]=s("div",{class:"stat-title"},"Total Recursos",-1)),s("div",fu,_(r.value.length),1),s("div",pu,_(r.value.filter(b=>b.type_resource==="EQUIPO").length)+" Equipos y "+_(r.value.filter(b=>b.type_resource==="SERVICIO").length)+" Servicios",1)]),s("div",hu,[u[7]||(u[7]=s("div",{class:"stat-title"},"Costo Total",-1)),s("div",bu,_(be(qd)(r.value.reduce((b,f)=>b+parseFloat(f.cost),0))),1),u[8]||(u[8]=s("div",{class:"stat-desc"},"Suma de todos los recursos",-1))])])]))}},Ve=zt("projectStore",{state:()=>({project:{id:null,partner_id:null,partner_name:null,location:null,cardinal_point:null,contact_name:null,contact_phone:null,start_date:null,end_date:null,is_closed:!1},workOrders:[],workOrdersCount:0,totalCustodyChains:0,loading:!1,error:null}),getters:{allCustodyChains:e=>e.workOrders.flatMap(t=>t.custody_chains||[]),getWorkOrderById:e=>t=>e.workOrders.find(n=>n.id===t),getCustodyChainById:e=>t=>{for(const n of e.workOrders){const o=n.custody_chains?.find(r=>r.id===t);if(o)return o}return null},projectStats:e=>({totalWorkOrders:e.workOrdersCount,totalCustodyChains:e.totalCustodyChains,inProgressWorkOrders:e.workOrders.filter(t=>t.status==="IN_PROGRESS").length,invoicedWorkOrders:e.workOrders.filter(t=>t.status==="INVOICED").length})},actions:{async fetchProjectData(){this.loading=!0,this.error=null,console.log(`Fetching all info for project ${ue.idProject}...`);try{const e=await fetch(ue.URLProjectData,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error(`Failed to fetch project info: ${e.status}`);const t=await e.json();if(t.success&&t.data)this.project=t.data.project,this.workOrders=t.data.work_orders||[],this.workOrdersCount=t.data.work_orders_count||0,this.totalCustodyChains=t.data.total_custody_chains||0,console.log(`Project ${this.project.id} loaded successfully with ${this.workOrdersCount} work orders`);else throw new Error(t.error||"Invalid response format")}catch(e){console.error("Error fetching project data:",e),this.error=e.message,this.resetProjectData()}finally{this.loading=!1}},async fetchProjectAllInfo(e){this.loading=!0,this.error=null,console.log(`Fetching all info for project ${e}...`);try{const t=`${ue.apiBaseUrl}/api/projects/all-info/${e}/`,n=await fetch(t,{method:"GET",headers:ue.headers});if(!n.ok)throw new Error(`Failed to fetch project info: ${n.status}`);const o=await n.json();if(o.success&&o.data)this.project=o.data.project,this.workOrders=o.data.work_orders||[],this.workOrdersCount=o.data.work_orders_count||0,this.totalCustodyChains=o.data.total_custody_chains||0,console.log(`Project ${e} loaded successfully with ${this.workOrdersCount} work orders`);else throw new Error(o.error||"Invalid response format")}catch(t){console.error("Error fetching project all info:",t),this.error=t.message,this.resetProjectData()}finally{this.loading=!1}},resetProjectData(){this.project={id:null,partner_id:null,partner_name:null,location:null,cardinal_point:null,contact_name:null,contact_phone:null,start_date:null,end_date:null,is_closed:!1},this.workOrders=[],this.workOrdersCount=0,this.totalCustodyChains=0},updateWorkOrder(e,t){const n=this.workOrders.findIndex(o=>o.id===e);n!==-1&&(this.workOrders[n]={...this.workOrders[n],...t})},updateCustodyChain(e,t){for(const n of this.workOrders){const o=n.custody_chains?.findIndex(r=>r.id===e);if(o!==-1&&o!==void 0){n.custody_chains[o]={...n.custody_chains[o],...t};break}}},async refreshCurrentProject(){await this.fetchProjectData()}}}),go=zt("sheetProjectsStore",{state:()=>({newSheetProject:{id:null,project:null,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:null,contact_phone_reference:null},loading:!1,error:null}),getters:{sheetProjects:()=>Ve().workOrders||[],getSheetProjectById:()=>e=>Ve().getWorkOrderById(e),hasInProgressSheet:()=>Ve().workOrders.some(t=>t.status==="IN_PROGRESS"),lastActiveSheetProjectID:()=>Ve().workOrders.find(n=>n.status==="IN_PROGRESS")?.id||null,getCustodyChainsForSheet:()=>e=>Ve().getWorkOrderById(e)?.custody_chains||[]},actions:{async addSheetProject(e){this.loading=!0,this.error=null,console.log("Adding new sheet project",e);try{const t={project_id:e.project,period_start:e.period_start,service_type:e.service_type};e.contact_reference&&(t.contact_reference=e.contact_reference),e.contact_phone_reference&&(t.contact_phone_reference=e.contact_phone_reference);const n=await fetch(ue.URLAddSheetProject,{method:"POST",headers:ue.headers,body:JSON.stringify(t)}),o=await n.json();if(!n.ok)throw new Error(o.error||`HTTP error! status: ${n.status}`);return await Ve().refreshCurrentProject(),o.data.id}catch(t){throw console.error("Error adding sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},async updateSheetProject(e){this.loading=!0,this.error=null,console.log("Updating sheet project:",e);try{const t=await fetch(ue.URLUpdateSheetProject,{method:"PUT",headers:ue.headers,body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.error||`HTTP error! status: ${t.status}`);return await Ve().refreshCurrentProject(),n.data}catch(t){throw console.error("Error updating sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},async closeSheetProject(e){this.loading=!0,this.error=null,console.log("Closing sheet project with ID:",e);try{const n=Ve().getWorkOrderById(e);if(!n)throw new Error("Planilla no encontrada");return await this.updateSheetProject({...n,status:"INVOICED",period_end:new Date().toISOString().split("T")[0]}),!0}catch(t){throw console.error("Error closing sheet project:",t),this.error=t.message,t}finally{this.loading=!1}},initializeNewSheetProject(e){this.newSheetProject={id:null,project:e.id,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:e.contact_name,contact_phone_reference:e.contact_phone}},resetNewSheetProject(){this.newSheetProject={id:null,project:null,issue_date:null,period_start:null,period_end:null,status:"IN_PROGRESS",series_code:"PSL-PS-00000-00",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:null,contact_phone_reference:null}}}}),_u={class:"space-y-3"},gu={class:"flex justify-between items-center mb-4"},vu={key:1,class:"text-amber-700 badge bg-yellow-100"},yu={class:"overflow-x-auto"},xu={class:"table table-zebra w-full"},wu={key:0},Cu={class:"p-2 border border-gray-300"},$u={class:"p-2 border border-gray-300 font-mono"},Eu={class:"p-2 border border-gray-300"},Su={class:"p-2 border border-gray-300 text-end"},ku={class:"p-2 border border-gray-300 text-end"},Ru={class:"p-2 border border-gray-300 text-end"},Au={class:"p-2 border border-gray-300"},Du={class:"p-2 border border-gray-300"},Ou={class:"p-2 border border-gray-300"},Iu={class:"p-2 border border-gray-300 text-right font-mono"},Pu={class:"p-2 border border-gray-300 text-right font-mono"},Tu={class:"p-2 border border-gray-300 text-right font-mono"},Nu={class:"p-2 border border-gray-300 text-end"},ju={class:"flex gap-2 justify-end"},Mu=["onClick"],Fu=["onClick"],Vu=["href"],Uu=["href"],Lu={__name:"TabSheetProject",emits:["open-sheet-form","edit-sheet"],setup(e,{emit:t}){const n=Fs(),o=Ve();go();const r=Q(()=>o.workOrders||[]),l=Q(()=>r.value.some(d=>d.status==="IN_PROGRESS")),a=Q(()=>r.value.map(d=>{const $=d.custody_chains||[],y=$.reduce((F,W)=>F+(W.total_gallons||0),0),x=$.reduce((F,W)=>F+(W.total_barrels||0),0),j=$.reduce((F,W)=>F+(W.total_cubic_meters||0),0);return{...d,calculated_total_gallons:y,calculated_total_barrels:x,calculated_total_cubic_meters:j,custody_chains_count:$.length}})),i=d=>d?new Intl.DateTimeFormat("es-GT").format(new Date(d)):"N/A",c=d=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"bg-green-500 text-white"},INVOICED:{text:"FACTURADO",class:"bg-cyan-500 text-white"},CANCELLED:{text:"CANCELADO",class:"bg-orange-500 text-white"}})[d]||{text:d,class:"bg-gray-500 text-white"},p=t,u=()=>{p("open-sheet-form")},b=d=>{p("edit-sheet",d)},f=d=>{n.push({name:"sheet-project-view",params:{id:d}})};return(d,$)=>(E(),k("div",_u,[s("div",gu,[$[2]||($[2]=s("h2",{class:"font-semibold text-gray-800 flex items-center gap-2"},[s("i",{class:"las la-file-invoice-dollar text-blue-600"}),L(" Planillas del Proyecto ")],-1)),l.value?(E(),k("div",vu,[...$[1]||($[1]=[s("i",{class:"las la-exclamation-triangle"},null,-1),L(" PLANILLA EN EJECUCIN ",-1)])])):(E(),k("button",{key:0,onClick:u,class:"btn btn-primary btn-sm"},[...$[0]||($[0]=[s("i",{class:"las la-plus"},null,-1),L(" Crear Nueva Planilla ",-1)])]))]),s("div",yu,[s("table",xu,[$[8]||($[8]=s("thead",null,[s("tr",{class:"bg-gray-500 text-white"},[s("th",{class:"p-2 border border-gray-100 text-center"},"#"),s("th",{class:"p-2 border border-gray-100 text-center"},"Serie"),s("th",{class:"p-2 border border-gray-100 text-center"},"Estado"),s("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Emisin"),s("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Inicio"),s("th",{class:"p-2 border border-gray-100 text-center"},"Perodo Fin"),s("th",{class:"p-2 border border-gray-100 text-center"},"Contacto Ref."),s("th",{class:"p-2 border border-gray-100 text-center"},"Telfono"),s("th",{class:"p-2 border border-gray-100 text-center"},"Tipo Servicio"),s("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),s("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),s("th",{class:"p-2 border border-gray-100 text-center"},"M"),s("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),s("tbody",null,[a.value.length===0?(E(),k("tr",wu,[...$[3]||($[3]=[s("td",{colspan:"13",class:"text-center text-gray-500 py-8"},[s("i",{class:"las la-inbox text-4xl"}),s("p",null,"No hay planillas registradas para este proyecto")],-1)])])):(E(!0),k(re,{key:1},_e(a.value,y=>(E(),k("tr",{key:y.id},[s("td",Cu,_(y.id),1),s("td",$u,_(y.series_code),1),s("td",Eu,[s("span",{class:se(["badge px-3 py-1 rounded text-xs font-medium",c(y.status).class])},_(c(y.status).text),3)]),s("td",Su,_(i(y.issue_date)),1),s("td",ku,_(i(y.period_start)),1),s("td",Ru,_(y.period_end?i(y.period_end):"--"),1),s("td",Au,_(y.contact_reference||"N/A"),1),s("td",Du,_(y.contact_phone_reference||"N/A"),1),s("td",Ou,_(y.service_type),1),s("td",Iu,_(parseFloat(y.calculated_total_gallons||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),s("td",Pu,_(parseFloat(y.calculated_total_barrels||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),s("td",Tu,_(parseFloat(y.calculated_total_cubic_meters||0).toFixed(2)),1),s("td",Nu,[s("div",ju,[s("button",{onClick:x=>b(y),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Editar planilla"},[...$[4]||($[4]=[s("i",{class:"las la-edit"},null,-1),L(" EDITAR ",-1)])],8,Mu),s("button",{onClick:x=>f(y.id),class:"btn btn-xs border-purple-500 text-purple-500 bg-white",title:"Ver cadenas de custodia"},[$[5]||($[5]=s("i",{class:"las la-link"},null,-1)),L(" C. CUSTODIA ("+_(y.custody_chains_count)+") ",1)],8,Fu),s("a",{href:be(ue).URLWorkSheetReport.replace("${id}",y.id),target:"_blank",class:"btn btn-xs border-green-500 text-green-500 bg-white",title:"Descargar reporte PDF de la planilla"},[...$[6]||($[6]=[s("i",{class:"las la-file-pdf"},null,-1),L(" PLANILLA ",-1)])],8,Vu),s("a",{href:be(ue).PDFCertFinalDisposition.replace("${id}",y.id),target:"_blank",class:"btn btn-xs border-amber-500 text-amber-600 bg-white",title:"Descargar certificado de disposicin final"},[...$[7]||($[7]=[s("i",{class:"las la-certificate"},null,-1),L(" CDF ",-1)])],8,Uu)])])]))),128))])])])]))}};function qu(e,t,n){const o=[],{frequency_type:r,interval_days:l,weekdays:a,monthdays:i}=e;if(r==="DAY"){const c=l===0?1:l;let p=new Date(t);for(;p<=n;)o.push(new Date(p)),p.setDate(p.getDate()+c)}else if(r==="WEEK"){if(!a||a.length===0)return console.warn("Recurso WEEK sin weekdays definidos:",e),o;let c=new Date(t);for(;c<=n;){const p=(c.getDay()+6)%7;a.includes(p)&&o.push(new Date(c)),c.setDate(c.getDate()+1)}}else if(r==="MONTH"){if(!i||i.length===0)return console.warn("Recurso MONTH sin monthdays definidos:",e),o;let c=new Date(t);for(;c<=n;){const p=c.getDate();i.includes(p)&&o.push(new Date(c)),c.setDate(c.getDate()+1)}}return o}function Bu(e,t=90,n=null){const o=n?new Date(n):new Date;o.setHours(0,0,0,0);const r=new Date(o);r.setDate(o.getDate()+t);const l=[];return e.forEach(a=>{if(!a.is_active||a.is_retired||a.type_resource!=="SERVICIO")return;if(!a.operation_start_date){console.warn("Recurso sin fecha de inicio de operacin:",a);return}const[i,c,p]=a.operation_start_date.split("-").map(Number),u=new Date(i,c-1,p),b=u>o?u:o;qu(a,b,r).forEach(d=>{l.push({resource_id:a.id,resource_item_id:a.resource_item_id,resource_code:a.resource_item_code,resource_name:a.resource_item_name,description:a.detailed_description,cost:parseFloat(a.cost),frequency_type:a.frequency_type,interval_days:a.interval_days,weekdays:a.weekdays,monthdays:a.monthdays,operation_start_date:a.operation_start_date,scheduled_date:d.toISOString().split("T")[0],day_of_week:d.toLocaleDateString("es-GT",{weekday:"long"}),week_number:Hu(d),days_until:Math.ceil((d-o)/(1e3*60*60*24))})})}),l.sort((a,i)=>new Date(a.scheduled_date)-new Date(i.scheduled_date))}function Hu(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);const o=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-o)/864e5+1)/7)}function Gu(e){return e.reduce((t,n)=>{const o=`Semana ${n.week_number}`;return t[o]||(t[o]=[]),t[o].push(n),t},{})}function Wu(e){return e.reduce((t,n)=>{const r=new Date(n.scheduled_date).toLocaleDateString("es-GT",{year:"numeric",month:"long"});return t[r]||(t[r]=[]),t[r].push(n),t},{})}function Ku(e){return{total_maintenances:e.length,total_cost:e.reduce((t,n)=>t+n.cost,0),resources_count:new Set(e.map(t=>t.resource_id)).size,by_week:Gu(e),by_month:Wu(e)}}const Yu={class:"space-y-4"},zu={class:"bg-slate-700 rounded-lg p-3 shadow border border-slate-600"},Qu={class:"flex items-center justify-between"},Ju={class:"text-center flex-1"},Xu={class:"text-white font-bold text-xl capitalize"},Zu={class:"grid grid-cols-3 gap-2 mt-3"},ef={class:"bg-white rounded-lg p-3 text-center border border-gray-200"},tf={class:"text-gray-800 font-bold text-2xl"},sf={class:"bg-white rounded-lg p-3 text-center border border-gray-200"},nf={class:"text-gray-800 font-bold text-2xl"},of={class:"bg-white rounded-lg p-3 text-center border border-gray-200"},rf={class:"text-gray-800 font-bold text-lg"},lf={key:0,class:"alert alert-warning"},af={key:1,class:"alert alert-info"},cf={key:2,class:"bg-white rounded-lg shadow-lg overflow-hidden border-2 border-slate-300"},df={class:"grid grid-cols-7 bg-slate-700"},uf=["onClick"],ff={class:"flex items-center justify-between mb-1"},pf={key:0,class:"badge badge-xs badge-success"},hf={key:0,class:"space-y-0.5"},bf={class:"text-xs truncate text-gray-600"},mf={key:0,class:"text-xs text-gray-500 pl-3"},_f={key:3,class:"bg-white rounded-lg shadow-lg p-4 border-l-4 border-lime-500"},gf={class:"flex items-center justify-between mb-4"},vf={class:"text-lg font-semibold text-gray-700"},yf={class:"overflow-x-auto"},xf={class:"table table-sm"},wf={class:"text-xs"},Cf={class:"badge badge-outline badge-sm"},$f={class:"text-xs font-medium"},Ef={class:"text-xs text-gray-600"},Sf={class:"text-xs"},kf={class:"text-xs text-right font-semibold"},Rf={class:"bg-lime-100 font-semibold"},Af={class:"text-right text-xs"},Df={key:4,class:"alert alert-info"},Of={__name:"TabCalendar",setup(e){const t=cs(),{resourcesProject:n}=Nc(t),o=ie(!0),r=["Lun","Mar","Mi","Jue","Vie","Sb","Dom"],l=ie(0),a=ie(null),i=Q(()=>{const v=new Date,w=v.getFullYear(),C=v.getMonth()+l.value,N=new Date(w,C,1),P=new Date(w,C+1,0);return{year:N.getFullYear(),month:N.getMonth(),firstDay:N,lastDay:P,daysInMonth:P.getDate()}}),c=Q(()=>{if(!n.value||n.value.length===0)return[];const{firstDay:v,lastDay:w}=i.value,C=Math.ceil((w-v)/(1e3*60*60*24))+1;return Bu(n.value,C,v)}),p=Q(()=>{const v={};return c.value.forEach(w=>{v[w.scheduled_date]||(v[w.scheduled_date]=[]),v[w.scheduled_date].push(w)}),v}),u=Q(()=>{const{firstDay:v,daysInMonth:w,year:C,month:N}=i.value,P=[];let Re=(v.getDay()+6)%7,ce=[];for(let me=0;me<Re;me++)ce.push(null);for(let me=1;me<=w;me++){const Ae=`${C}-${String(N+1).padStart(2,"0")}-${String(me).padStart(2,"0")}`,ke=p.value[Ae]||[];ce.push({day:me,dateStr:Ae,maintenances:ke,isToday:b(C,N,me),hasMaintenances:ke.length>0}),ce.length===7&&(P.push(ce),ce=[])}if(ce.length>0){for(;ce.length<7;)ce.push(null);P.push(ce)}return P}),b=(v,w,C)=>{const N=new Date;return N.getFullYear()===v&&N.getMonth()===w&&N.getDate()===C},f=Q(()=>Ku(c.value)),d=Q(()=>{const{firstDay:v}=i.value;return{monthYear:v.toLocaleDateString("es-GT",{month:"long",year:"numeric"})}}),$=()=>{l.value-=1,a.value=null},y=()=>{l.value+=1,a.value=null},x=()=>{l.value=0,a.value=null},j=v=>{v&&v.hasMaintenances&&(a.value=a.value?.dateStr===v.dateStr?null:v)},F=v=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(v),W=v=>({DAY:"bg-blue-500",WEEK:"bg-purple-500",MONTH:"bg-orange-500"})[v]||"bg-gray-500",K=v=>({DAY:"badge-primary",WEEK:"badge-secondary",MONTH:"badge-accent"})[v]||"badge-ghost",G=v=>{switch(v.frequency_type){case"DAY":return v.interval_days===0?"Diario":`Cada ${v.interval_days} das`;case"WEEK":return"Semanal";case"MONTH":return"Mensual";default:return v.frequency_type}};return bt(async()=>{(!n.value||n.value.length===0)&&await t.fetchResourcesProject(),o.value=!1}),je(n,v=>{v&&v.length>0&&(o.value=!1)},{immediate:!0}),(v,w)=>(E(),k("div",Yu,[s("div",zu,[s("div",Qu,[s("button",{onClick:$,class:"btn btn-circle btn-sm bg-white text-gray-600 hover:bg-gray-50 border-gray-300"},[...w[1]||(w[1]=[s("i",{class:"las la-chevron-left text-xl"},null,-1)])]),s("div",Ju,[s("h2",Xu,_(d.value.monthYear),1),l.value!==0?(E(),k("button",{key:0,onClick:x,class:"btn btn-xs bg-white text-gray-600 hover:bg-gray-50 border-gray-300 mt-2"},[...w[2]||(w[2]=[s("i",{class:"las la-calendar-day"},null,-1),L(" Mes Actual ",-1)])])):z("",!0)]),s("button",{onClick:y,class:"btn btn-circle btn-sm bg-white text-gray-600 hover:bg-gray-50 border-gray-300"},[...w[3]||(w[3]=[s("i",{class:"las la-chevron-right text-xl"},null,-1)])])]),s("div",Zu,[s("div",ef,[w[4]||(w[4]=s("p",{class:"text-gray-500 text-xs"},"Mantenimientos",-1)),s("p",tf,_(f.value.total_maintenances),1)]),s("div",sf,[w[5]||(w[5]=s("p",{class:"text-gray-500 text-xs"},"Recursos",-1)),s("p",nf,_(f.value.resources_count),1)]),s("div",of,[w[6]||(w[6]=s("p",{class:"text-gray-500 text-xs"},"Costo Total",-1)),s("p",rf,_(F(f.value.total_cost)),1)])]),w[7]||(w[7]=Gi('<div class="flex justify-center gap-3 mt-2 bg-slate-800 text-white rounded-lg py-1.5 px-2"><div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-blue-500"></span><span class="text-white text-xs">Intervalo das</span></div><div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-purple-500"></span><span class="text-white text-xs">Das semana</span></div><div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-orange-500"></span><span class="text-white text-xs">Das mes</span></div></div>',1))]),o.value?(E(),k("div",lf,[...w[8]||(w[8]=[s("i",{class:"las la-spinner la-spin text-2xl"},null,-1),s("span",null,"Cargando recursos del proyecto...",-1)])])):!be(n)||be(n).length===0?(E(),k("div",af,[...w[9]||(w[9]=[s("i",{class:"las la-info-circle text-2xl"},null,-1),s("span",null,"No hay recursos asignados a este proyecto.",-1)])])):(E(),k("div",cf,[s("div",df,[(E(),k(re,null,_e(r,C=>s("div",{key:C,class:"p-2 text-center text-sm font-semibold text-white border-r border-slate-600 last:border-r-0"},_(C),1)),64))]),(E(!0),k(re,null,_e(u.value,(C,N)=>(E(),k("div",{key:N,class:"grid grid-cols-7 border-t-2 border-slate-300"},[(E(!0),k(re,null,_e(C,(P,Re)=>(E(),k("div",{key:Re,class:se(["min-h-24 p-1 border-r-2 border-slate-300 last:border-r-0 transition-colors",{"bg-gray-50":!P,"bg-lime-50 hover:bg-lime-100 cursor-pointer":P?.hasMaintenances,"bg-white":P&&!P.hasMaintenances,"ring-2 ring-lime-500 ring-inset":P?.isToday,"bg-lime-200":a.value?.dateStr===P?.dateStr}]),onClick:ce=>j(P)},[P?(E(),k(re,{key:0},[s("div",ff,[s("span",{class:se(["text-sm font-medium",{"text-lime-700":P.isToday,"text-gray-700":!P.isToday&&P.hasMaintenances,"text-gray-400":!P.hasMaintenances}])},_(P.day),3),P.hasMaintenances?(E(),k("span",pf,_(P.maintenances.length),1)):z("",!0)]),P.hasMaintenances?(E(),k("div",hf,[(E(!0),k(re,null,_e(P.maintenances.slice(0,3),(ce,me)=>(E(),k("div",{key:ce.resource_id,class:"flex items-center gap-1"},[s("span",{class:se(["w-2 h-2 rounded-full flex-shrink-0",W(ce.frequency_type)])},null,2),s("span",bf,_(ce.resource_code),1)]))),128)),P.maintenances.length>3?(E(),k("div",mf," +"+_(P.maintenances.length-3)+" ms ",1)):z("",!0)])):z("",!0)],64)):z("",!0)],10,uf))),128))]))),128))])),a.value?(E(),k("div",_f,[s("div",gf,[s("h3",vf,[w[10]||(w[10]=s("i",{class:"las la-calendar-check text-lime-600"},null,-1)),L(" Mantenimientos del "+_(new Date(a.value.dateStr).toLocaleDateString("es-GT",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),1)]),s("button",{onClick:w[0]||(w[0]=C=>a.value=null),class:"btn btn-circle btn-sm btn-ghost"},[...w[11]||(w[11]=[s("i",{class:"las la-times"},null,-1)])])]),s("div",yf,[s("table",xf,[w[13]||(w[13]=s("thead",null,[s("tr",{class:"bg-lime-50"},[s("th",{class:"text-xs"},"Cdigo"),s("th",{class:"text-xs"},"Recurso"),s("th",{class:"text-xs"},"Descripcin"),s("th",{class:"text-xs"},"Frecuencia"),s("th",{class:"text-xs text-right"},"Costo")])],-1)),s("tbody",null,[(E(!0),k(re,null,_e(a.value.maintenances,C=>(E(),k("tr",{key:C.resource_id,class:"hover:bg-lime-50"},[s("td",wf,[s("span",Cf,_(C.resource_code),1)]),s("td",$f,_(C.resource_name),1),s("td",Ef,_(C.description||"-"),1),s("td",Sf,[s("span",{class:se(["badge badge-sm",K(C.frequency_type)])},_(G(C)),3)]),s("td",kf,_(F(C.cost)),1)]))),128))]),s("tfoot",null,[s("tr",Rf,[w[12]||(w[12]=s("td",{colspan:"4",class:"text-right text-xs"},"Total del da:",-1)),s("td",Af,_(F(a.value.maintenances.reduce((C,N)=>C+N.cost,0))),1)])])])])])):z("",!0),be(n)&&be(n).length>0&&c.value.length===0?(E(),k("div",Df,[...w[14]||(w[14]=[s("i",{class:"las la-info-circle text-2xl"},null,-1),s("span",null,"No hay mantenimientos programados para este mes.",-1)])])):z("",!0)]))}},If={key:0,class:"flex justify-between items-center mb-4 pb-3 border-b-2 border-blue-300"},Pf={class:"text-lg font-semibold text-gray-700"},Tf={class:"modal-content"},Is={__name:"Modal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"lg",validator:e=>["sm","md","lg","xl","2xl"].includes(e)}},emits:["close"],setup(e,{emit:t}){const n=t,o=()=>{n("close")},r={sm:"modal-box w-11/12 max-w-md",md:"modal-box w-11/12 max-w-2xl",lg:"modal-box w-11/12 max-w-4xl",xl:"modal-box w-11/12 max-w-6xl","2xl":"modal-box w-11/12 max-w-7xl"};return(l,a)=>(E(),k("div",{class:se(["modal",{"modal-open":e.isOpen}])},[s("div",{class:se(r[e.size])},[e.title?(E(),k("div",If,[s("h3",Pf,_(e.title),1),s("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:o},"  ")])):z("",!0),s("div",Tf,[ui(l.$slots,"default")])],2),s("div",{class:"modal-backdrop",onClick:o})],2))}},vo=zt("resourcesStore",{state:()=>({selectedResource:null,resources:[],newResource:{id:null,code:null,name:null,type:null,type_equipment:null,type_equipment_display:null,brand:null,model:null,status_equipment:null,status_disponibility:null,current_location:null,capacity_gallons:null,is_selected:!1,is_confirm_delete:!1,is_retired:!1}}),getters:{resourcesAvailable:e=>e.resources,physicalEquipmentsNotAvailable:e=>e.resources.filter(t=>t.type_equipment!=="SERVIC"&&t.available===!1)},actions:{async fetchResourcesAvailable(){console.log("Fetching available resources...");try{const e=await fetch(ue.URLSourcesAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.resources=t.data||[]}catch(e){console.error("Error fetching available resources:",e),this.resources=[]}},setSelectedResource(e){console.log("Setting selected resource with ID:",e),this.selectedResource=this.resources.find(t=>t.id===e)||null}}}),Nf={class:"form-control w-full relative"},jf={key:0,class:"label"},Mf={class:"label-text"},Ff=["placeholder"],Vf={key:1,class:"absolute z-10 w-full mt-1 bg-base-100 shadow-lg rounded-lg max-h-60 overflow-auto top-full"},Uf={class:"menu"},Lf=["onMousedown"],qf={class:"hover:bg-base-200"},Jl={__name:"AutocompleteResource",props:{label:{type:String,default:"Recurso"},placeholder:{type:String,default:"Buscar recurso..."},excludeIds:{type:Array,default:()=>[]}},emits:["resource-selected"],setup(e,{emit:t}){const n=e,o=t,r=vo(),l=ie(""),a=ie(!1),i=Q(()=>{const f=r.resourcesAvailable||r.resources;return Array.isArray(f)?f:f&&typeof f=="object"?Object.values(f):[]});bt(async()=>{console.log("mounted AutocompleteResource"),await r.fetchResourcesAvailable()});const c=Q(()=>{let f=i.value;return f=f.filter(d=>d.available===!0),n.excludeIds.length>0&&(f=f.filter(d=>!n.excludeIds.includes(d.id))),l.value?f.filter(d=>(d.display_name||d.title||"").toLowerCase().includes(l.value.toLowerCase())):f}),p=()=>{a.value=!0},u=f=>{l.value="",r.setSelectedResource(f.id),a.value=!1,o("resource-selected",f)},b=()=>{setTimeout(()=>{a.value=!1},200)};return(f,d)=>(E(),k("div",Nf,[e.label?(E(),k("label",jf,[s("span",Mf,_(e.label),1)])):z("",!0),Z(s("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=$=>l.value=$),onInput:p,onFocus:d[1]||(d[1]=$=>a.value=!0),onBlur:b,placeholder:e.placeholder,class:"input input-bordered w-full"},null,40,Ff),[[de,l.value]]),a.value&&c.value.length>0?(E(),k("div",Vf,[s("ul",Uf,[(E(!0),k(re,null,_e(c.value,$=>(E(),k("li",{key:$.id,onMousedown:y=>u($)},[s("a",qf,_($.display_name||$.title),1)],40,Lf))),128))])])):z("",!0)]))}},Bf={class:"space-y-4"},Hf={key:0,class:"alert alert-error shadow-lg"},Gf={key:1,class:"alert alert-success shadow-lg"},Wf={key:0,class:"grid grid-cols-12 gap-4 items-center"},Kf={class:"col-span-8"},Yf={key:1,class:"grid grid-cols-12 gap-4 items-center"},zf={class:"col-span-8"},Qf=["value"],Jf={class:"grid grid-cols-12 gap-4 items-start"},Xf={class:"col-span-8"},Zf={class:"grid grid-cols-12 gap-4 items-center"},ep={class:"col-span-8"},tp={class:"grid grid-cols-12 gap-4 items-center"},sp={class:"col-span-8"},np={class:"grid grid-cols-12 gap-4 items-center"},op={class:"col-span-8"},rp=["disabled"],lp={class:"grid grid-cols-12 gap-4 items-center"},ap={class:"col-span-8"},ip=["disabled"],cp={class:"grid grid-cols-12 gap-4 items-center"},dp={class:"col-span-8"},up={class:"label cursor-pointer justify-start gap-3"},fp=["disabled"],pp={class:"label-text"},hp={key:2,class:"bg-gray-50 rounded-lg p-4 space-y-3"},bp={class:"grid grid-cols-12 gap-4 items-center"},mp={class:"col-span-8"},_p=["value"],gp={key:0,class:"grid grid-cols-12 gap-4 items-center"},vp={class:"col-span-8"},yp={class:"label"},xp={class:"label-text-alt text-info"},wp={key:1,class:"grid grid-cols-12 gap-4 items-start"},Cp={class:"col-span-8"},$p={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-2"},Ep=["onClick"],Sp={class:"hidden sm:inline"},kp={class:"sm:hidden"},Rp={class:"label"},Ap={class:"label-text-alt text-info"},Dp={key:2,class:"grid grid-cols-12 gap-4 items-start"},Op={class:"col-span-8"},Ip={class:"grid grid-cols-7 sm:grid-cols-10 gap-2"},Pp=["onClick"],Tp={class:"label"},Np={class:"label-text-alt text-info"},jp={class:"flex justify-end gap-3 pt-4"},Mp=["disabled"],Fp=["disabled"],Vp={key:0,class:"loading loading-spinner loading-sm"},Up={key:1},Lp={__name:"ResourceForm",props:{resource:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,r=cs(),l=vo(),a=Ve(),i=ie(!1),c=ie(""),p=ie(""),u=[{value:"DAY",label:"Por intervalo de das"},{value:"WEEK",label:"Das de la semana"},{value:"MONTH",label:"Das del mes"}],b=[{value:0,label:"Lunes"},{value:1,label:"Martes"},{value:2,label:"Mircoles"},{value:3,label:"Jueves"},{value:4,label:"Viernes"},{value:5,label:"Sbado"},{value:6,label:"Domingo"}],f=ie({id:null,resource_id:null,resource_display_name:"",detailed_description:"",type_resource:"SERVICIO",cost:0,frequency_type:"DAY",interval_days:3,weekdays:[],monthdays:[],maintenance_cost:0,operation_start_date:null,operation_end_date:null,include_maintenance:!0}),d=Q(()=>!!n.resource),$=Q(()=>f.value.type_resource==="SERVICIO"),y=Q(()=>d.value?r.resources.filter(w=>w.id!==n.resource?.id&&w.type_resource==="EQUIPO").map(w=>w.resource_id):r.resources.filter(w=>w.type_resource==="EQUIPO").map(w=>w.resource_id));je(()=>n.resource,w=>{w&&(f.value={id:w.id,resource_id:w.resource_id,resource_display_name:w.resource_display_name||w.detailed_description,detailed_description:w.detailed_description,type_resource:w.type_resource,cost:w.cost||0,frequency_type:w.frequency_type||"DAY",interval_days:w.interval_days||3,weekdays:w.weekdays||[],monthdays:w.monthdays||[],maintenance_cost:w.maintenance_cost||0,operation_start_date:w.operation_start_date,operation_end_date:w.operation_end_date,include_maintenance:w.interval_days>0||w.weekdays&&w.weekdays.length>0||w.monthdays&&w.monthdays.length>0})},{immediate:!0});const x=()=>{const w=l.selectedResource;w&&(f.value.resource_id=w.id,f.value.resource_display_name=w.display_name,f.value.detailed_description=w.display_name,f.value.type_resource=w.type_equipment==="SERVIC"?"SERVICIO":"EQUIPO",f.value.type_resource==="SERVICIO"&&(f.value.include_maintenance=!0,f.value.frequency_type="DAY",f.value.interval_days=3))},j=()=>{f.value.include_maintenance?f.value.frequency_type==="DAY"&&f.value.interval_days===0&&(f.value.interval_days=3):(f.value.frequency_type="DAY",f.value.interval_days=0,f.value.weekdays=[],f.value.monthdays=[],f.value.maintenance_cost=0)},F=()=>{f.value.frequency_type==="DAY"?(f.value.interval_days=f.value.interval_days||3,f.value.weekdays=[],f.value.monthdays=[]):f.value.frequency_type==="WEEK"?(f.value.interval_days=0,f.value.weekdays=f.value.weekdays||[],f.value.monthdays=[]):f.value.frequency_type==="MONTH"&&(f.value.interval_days=0,f.value.weekdays=[],f.value.monthdays=f.value.monthdays||[])},W=w=>{const C=f.value.weekdays.indexOf(w);C===-1?f.value.weekdays.push(w):f.value.weekdays.splice(C,1)},K=w=>{const C=f.value.monthdays.indexOf(w);C===-1?f.value.monthdays.push(w):f.value.monthdays.splice(C,1)},G=()=>{if(!d.value&&!f.value.resource_id)return c.value="Debe seleccionar un recurso",!1;if(!f.value.operation_start_date)return c.value="Debe ingresar la fecha de inicio de operaciones",!1;if(f.value.include_maintenance){if(f.value.frequency_type==="DAY"&&(!f.value.interval_days||f.value.interval_days<1))return c.value="El intervalo de das debe ser mayor a 0",!1;if(f.value.frequency_type==="WEEK"&&(!f.value.weekdays||f.value.weekdays.length===0))return c.value="Debe seleccionar al menos un da de la semana",!1;if(f.value.frequency_type==="MONTH"&&(!f.value.monthdays||f.value.monthdays.length===0))return c.value="Debe seleccionar al menos un da del mes",!1}return!0},v=async()=>{if(c.value="",p.value="",!!G()){i.value=!0;try{const w={...f.value,interval_days:f.value.include_maintenance&&f.value.frequency_type==="DAY"?f.value.interval_days:0,weekdays:f.value.include_maintenance&&f.value.frequency_type==="WEEK"?f.value.weekdays:null,monthdays:f.value.include_maintenance&&f.value.frequency_type==="MONTH"?f.value.monthdays:null};d.value?(await r.updateResourceProject(w),p.value="Recurso actualizado exitosamente"):(await r.addResourcesToProject([w]),p.value="Recurso agregado exitosamente"),setTimeout(()=>{o("close")},1500)}catch(w){console.error("Error al guardar recurso:",w),c.value=w.message||"Error al guardar el recurso"}finally{i.value=!1}}};return bt(()=>{d.value||(f.value.operation_start_date=a.project?.start_date||null)}),(w,C)=>(E(),k("div",Bf,[c.value?(E(),k("div",Hf,[s("div",null,[C[10]||(C[10]=s("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),s("span",null,_(c.value),1)]),s("button",{onClick:C[0]||(C[0]=N=>c.value=""),class:"btn btn-sm btn-ghost"},[...C[11]||(C[11]=[s("i",{class:"las la-times"},null,-1)])])])):z("",!0),p.value?(E(),k("div",Gf,[s("div",null,[C[12]||(C[12]=s("i",{class:"las la-check-circle text-2xl"},null,-1)),s("span",null,_(p.value),1)])])):z("",!0),s("form",{onSubmit:Ds(v,["prevent"]),class:"space-y-3"},[d.value?(E(),k("div",Yf,[C[14]||(C[14]=s("label",{class:"col-span-4 text-right font-semibold"}," Recurso ",-1)),s("div",zf,[s("input",{type:"text",class:"input input-bordered bg-gray-100 w-full",value:f.value.resource_display_name,disabled:""},null,8,Qf)])])):(E(),k("div",Wf,[C[13]||(C[13]=s("label",{class:"col-span-4 text-right font-semibold"},[L(" Seleccionar Recurso "),s("span",{class:"text-error"},"*")],-1)),s("div",Kf,[Ce(Jl,{placeholder:"Buscar recurso disponible...",excludeIds:y.value,onResourceSelected:x},null,8,["excludeIds"])])])),s("div",Jf,[C[15]||(C[15]=s("label",{class:"col-span-4 text-right font-semibold pt-3"}," Descripcin Detallada ",-1)),s("div",Xf,[Z(s("textarea",{class:"textarea textarea-bordered h-20 w-full","onUpdate:modelValue":C[1]||(C[1]=N=>f.value.detailed_description=N),placeholder:"Ingrese detalles adicionales del recurso..."},null,512),[[de,f.value.detailed_description]])])]),s("div",Zf,[C[16]||(C[16]=s("label",{class:"col-span-4 text-right font-semibold"},[L(" Fecha Inicio Operaciones "),s("span",{class:"text-error"},"*")],-1)),s("div",ep,[Z(s("input",{type:"date",class:"input input-bordered w-full","onUpdate:modelValue":C[2]||(C[2]=N=>f.value.operation_start_date=N),required:""},null,512),[[de,f.value.operation_start_date]])])]),s("div",tp,[C[17]||(C[17]=s("label",{class:"col-span-4 text-right font-semibold"}," Fecha Fin Operaciones ",-1)),s("div",sp,[Z(s("input",{type:"date",class:"input input-bordered w-full","onUpdate:modelValue":C[3]||(C[3]=N=>f.value.operation_end_date=N)},null,512),[[de,f.value.operation_end_date]])])]),s("div",np,[C[18]||(C[18]=s("label",{class:"col-span-4 text-right font-semibold"}," Costo Alquiler (Bs) ",-1)),s("div",op,[Z(s("input",{type:"number",step:"0.01",min:"0",class:"input input-bordered text-right w-full","onUpdate:modelValue":C[4]||(C[4]=N=>f.value.cost=N),placeholder:"0.00",disabled:$.value},null,8,rp),[[de,f.value.cost]])])]),s("div",lp,[C[19]||(C[19]=s("label",{class:"col-span-4 text-right font-semibold"}," Costo Mantenimiento (Bs) ",-1)),s("div",ap,[Z(s("input",{type:"number",step:"0.01",min:"0",class:"input input-bordered text-right w-full","onUpdate:modelValue":C[5]||(C[5]=N=>f.value.maintenance_cost=N),placeholder:"0.00",disabled:!f.value.include_maintenance},null,8,ip),[[de,f.value.maintenance_cost]])])]),C[28]||(C[28]=s("div",{class:"divider"},"Configuracin de Mantenimiento",-1)),s("div",cp,[C[20]||(C[20]=s("label",{class:"col-span-4 text-right font-semibold"}," Incluir Mantenimiento ",-1)),s("div",dp,[s("label",up,[Z(s("input",{type:"checkbox",class:"checkbox checkbox-primary","onUpdate:modelValue":C[6]||(C[6]=N=>f.value.include_maintenance=N),disabled:$.value,onChange:j},null,40,fp),[[Tt,f.value.include_maintenance]]),s("span",pp,_(f.value.include_maintenance?"S":"No"),1)])])]),f.value.include_maintenance?(E(),k("div",hp,[s("div",bp,[C[21]||(C[21]=s("label",{class:"col-span-4 text-right font-semibold"},[L(" Tipo de Frecuencia "),s("span",{class:"text-error"},"*")],-1)),s("div",mp,[Z(s("select",{class:"select select-bordered w-full","onUpdate:modelValue":C[7]||(C[7]=N=>f.value.frequency_type=N),onChange:F},[(E(),k(re,null,_e(u,N=>s("option",{key:N.value,value:N.value},_(N.label),9,_p)),64))],544),[[Ct,f.value.frequency_type]])])]),f.value.frequency_type==="DAY"?(E(),k("div",gp,[C[23]||(C[23]=s("label",{class:"col-span-4 text-right font-semibold"},[L(" Intervalo en das "),s("span",{class:"text-error"},"*")],-1)),s("div",vp,[Z(s("input",{type:"number",min:"1",class:"input input-bordered w-full","onUpdate:modelValue":C[8]||(C[8]=N=>f.value.interval_days=N),placeholder:"Ej: 3",required:""},null,512),[[de,f.value.interval_days]]),s("div",yp,[s("span",xp,[C[22]||(C[22]=s("i",{class:"las la-info-circle"},null,-1)),L(" Mantenimiento cada "+_(f.value.interval_days||0)+" da(s) ",1)])])])])):f.value.frequency_type==="WEEK"?(E(),k("div",wp,[C[25]||(C[25]=s("label",{class:"col-span-4 text-right font-semibold pt-2"},[L(" Das de la semana "),s("span",{class:"text-error"},"*")],-1)),s("div",Cp,[s("div",$p,[(E(),k(re,null,_e(b,N=>s("button",{key:N.value,type:"button",class:se(["btn btn-sm",f.value.weekdays.includes(N.value)?"btn-primary":"btn-outline"]),onClick:P=>W(N.value)},[s("span",Sp,_(N.label),1),s("span",kp,_(N.label.substring(0,3)),1)],10,Ep)),64))]),s("div",Rp,[s("span",Ap,[C[24]||(C[24]=s("i",{class:"las la-info-circle"},null,-1)),L(" "+_(f.value.weekdays.length)+" da(s) seleccionado(s) ",1)])])])])):f.value.frequency_type==="MONTH"?(E(),k("div",Dp,[C[27]||(C[27]=s("label",{class:"col-span-4 text-right font-semibold pt-2"},[L(" Das del mes "),s("span",{class:"text-error"},"*")],-1)),s("div",Op,[s("div",Ip,[(E(),k(re,null,_e(31,N=>s("button",{key:N,type:"button",class:se(["btn btn-sm",f.value.monthdays.includes(N)?"btn-primary":"btn-outline"]),onClick:P=>K(N)},_(N),11,Pp)),64))]),s("div",Tp,[s("span",Np,[C[26]||(C[26]=s("i",{class:"las la-info-circle"},null,-1)),L(" "+_(f.value.monthdays.length)+" da(s) seleccionado(s) ",1)])])])])):z("",!0)])):z("",!0),s("div",jp,[s("button",{type:"button",class:"btn btn-ghost",onClick:C[9]||(C[9]=N=>o("close")),disabled:i.value}," Cancelar ",8,Mp),s("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(E(),k("span",Vp)):(E(),k("span",Up,_(d.value?"Actualizar":"Guardar"),1))],8,Fp)])],32)]))}},qp={class:"max-w-2xl mx-auto p-1"},Bp={class:"text-xl font-bold mb-6"},Hp={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Gp={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Wp={class:"border-b-1 border-r-1 border-sky-200"},Kp={class:"ml-2"},Yp={class:"border-b-1 border-r-1 border-sky-200"},zp={class:"ml-2"},Qp={class:"border-b-1 border-r-1 border-sky-200"},Jp={class:"ml-2"},Xp={class:"border-b-1 border-r-1 border-sky-200"},Zp={class:"ml-2"},eh={class:"border-b-1 border-r-1 border-sky-200"},th={class:"ml-2"},sh={key:0,class:"border-b-1 border-r-1 border-sky-200"},nh={key:1,class:"border-b-1 border-r-1 border-sky-200"},oh={class:"ml-2"},rh={key:2,class:"border-b-1 border-r-1 border-sky-200"},lh={class:"ml-2"},ah={key:3,class:"border-b-1 border-r-1 border-sky-200"},ih={class:"ml-2"},ch={key:4,class:"border-b-1 border-r-1 border-sky-200"},dh={class:"ml-2"},uh={key:0,class:"alert alert-error shadow-lg mb-4"},fh={key:0,class:"form-control w-full"},ph={class:"label",for:"issue_date"},hh={class:"label-text font-medium"},bh={key:0,class:"text-error"},mh=["required"],_h={class:"label"},gh={class:"form-control w-full"},vh={key:1,class:"form-control w-full"},yh={class:"label",for:"period_end"},xh={class:"label-text font-medium"},wh={key:0,class:"text-error"},Ch=["required"],$h={class:"label"},Eh={class:"form-control w-full"},Sh={key:2,class:"form-control w-full"},kh={key:3,class:"form-control w-full"},Rh={key:4,class:"form-control w-full"},Ah={class:"label"},Dh={class:"flex gap-3 justify-end mt-6"},Oh={type:"submit",class:"btn btn-primary"},Ih={__name:"SheetPorjectForm",props:{sheet:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,r=go(),l=Ve(),a=Q(()=>l.project),i=Q(()=>n.sheet!==null),c=ie({issue_date:"",period_start:"",period_end:"",service_type:"ALQUILER Y MANTENIMIENTO",contact_reference:"",contact_phone_reference:""}),p=ie(""),u=ie("");bt(async()=>{await l.fetchProjectData(),i.value||r.initializeNewSheetProject(a.value)}),je(()=>n.sheet,y=>{y&&(c.value={issue_date:y.issue_date||"",period_start:y.period_start||"",period_end:y.period_end||"",service_type:y.service_type||"ALQUILER Y MANTENIMIENTO",contact_reference:y.contact_reference||"",contact_phone_reference:y.contact_phone_reference||""})},{immediate:!0});const b=async y=>{if(y.preventDefault(),p.value="",u.value==="close"){if(!c.value.issue_date){p.value="La fecha de emisin es requerida para cerrar la planilla";return}if(!c.value.period_end){p.value="La fecha de fin de perodo es requerida para cerrar la planilla";return}}try{if(i.value){const x={id:n.sheet.id,issue_date:c.value.issue_date||null,period_start:c.value.period_start,period_end:c.value.period_end||null,service_type:c.value.service_type,contact_reference:c.value.contact_reference,contact_phone_reference:c.value.contact_phone_reference,status:u.value==="close"?"INVOICED":n.sheet.status};await r.updateSheetProject(x),console.log("Planilla actualizada:",n.sheet.id)}else{const x={...r.newSheetProject,period_start:c.value.period_start,service_type:c.value.service_type},j=await r.addSheetProject(x);console.log("Planilla creada con ID:",j)}o("close")}catch(x){console.error("Error al guardar planilla:",x),p.value=x.message||"Error al guardar la planilla"}},f=()=>{o("close")},d=y=>y?new Intl.DateTimeFormat("es-GT").format(new Date(y)):"N/A",$=y=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[y]||{text:y,class:"badge-ghost"};return(y,x)=>(E(),k("div",qp,[s("h5",Bp,_(i.value?`Planilla #${e.sheet.id} - ${e.sheet.series_code}`:"Nueva Planilla de Proyecto"),1),s("div",Hp,[x[17]||(x[17]=s("h6",{class:"font-semibold text-lg mb-3"},"Informacin del Proyecto",-1)),s("div",Gp,[s("div",Wp,[x[7]||(x[7]=s("span",{class:"font-medium"},"Proyecto ID:",-1)),s("span",Kp,_(a.value?.id),1)]),s("div",Yp,[x[8]||(x[8]=s("span",{class:"font-medium"},"Cliente:",-1)),s("span",zp,_(a.value?.partner_name),1)]),s("div",Qp,[x[9]||(x[9]=s("span",{class:"font-medium"},"Ubicacin:",-1)),s("span",Jp,_(a.value?.location),1)]),s("div",Xp,[x[10]||(x[10]=s("span",{class:"font-medium"},"Contacto:",-1)),s("span",Zp,_(a.value?.contact_name),1)]),s("div",eh,[x[11]||(x[11]=s("span",{class:"font-medium"},"Telfono:",-1)),s("span",th,_(a.value?.contact_phone),1)]),i.value?(E(),k("div",sh,[x[12]||(x[12]=s("span",{class:"font-medium"},"Estado:",-1)),s("span",{class:se(["ml-2 badge",$(e.sheet.status).class])},_($(e.sheet.status).text),3)])):z("",!0),i.value?(E(),k("div",nh,[x[13]||(x[13]=s("span",{class:"font-medium"},"Fecha Emisin:",-1)),s("span",oh,_(d(e.sheet.issue_date)),1)])):z("",!0),i.value?(E(),k("div",rh,[x[14]||(x[14]=s("span",{class:"font-medium"},"Total Galones:",-1)),s("span",lh,_(e.sheet.total_gallons?.toLocaleString()||0),1)])):z("",!0),i.value?(E(),k("div",ah,[x[15]||(x[15]=s("span",{class:"font-medium"},"Total Barriles:",-1)),s("span",ih,_(e.sheet.total_barrels?.toLocaleString()||0),1)])):z("",!0),i.value?(E(),k("div",ch,[x[16]||(x[16]=s("span",{class:"font-medium"},"Total M:",-1)),s("span",dh,_(e.sheet.total_cubic_meters?.toFixed(1)||0),1)])):z("",!0)])]),p.value?(E(),k("div",uh,[s("div",null,[x[18]||(x[18]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("span",null,_(p.value),1)])])):z("",!0),s("form",{onSubmit:Ds(b,["prevent"]),class:"space-y-4"},[i.value?(E(),k("div",fh,[s("label",ph,[s("span",hh,[x[19]||(x[19]=L("Fecha de Emisin ",-1)),u.value==="close"?(E(),k("span",bh,"*")):z("",!0)])]),Z(s("input",{type:"date",id:"issue_date","onUpdate:modelValue":x[0]||(x[0]=j=>c.value.issue_date=j),class:se(["input input-bordered w-full",u.value==="close"&&!c.value.issue_date?"input-error":""]),required:u.value==="close"},null,10,mh),[[de,c.value.issue_date]]),s("label",_h,[s("span",{class:se(["label-text-alt",u.value==="close"?"text-error font-semibold":""])},_(u.value==="close"?"Requerida para cerrar la planilla":"Fecha de emisin de la planilla"),3)])])):z("",!0),s("div",gh,[x[20]||(x[20]=s("label",{class:"label",for:"period_start"},[s("span",{class:"label-text font-medium"},"Fecha Inicio Perodo *")],-1)),Z(s("input",{type:"date",id:"period_start","onUpdate:modelValue":x[1]||(x[1]=j=>c.value.period_start=j),required:"",class:"input input-bordered w-full"},null,512),[[de,c.value.period_start]]),x[21]||(x[21]=s("label",{class:"label"},[s("span",{class:"label-text-alt"},"Fecha de inicio del perodo a facturar")],-1))]),i.value?(E(),k("div",vh,[s("label",yh,[s("span",xh,[x[22]||(x[22]=L("Fecha Fin Perodo ",-1)),u.value==="close"?(E(),k("span",wh,"*")):z("",!0)])]),Z(s("input",{type:"date",id:"period_end","onUpdate:modelValue":x[2]||(x[2]=j=>c.value.period_end=j),class:se(["input input-bordered w-full",u.value==="close"&&!c.value.period_end?"input-error":""]),required:u.value==="close"},null,10,Ch),[[de,c.value.period_end]]),s("label",$h,[s("span",{class:se(["label-text-alt",u.value==="close"?"text-error font-semibold":""])},_(u.value==="close"?"Requerida para cerrar la planilla":"Fecha de fin del perodo (opcional)"),3)])])):z("",!0),s("div",Eh,[x[24]||(x[24]=s("label",{class:"label",for:"service_type"},[s("span",{class:"label-text font-medium"},"Tipo de Servicio *")],-1)),Z(s("select",{id:"service_type","onUpdate:modelValue":x[3]||(x[3]=j=>c.value.service_type=j),required:"",class:"select select-bordered w-full"},[...x[23]||(x[23]=[s("option",{value:"ALQUILER"},"ALQUILER",-1),s("option",{value:"MANTENIMIENTO"},"MANTENIMIENTO",-1),s("option",{value:"ALQUILER Y MANTENIMIENTO"},"ALQUILER Y MANTENIMIENTO",-1)])],512),[[Ct,c.value.service_type]])]),i.value?(E(),k("div",Sh,[x[25]||(x[25]=s("label",{class:"label",for:"contact_reference"},[s("span",{class:"label-text font-medium"},"Contacto de Referencia")],-1)),Z(s("input",{type:"text",id:"contact_reference","onUpdate:modelValue":x[4]||(x[4]=j=>c.value.contact_reference=j),placeholder:"Nombre del contacto",class:"input input-bordered w-full"},null,512),[[de,c.value.contact_reference]])])):z("",!0),i.value?(E(),k("div",kh,[x[26]||(x[26]=s("label",{class:"label",for:"contact_phone_reference"},[s("span",{class:"label-text font-medium"},"Telfono de Referencia")],-1)),Z(s("input",{type:"text",id:"contact_phone_reference","onUpdate:modelValue":x[5]||(x[5]=j=>c.value.contact_phone_reference=j),placeholder:"Telfono del contacto",class:"input input-bordered w-full"},null,512),[[de,c.value.contact_phone_reference]])])):z("",!0),i.value?(E(),k("div",Rh,[x[28]||(x[28]=s("label",{class:"label",for:"close_sheet"},[s("span",{class:"label-text font-medium"},"Cerrar Planilla")],-1)),Z(s("select",{id:"close_sheet","onUpdate:modelValue":x[6]||(x[6]=j=>u.value=j),class:"select select-bordered w-full"},[...x[27]||(x[27]=[s("option",{value:""},"Seleccionar accin",-1),s("option",{value:"close"},"Cerrar Planilla",-1)])],512),[[Ct,u.value]]),s("label",Ah,[s("span",{class:se(["label-text-alt",u.value==="close"?"text-warning font-semibold":""])},_(u.value==="close"?" Se requerirn la fecha de emisin y fecha fin de perodo":"Selecciona esta opcin para cerrar la planilla"),3)])])):z("",!0),s("div",Dh,[s("button",{type:"button",class:"btn btn-outline",onClick:f}," Cancelar "),s("button",Oh,_(i.value?"Actualizar":"Crear")+" Planilla ",1)])],32)]))}},Ph={id:"project-app",class:"w-[90%] mx-auto p-4 bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300"},Th={class:"flex justify-between items-center border-b-blue-500 border-b pb-1 mb-3"},Nh={class:"text-xl font-semibold text-blue-500"},jh={class:"flex items-center gap-3"},Mh={class:"text-gray-500"},Fh={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},Vh={class:"space-y-1"},Uh={class:"flex items-center gap-2 py-0.5"},Lh={class:"font-semibold text-xs"},qh={class:"flex items-center gap-2 py-0.5"},Bh={class:"font-semibold text-xs"},Hh={key:0,class:"badge badge-info ml-1"},Gh={class:"space-y-1"},Wh={class:"flex items-center gap-2 py-0.5"},Kh={class:"font-semibold text-xs"},Yh={class:"flex items-center gap-2 py-0.5"},zh={key:0,class:"font-semibold text-xs"},Qh={key:1,class:"text-success font-bold text-xs"},Jh={class:"space-y-1"},Xh={class:"flex items-center gap-2 py-0.5"},Zh={class:"font-semibold text-xs"},eb={class:"flex items-center gap-2 py-0.5"},tb={class:"font-semibold text-xs"},sb={role:"tablist",class:"tabs tabs-lifted bg-base-100 p-1"},nb={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},ob={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},rb={role:"tabpanel",class:"tab-content bg-base-100 rounded-box p-4"},lb={__name:"ProjectsView",setup(e){const t=Ve(),n=cs(),o=Q(()=>t.project),r=ie(!1),l=ie(""),a=ie(null),i=ie(null),c=ie(null),p=d=>{l.value="Editar Recurso del Proyecto",a.value="ResourceForm",i.value=d,r.value=!0},u=()=>{l.value="Nueva Planilla del Proyecto #"+o.value?.id,a.value="SheetProjectForm",c.value=null,r.value=!0},b=d=>{l.value="Editar Planilla #"+d.id+" - Proyecto #"+o.value?.id,a.value="SheetProjectForm",c.value=d,r.value=!0},f=()=>{r.value=!1,a.value=null,l.value="",i.value=null,c.value=null};return bt(()=>{t.fetchProjectData(),n.fetchResourcesProject()}),(d,$)=>(E(),k("div",null,[s("div",Ph,[s("div",Th,[s("h1",Nh," Ficha de Proyecto #"+_(o.value?.id||"N/A"),1),s("div",jh,[s("div",Mh,[s("span",{class:se(["badge",o.value?.is_closed?"badge-error":"badge-success"])},_(o.value?.is_closed?"Cerrado":"Abierto"),3)])])]),s("div",Fh,[s("div",Vh,[s("div",Uh,[$[0]||($[0]=s("i",{class:"las la-building text-blue-500 text-sm"},null,-1)),$[1]||($[1]=s("span",{class:"text-xs text-gray-500"},"Cliente:",-1)),s("span",Lh,_(o.value?.partner_name||"N/A"),1)]),s("div",qh,[$[2]||($[2]=s("i",{class:"las la-map-marker text-blue-500 text-sm"},null,-1)),$[3]||($[3]=s("span",{class:"text-xs text-gray-500"},"Campamento:",-1)),s("span",Bh,[L(_(o.value?.location||"N/A")+" ",1),o.value?.location&&o.value?.cardinal_point?(E(),k("span",Hh,_(o.value?.cardinal_point?` ${o.value.cardinal_point}`:""),1)):z("",!0)])])]),s("div",Gh,[s("div",Wh,[$[4]||($[4]=s("i",{class:"las la-calendar-check text-blue-500 text-sm"},null,-1)),$[5]||($[5]=s("span",{class:"text-xs text-gray-500"},"Inicio:",-1)),s("span",Kh,_(be(Yn)(o.value?.start_date)),1)]),s("div",Yh,[$[6]||($[6]=s("i",{class:"las la-calendar-times text-blue-500 text-sm"},null,-1)),$[7]||($[7]=s("span",{class:"text-xs text-gray-500"},"Fin:",-1)),o.value?.end_date?(E(),k("span",zh,_(be(Yn)(o.value?.end_date)),1)):(E(),k("span",Qh,"EN CURSO"))])]),s("div",Jh,[s("div",Xh,[$[8]||($[8]=s("i",{class:"las la-user text-blue-500 text-sm"},null,-1)),$[9]||($[9]=s("span",{class:"text-xs text-gray-500"},"Contacto:",-1)),s("span",Zh,_(o.value?.contact_name||"N/A"),1)]),s("div",eb,[$[10]||($[10]=s("i",{class:"las la-phone text-blue-500 text-sm"},null,-1)),$[11]||($[11]=s("span",{class:"text-xs text-gray-500"},"Telfono:",-1)),s("span",tb,_(o.value?.contact_phone||"N/A"),1)])])]),s("div",sb,[$[12]||($[12]=s("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-amber-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Recursos Asignados",checked:""},null,-1)),s("div",nb,[Ce(mu,{onEditResource:p})]),$[13]||($[13]=s("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-cyan-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Planillas de Trabajo"},null,-1)),s("div",ob,[Ce(Lu,{onOpenSheetForm:u,onEditSheet:b})]),$[14]||($[14]=s("input",{type:"radio",name:"project_tabs",role:"tab",class:"tab bg-lime-500 text-white font-semibold border-s-gray-50 border-s-2","aria-label":"Calendario Mantenimientos"},null,-1)),s("div",rb,[Ce(Of)])]),$[15]||($[15]=s("div",{class:"mt-8 bg-white border-t border-gray-200 shadow-md rounded-b-xl flex justify-end gap-3 px-4 py-3"},[s("a",{href:"/projects/",class:"btn btn-primary btn-sm"},[s("i",{class:"las la-times"}),L(" Volver A Proyectos ")])],-1))]),Ce(Is,{"is-open":r.value,title:l.value,size:"lg",onClose:f},{default:Lt(()=>[a.value==="ResourceForm"?(E(),ht(Lp,{key:0,resource:i.value,onClose:f},null,8,["resource"])):z("",!0),a.value==="SheetProjectForm"?(E(),ht(Ih,{key:1,sheet:c.value,onClose:f},null,8,["sheet"])):z("",!0)]),_:1},8,["is-open","title"])]))}},ab={class:"container mx-auto p-4"},ib={key:0,class:"alert alert-error shadow-lg mb-4"},cb={key:1,class:"alert alert-success shadow-lg mb-4"},db={class:"card-body space-y-4"},ub={class:"flex gap-4"},fb={class:"form-control w-full"},pb={class:"mt-2 mb-2"},hb={class:"table table-zebra w-full"},bb={class:"border border-gray-300"},mb={class:"border border-gray-300"},_b={class:"border border-gray-300"},gb={class:"border border-gray-300"},vb=["onUpdate:modelValue"],yb=["value"],xb={key:1,class:"text-gray-400 text-sm"},wb={class:"border border-gray-300"},Cb=["onUpdate:modelValue"],$b={class:"border border-gray-300"},Eb=["onUpdate:modelValue","onFocus","disabled"],Sb={class:"border border-gray-300 text-center"},kb=["onUpdate:modelValue","disabled","onChange"],Rb={class:"border border-gray-300"},Ab={key:0,class:"space-y-2"},Db=["onUpdate:modelValue","onChange"],Ob=["value"],Ib={key:0},Pb=["onUpdate:modelValue"],Tb={key:1,class:"flex flex-wrap gap-1"},Nb=["onClick"],jb={key:2,class:"grid grid-cols-7 gap-1"},Mb=["onClick"],Fb={key:1,class:"text-gray-400 text-sm"},Vb={class:"border border-gray-300"},Ub=["onUpdate:modelValue","onFocus","disabled"],Lb={class:"border border-gray-300 text-center"},qb=["onClick","disabled"],Bb={key:0},Hb={class:"flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},Gb=["disabled"],Wb={key:0,class:"loading loading-spinner loading-sm"},Kb={key:1},Yb={__name:"ResourceItemsForm",setup(e){const t=vo(),n=cs(),o=Ve(),r=Fs(),l=ie([]),a=ie(!1),i=ie(""),c=ie(""),p=Q(()=>t.physicalEquipmentsNotAvailable||[]),u=Q(()=>l.value.filter(v=>v.resource?.type_equipment_display!=="SERVICIO").map(v=>v.resource_id)),b=[{value:"DAY",label:"Por intervalo de das"},{value:"WEEK",label:"Das de la semana"},{value:"MONTH",label:"Das del mes"}],f=[{value:0,label:"Lunes"},{value:1,label:"Martes"},{value:2,label:"Mircoles"},{value:3,label:"Jueves"},{value:4,label:"Viernes"},{value:5,label:"Sbado"},{value:6,label:"Domingo"}],d=async()=>{const v=t.selectedResource,w=v.type_equipment==="SERVIC";if(!w&&t.resources&&Array.isArray(t.resources)){const N=t.resources.find(P=>P.id===v.id);N&&(N.is_selected=!0)}const C={resource:v,resource_id:v.id,resource_display_name:v.display_name,detailed_description:v.display_name,frequency_type:"DAY",interval_days:w?3:0,weekdays:[],monthdays:[],cost:0,maintenance_cost:0,operation_start_date:o.project?.start_date||null,include_maintenance:w,physical_equipment_code:null};l.value.push(C),t.selectedResource=null},$=v=>{const w=l.value[v];if(w.resource?.type_equipment_display!=="SERVICIO"&&t.resources&&Array.isArray(t.resources)){const C=t.resources.find(N=>N.id===w.resource_id);C&&(C.is_selected=!1)}l.value.splice(v,1)},y=async()=>{i.value="",c.value="",a.value=!0;try{if(l.value.filter(C=>!C.operation_start_date).length>0){i.value="Todos los recursos deben tener una fecha de inicio de operaciones",a.value=!1;return}const w=await n.addResourcesToProject(l.value);c.value=`Se agregaron ${w.added} recurso(s) exitosamente`,r.push("/project")}catch(v){console.error("Error submitting form:",v),i.value=v.message||"Error al guardar los recursos. Por favor intente nuevamente."}finally{a.value=!1}},x=(v,w)=>{if(!v.include_maintenance)v.frequency_type="DAY",v.interval_days=0,v.weekdays=[],v.monthdays=[],v.maintenance_cost=0;else{v.frequency_type=v.frequency_type||"DAY",v.frequency_type==="DAY"&&(!v.interval_days||v.interval_days===0)&&(v.interval_days=3);const P=w.target.closest("tr").querySelector('input[data-input="interval"]');P&&setTimeout(()=>{P.focus(),P.select()},50)}},j=v=>{v.frequency_type==="DAY"?((!v.interval_days||v.interval_days===0)&&(v.interval_days=3),v.weekdays=[],v.monthdays=[]):v.frequency_type==="WEEK"?(v.interval_days=0,v.weekdays=v.weekdays||[],v.monthdays=[]):v.frequency_type==="MONTH"&&(v.interval_days=0,v.weekdays=[],v.monthdays=v.monthdays||[])},F=(v,w)=>{v.weekdays||(v.weekdays=[]);const C=v.weekdays.indexOf(w);C===-1?v.weekdays.push(w):v.weekdays.splice(C,1)},W=(v,w)=>{v.monthdays||(v.monthdays=[]);const C=v.monthdays.indexOf(w);C===-1?v.monthdays.push(w):v.monthdays.splice(C,1)},K=v=>{v.cost===0&&(v.cost=null)},G=v=>{v.maintenance_cost===0&&(v.maintenance_cost=null)};return bt(async()=>{await t.fetchResourcesAvailable()}),(v,w)=>(E(),k("div",ab,[i.value?(E(),k("div",ib,[s("div",null,[w[1]||(w[1]=s("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),s("span",null,_(i.value),1)]),s("button",{onClick:w[0]||(w[0]=C=>i.value=""),class:"btn btn-sm btn-ghost"},[...w[2]||(w[2]=[s("i",{class:"las la-times"},null,-1)])])])):z("",!0),c.value?(E(),k("div",cb,[s("div",null,[w[3]||(w[3]=s("i",{class:"las la-check-circle text-2xl"},null,-1)),s("span",null,_(c.value),1)])])):z("",!0),s("form",{class:"card bg-base-100 shadow-xl border border-gray-200 rounded-lg",onSubmit:Ds(y,["prevent"])},[s("div",db,[s("div",ub,[s("div",fb,[w[4]||(w[4]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold"},"Seleccionar Recurso *")],-1)),Ce(Jl,{placeholder:"Buscar recurso disponible...",excludeIds:u.value,onResourceSelected:d},null,8,["excludeIds"])])]),s("div",pb,[s("table",hb,[w[8]||(w[8]=s("thead",null,[s("tr",{class:"bg-lime-800 text-white border border-green-500 text-center uppercase"},[s("th",{class:"border"},"#"),s("th",{class:"border"},"Detalle"),s("th",{class:"border"},"Tipo"),s("th",{class:"border"},"Equipo Fsico"),s("th",{class:"border"},"Fecha Inicio *"),s("th",{class:"border"},"Costo Alq"),s("th",{class:"border"},"Mant"),s("th",{class:"border"},"Frecuencia"),s("th",{class:"border"},"Costo Mnt"),s("th",{class:"border"},"Acciones")])],-1)),s("tbody",null,[(E(!0),k(re,null,_e(l.value,(C,N)=>(E(),k("tr",{key:N},[s("td",bb,_(N+1),1),s("td",mb,_(C.resource_display_name||C.detailed_description),1),s("td",_b,_(C.resource?.type_equipment_display==="SERVICIO"?"SERVICIO":"EQUIPO"),1),s("td",gb,[C.resource?.type_equipment==="SERVIC"?Z((E(),k("select",{key:0,class:"select select-sm select-bordered w-full","onUpdate:modelValue":P=>C.physical_equipment_code=P},[w[5]||(w[5]=s("option",{value:null},"Sin equipo asignado",-1)),(E(!0),k(re,null,_e(p.value,P=>(E(),k("option",{key:P.id,value:P.id},_(P.code)+" - "+_(P.type_equipment_display),9,yb))),128))],8,vb)),[[Ct,C.physical_equipment_code]]):(E(),k("span",xb,"-"))]),s("td",wb,[Z(s("input",{type:"date",class:se(["input input-sm input-bordered w-full",{"input-error":!C.operation_start_date}]),"onUpdate:modelValue":P=>C.operation_start_date=P,required:""},null,10,Cb),[[de,C.operation_start_date]])]),s("td",$b,[Z(s("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":P=>C.cost=P,onFocus:P=>K(C),placeholder:"0.00",disabled:C.resource?.type_equipment_display==="SERVICIO"},null,40,Eb),[[de,C.cost]])]),s("td",Sb,[Z(s("input",{type:"checkbox",class:"checkbox checkbox-sm","onUpdate:modelValue":P=>C.include_maintenance=P,disabled:C.resource?.type_equipment_display==="SERVICIO",onChange:P=>x(C,P)},null,40,kb),[[Tt,C.include_maintenance]])]),s("td",Rb,[C.include_maintenance?(E(),k("div",Ab,[Z(s("select",{class:"select select-sm select-bordered w-full","onUpdate:modelValue":P=>C.frequency_type=P,onChange:P=>j(C)},[(E(),k(re,null,_e(b,P=>s("option",{key:P.value,value:P.value},_(P.label),9,Ob)),64))],40,Db),[[Ct,C.frequency_type]]),C.frequency_type==="DAY"?(E(),k("div",Ib,[Z(s("input",{type:"number",min:"1",class:"input input-sm input-bordered w-full","onUpdate:modelValue":P=>C.interval_days=P,"data-input":"interval",placeholder:"Das"},null,8,Pb),[[de,C.interval_days]])])):C.frequency_type==="WEEK"?(E(),k("div",Tb,[(E(),k(re,null,_e(f,P=>s("button",{key:P.value,type:"button",class:se(["btn btn-xs",C.weekdays?.includes(P.value)?"btn-primary":"btn-outline"]),onClick:Re=>F(C,P.value)},_(P.label.substring(0,3)),11,Nb)),64))])):C.frequency_type==="MONTH"?(E(),k("div",jb,[(E(),k(re,null,_e(31,P=>s("button",{key:P,type:"button",class:se(["btn btn-xs",C.monthdays?.includes(P)?"btn-primary":"btn-outline"]),onClick:Re=>W(C,P)},_(P),11,Mb)),64))])):z("",!0)])):(E(),k("span",Fb,"-"))]),s("td",Vb,[Z(s("input",{type:"number",step:"0.01",min:"0",class:"input input-sm input-bordered w-full text-end","onUpdate:modelValue":P=>C.maintenance_cost=P,onFocus:P=>G(C),placeholder:"0.00",disabled:!C.include_maintenance},null,40,Ub),[[de,C.maintenance_cost]])]),s("td",Lb,[s("button",{type:"button",class:"btn btn-sm btn-error",onClick:P=>$(N),disabled:a.value},[...w[6]||(w[6]=[s("i",{class:"las la-trash text-lg"},null,-1)])],8,qb)])]))),128)),l.value.length===0?(E(),k("tr",Bb,[...w[7]||(w[7]=[s("td",{colspan:"10",class:"text-center py-4 text-gray-500"}," No hay recursos agregados. Seleccione un recurso del autocomplete. ",-1)])])):z("",!0)])])]),w[10]||(w[10]=s("div",{class:"divider"},null,-1)),s("div",Hb,[Ce(be(_o),{to:"/project",class:se(["btn btn-ghost",{"btn-disabled":a.value}])},{default:Lt(()=>[...w[9]||(w[9]=[L(" Cancelar ",-1)])]),_:1},8,["class"]),s("button",{type:"submit",class:"btn btn-primary",disabled:l.value.length===0||a.value},[a.value?(E(),k("span",Wb)):(E(),k("span",Kb,"Guardar Recursos ("+_(l.value.length)+")",1))],8,Gb)])])],32)]))}},Xl=zt("technicalStore",{state:()=>({technical:{},technicals:[]}),actions:{async fetchTechnicalsAvailable(){console.log("Fetching available technicals...");try{const e=await fetch(ue.URLTechnicalsAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch technicals");const t=await e.json();this.technicals=t.data}catch(e){console.error("Error fetching technicals:",e)}}}}),Zl=zt("vehicleStore",{state:()=>({vehicle:{},vehicles:[]}),actions:{async fetchVehicles(){console.log("Fetching available vehicles...");try{const e=await fetch(ue.URLVehiclesAvailable,{method:"GET",headers:ue.headers});if(!e.ok)throw new Error("Failed to fetch vehicles");const t=await e.json();this.vehicles=t.data}catch(e){console.error("Error fetching vehicles:",e)}}}}),zb={key:0,class:"max-w-4xl mx-auto p-1"},Qb={class:"text-xl font-bold mb-6"},Jb={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Xb={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},Zb={class:"border-b-1 border-r-1 border-sky-200"},em={class:"ml-2"},tm={class:"border-b-1 border-r-1 border-sky-200"},sm={class:"ml-2"},nm={class:"border-b-1 border-r-1 border-sky-200"},om={class:"ml-2"},rm={class:"border-b-1 border-r-1 border-sky-200"},lm={class:"ml-2 font-mono"},am={class:"border-b-1 border-r-1 border-sky-200"},im={class:"ml-2 text-blue-600"},cm={class:"border-b-1 border-r-1 border-sky-200"},dm={class:"ml-2"},um={class:"border-b-1 border-r-1 border-sky-200"},fm={class:"ml-2"},pm={class:"border-b-1 border-r-1 border-sky-200"},hm={class:"ml-2"},bm={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},mm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},_m={class:"border-b-1 border-r-1 border-sky-200"},gm={class:"ml-2"},vm={class:"border-b-1 border-r-1 border-sky-200"},ym={class:"border-b-1 border-r-1 border-sky-200"},xm={class:"border-b-1 border-r-1 border-sky-200"},wm={class:"ml-2 font-mono text-xs"},Cm={class:"border-b-1 border-r-1 border-sky-200"},$m={class:"ml-2"},Em={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Sm={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},km={class:"border-b-1 border-r-1 border-sky-200"},Rm={class:"ml-2"},Am={class:"border-b-1 border-r-1 border-sky-200"},Dm={class:"ml-2"},Om={class:"border-b-1 border-r-1 border-sky-200"},Im={class:"ml-2"},Pm={class:"border-b-1 border-r-1 border-sky-200"},Tm={class:"ml-2"},Nm={class:"border-b-1 border-r-1 border-sky-200"},jm={class:"ml-2"},Mm={class:"border-b-1 border-r-1 border-sky-200"},Fm={class:"ml-2"},Vm={class:"border-b-1 border-r-1 border-sky-200"},Um={class:"ml-2"},Lm={class:"border-b-1 border-r-1 border-sky-200"},qm={class:"ml-2"},Bm={key:0,class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},Hm={class:"font-semibold text-lg mb-3"},Gm={class:"overflow-x-auto border border-gray-300 rounded"},Wm={class:"table table-sm w-full"},Km={class:"border-r border-gray-300"},Ym={class:"border-r border-gray-300 font-mono text-sm"},zm={key:1,class:"bg-sky-50 rounded-lg p-4 mb-6 border-gray-200 border"},Qm={class:"overflow-x-auto bg-base-100 border border-gray-300 rounded"},Jm={class:"table table-xs w-full border-collapse"},Xm={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},Zm={class:"border border-gray-300 text-center"},e_={class:"border border-gray-300 text-center font-mono text-xs"},t_={class:"border border-gray-300 text-center font-mono text-xs"},s_={key:0,rowspan:5,class:"border border-gray-300 text-center font-semibold align-middle"},n_={class:"border border-gray-300 text-center text-gray-400"},o_={key:2,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},r_={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},ea={__name:"TechnicalPresentation",props:{technical:{type:Object,default:null}},setup(e){const t=e,n=a=>a?new Date(a).toLocaleDateString("es-ES"):"N/A",o=(a,i)=>{if(!i)return"badge-ghost";const c=new Date,p=new Date(i),u=Math.floor((p-c)/(1e3*60*60*24));return u<0?"badge-error":u<=30?"badge-warning":"badge-success"},r=a=>{if(!a)return"Sin vencer";const i=new Date,c=new Date(a),p=Math.floor((c-i)/(1e3*60*60*24));return p<0?"VENCIDO":p<=30?"PRXIMO A VENCER":"VIGENTE"},l=Q(()=>t.technical?.vaccination_records?t.technical.vaccination_records.reduce((a,i)=>{const c=i.vaccine_type_display;return a[c]||(a[c]=[]),a[c].push(i),a},{}):{});return(a,i)=>e.technical?(E(),k("div",zb,[s("h5",Qb,_(e.technical.first_name)+" "+_(e.technical.last_name),1),s("div",Jb,[i[8]||(i[8]=s("h6",{class:"font-semibold text-lg mb-3"},"Datos Personales",-1)),s("div",Xb,[s("div",Zb,[i[0]||(i[0]=s("span",{class:"font-medium"},"ID:",-1)),s("span",em,_(e.technical.id),1)]),s("div",tm,[i[1]||(i[1]=s("span",{class:"font-medium"},"Nombre:",-1)),s("span",sm,_(e.technical.first_name),1)]),s("div",nm,[i[2]||(i[2]=s("span",{class:"font-medium"},"Apellido:",-1)),s("span",om,_(e.technical.last_name),1)]),s("div",rm,[i[3]||(i[3]=s("span",{class:"font-medium"},"Cdula (DNI):",-1)),s("span",lm,_(e.technical.dni),1)]),s("div",am,[i[4]||(i[4]=s("span",{class:"font-medium"},"Email:",-1)),s("span",im,_(e.technical.email),1)]),s("div",cm,[i[5]||(i[5]=s("span",{class:"font-medium"},"Telfono:",-1)),s("span",dm,_(e.technical.nro_phone),1)]),s("div",um,[i[6]||(i[6]=s("span",{class:"font-medium"},"Fecha Nacimiento:",-1)),s("span",fm,_(n(e.technical.birth_date)),1)]),s("div",pm,[i[7]||(i[7]=s("span",{class:"font-medium"},"Fecha Ingreso:",-1)),s("span",hm,_(n(e.technical.date_joined)),1)])])]),s("div",bm,[i[14]||(i[14]=s("h6",{class:"font-semibold text-lg mb-3"},"Informacin Laboral",-1)),s("div",mm,[s("div",_m,[i[9]||(i[9]=s("span",{class:"font-medium"},"rea de Trabajo:",-1)),s("span",gm,_(e.technical.work_area_display),1)]),s("div",vm,[i[10]||(i[10]=s("span",{class:"font-medium"},"Afiliado IESS:",-1)),s("span",{class:se(["ml-2 badge",e.technical.is_iess_affiliated?"badge-success":"badge-ghost"])},_(e.technical.is_iess_affiliated?"S":"No"),3)]),s("div",ym,[i[11]||(i[11]=s("span",{class:"font-medium"},"Seguro de Vida:",-1)),s("span",{class:se(["ml-2 badge",e.technical.has_life_insurance_policy?"badge-success":"badge-ghost"])},_(e.technical.has_life_insurance_policy?"S":"No"),3)]),s("div",xm,[i[12]||(i[12]=s("span",{class:"font-medium"},"Cdigo QUEST NCST:",-1)),s("span",wm,_(e.technical.quest_ncst_code),1)]),s("div",Cm,[i[13]||(i[13]=s("span",{class:"font-medium"},"Instructor QUEST:",-1)),s("span",$m,_(e.technical.quest_instructor),1)])])]),s("div",Em,[i[23]||(i[23]=s("h6",{class:"font-semibold text-lg mb-3"},"Licencias y Certificados",-1)),s("div",Sm,[s("div",km,[i[15]||(i[15]=s("span",{class:"font-medium"},"Licencia (Expedida):",-1)),s("span",Rm,_(n(e.technical.license_issue_date)),1)]),s("div",Am,[i[16]||(i[16]=s("span",{class:"font-medium"},"Licencia (Vence):",-1)),s("span",Dm,[s("span",{class:se(["badge",o(e.technical.license_issue_date,e.technical.license_expiry_date)])},_(n(e.technical.license_expiry_date)),3)])]),s("div",Om,[i[17]||(i[17]=s("span",{class:"font-medium"},"Cond. Defensiva (Expedida):",-1)),s("span",Im,_(n(e.technical.defensive_driving_certificate_issue_date)),1)]),s("div",Pm,[i[18]||(i[18]=s("span",{class:"font-medium"},"Cond. Defensiva (Vence):",-1)),s("span",Tm,[s("span",{class:se(["badge",o(e.technical.defensive_driving_certificate_issue_date,e.technical.defensive_driving_certificate_expiry_date)])},_(n(e.technical.defensive_driving_certificate_expiry_date)),3)])]),s("div",Nm,[i[19]||(i[19]=s("span",{class:"font-medium"},"Certificado MAE (Expedida):",-1)),s("span",jm,_(n(e.technical.mae_certificate_issue_date)),1)]),s("div",Mm,[i[20]||(i[20]=s("span",{class:"font-medium"},"Certificado MAE (Vence):",-1)),s("span",Fm,_(n(e.technical.mae_certificate_expiry_date)),1)]),s("div",Vm,[i[21]||(i[21]=s("span",{class:"font-medium"},"Certificado Mdico (Expedida):",-1)),s("span",Um,_(n(e.technical.medical_certificate_issue_date)),1)]),s("div",Lm,[i[22]||(i[22]=s("span",{class:"font-medium"},"Certificado Mdico (Vence):",-1)),s("span",qm,_(n(e.technical.medical_certificate_expiry_date)),1)])])]),e.technical.passes&&e.technical.passes.length>0?(E(),k("div",Bm,[s("h6",Hm,"Pases de Acceso ("+_(e.technical.passes.length)+")",1),s("div",Gm,[s("table",Wm,[i[24]||(i[24]=s("thead",{class:"bg-sky-100"},[s("tr",null,[s("th",{class:"border-r border-gray-300"},"Bloque"),s("th",{class:"border-r border-gray-300"},"Vencimiento"),s("th",null,"Estado")])],-1)),s("tbody",null,[(E(!0),k(re,null,_e(e.technical.passes,c=>(E(),k("tr",{key:c.id,class:"hover"},[s("td",Km,_(c.bloque_display||c.bloque),1),s("td",Ym,_(n(c.fecha_caducidad)),1),s("td",null,[s("span",{class:se(["badge",o(null,c.fecha_caducidad)])},_(r(c.fecha_caducidad)),3)])]))),128))])])])])):z("",!0),e.technical.vaccination_records&&e.technical.vaccination_records.length>0?(E(),k("div",zm,[i[28]||(i[28]=s("h6",{class:"font-semibold text-lg mb-3"},"Registro de Vacunaciones",-1)),s("div",Qm,[s("table",Jm,[i[27]||(i[27]=s("thead",null,[s("tr",{class:"bg-sky-100"},[s("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"VACUNA"),s("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"DOSIS"),s("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"FECHA"),s("th",{class:"border border-gray-300 text-center font-semibold text-blue-700"},"LOTE")])],-1)),s("tbody",null,[(E(!0),k(re,null,_e(l.value,(c,p)=>(E(),k(re,{key:p},[(E(!0),k(re,null,_e(c.slice(0,5),(u,b)=>(E(),k("tr",{key:u.id,class:"hover:bg-sky-50"},[b===0?(E(),k("td",Xm,_(p),1)):z("",!0),s("td",Zm,_(u.dose_number),1),s("td",e_,_(n(u.application_date)),1),s("td",t_,_(u.batch_number||""),1)]))),128)),(E(!0),k(re,null,_e(Math.max(0,5-c.length),u=>(E(),k("tr",{key:`${p}-empty-${u}`,class:"hover:bg-sky-50"},[c.length===0&&u===1?(E(),k("td",s_,_(p),1)):z("",!0),s("td",n_,_(c.length+u),1),i[25]||(i[25]=s("td",{class:"border border-gray-300 text-center"},null,-1)),i[26]||(i[26]=s("td",{class:"border border-gray-300 text-center"},null,-1))]))),128))],64))),128))])])])])):z("",!0),e.technical.notes?(E(),k("div",o_,[i[29]||(i[29]=s("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),s("p",r_,_(e.technical.notes),1)])):z("",!0)])):z("",!0)}},l_={key:0,class:"max-w-4xl mx-auto p-1"},a_={class:"text-xl font-bold mb-6"},i_={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},c_={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},d_={class:"border-b-1 border-r-1 border-sky-200"},u_={class:"ml-2"},f_={class:"border-b-1 border-r-1 border-sky-200"},p_={class:"ml-2 font-mono"},h_={class:"border-b-1 border-r-1 border-sky-200"},b_={class:"ml-2"},m_={class:"border-b-1 border-r-1 border-sky-200"},__={class:"ml-2"},g_={class:"border-b-1 border-r-1 border-sky-200"},v_={class:"ml-2"},y_={class:"border-b-1 border-r-1 border-sky-200"},x_={class:"ml-2"},w_={class:"border-b-1 border-r-1 border-sky-200"},C_={class:"border-b-1 border-r-1 border-sky-200"},$_={class:"ml-2 font-mono text-xs"},E_={class:"border-b-1 border-r-1 border-sky-200"},S_={class:"ml-2 font-mono text-xs"},k_={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},R_={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},A_={class:"border-b-1 border-r-1 border-sky-200"},D_={class:"ml-2"},O_={class:"border-b-1 border-r-1 border-sky-200"},I_={class:"border-b-1 border-r-1 border-sky-200"},P_={class:"border-b-1 border-r-1 border-sky-200"},T_={class:"border-b-1 border-r-1 border-sky-200"},N_={class:"ml-2"},j_={class:"border-b-1 border-r-1 border-sky-200"},M_={class:"ml-2"},F_={class:"border-b-1 border-r-1 border-sky-200"},V_={class:"ml-2"},U_={class:"border-b-1 border-r-1 border-sky-200"},L_={class:"ml-2"},q_={class:"border-b-1 border-r-1 border-sky-200"},B_={class:"ml-2"},H_={class:"border-b-1 border-r-1 border-sky-200"},G_={class:"bg-sky-50 rounded-lg p-4 mb-6 space-y-2 border-gray-200 border"},W_={class:"grid grid-cols-2 gap-3 text-sm border p-2 rounded border-gray-300 bg-base-100"},K_={class:"border-b-1 border-r-1 border-sky-200"},Y_={class:"ml-2"},z_={class:"border-b-1 border-r-1 border-sky-200"},Q_={class:"ml-2"},J_={class:"border-b-1 border-r-1 border-sky-200"},X_={class:"ml-2"},Z_={class:"border-b-1 border-r-1 border-sky-200"},eg={key:0,class:"bg-sky-50 rounded-lg p-4 border-gray-200 border"},tg={class:"text-sm bg-base-100 p-3 rounded border border-gray-300"},ta={__name:"VehiclePresentation",props:{vehicle:{type:Object,default:null}},setup(e){const t=r=>r?new Date(r).toLocaleDateString("es-ES"):"N/A",n=r=>{switch(r){case"DISPONIBLE":return"badge-success";case"VIGENTE":return"badge-success";case"VENCIDO":return"badge-error";case"PROXIMO_A_VENCER":return"badge-warning";default:return"badge-ghost"}},o=r=>{if(!r)return!1;const l=new Date,a=new Date(r),i=Math.floor((a-l)/(1e3*60*60*24));return i<=30&&i>0};return(r,l)=>e.vehicle?(E(),k("div",l_,[s("h5",a_,_(e.vehicle.brand)+" "+_(e.vehicle.model),1),s("div",i_,[l[9]||(l[9]=s("h6",{class:"font-semibold text-lg mb-3"},"Estado del Vehculo",-1)),s("div",c_,[s("div",d_,[l[0]||(l[0]=s("span",{class:"font-medium"},"ID:",-1)),s("span",u_,_(e.vehicle.id),1)]),s("div",f_,[l[1]||(l[1]=s("span",{class:"font-medium"},"Placa:",-1)),s("span",p_,_(e.vehicle.no_plate),1)]),s("div",h_,[l[2]||(l[2]=s("span",{class:"font-medium"},"Marca:",-1)),s("span",b_,_(e.vehicle.brand),1)]),s("div",m_,[l[3]||(l[3]=s("span",{class:"font-medium"},"Modelo:",-1)),s("span",__,_(e.vehicle.model),1)]),s("div",g_,[l[4]||(l[4]=s("span",{class:"font-medium"},"Tipo:",-1)),s("span",v_,_(e.vehicle.type_vehicle),1)]),s("div",y_,[l[5]||(l[5]=s("span",{class:"font-medium"},"Ao:",-1)),s("span",x_,_(e.vehicle.year),1)]),s("div",w_,[l[6]||(l[6]=s("span",{class:"font-medium"},"Estado:",-1)),s("span",{class:se(["ml-2 badge",n(e.vehicle.status_vehicle)])},_(e.vehicle.status_vehicle),3)]),s("div",C_,[l[7]||(l[7]=s("span",{class:"font-medium"},"Nmero de Motor:",-1)),s("span",$_,_(e.vehicle.engine_number),1)]),s("div",E_,[l[8]||(l[8]=s("span",{class:"font-medium"},"Nmero de Chasis:",-1)),s("span",S_,_(e.vehicle.chassis_number),1)])])]),s("div",k_,[l[20]||(l[20]=s("h6",{class:"font-semibold text-lg mb-3"},"Documentos y Certificaciones",-1)),s("div",R_,[s("div",A_,[l[10]||(l[10]=s("span",{class:"font-medium"},"Matrcula (Fecha):",-1)),s("span",D_,_(t(e.vehicle.date_matricula)),1)]),s("div",O_,[l[11]||(l[11]=s("span",{class:"font-medium"},"Matrcula (Vence):",-1)),s("span",{class:se(["ml-2",o(e.vehicle.due_date_matricula)?"text-warning font-semibold":""])},_(t(e.vehicle.due_date_matricula)),3)]),s("div",I_,[l[12]||(l[12]=s("span",{class:"font-medium"},"Cert. Operacional:",-1)),s("span",{class:se(["ml-2 badge",n(e.vehicle.status_cert_oper)])},_(e.vehicle.status_cert_oper),3)]),s("div",P_,[l[13]||(l[13]=s("span",{class:"font-medium"},"Cert. Oper. (Vence):",-1)),s("span",{class:se(["ml-2",o(e.vehicle.due_date_cert_oper)?"text-warning font-semibold":""])},_(t(e.vehicle.due_date_cert_oper)),3)]),s("div",T_,[l[14]||(l[14]=s("span",{class:"font-medium"},"MTOP (Fecha):",-1)),s("span",N_,_(t(e.vehicle.date_mtop)),1)]),s("div",j_,[l[15]||(l[15]=s("span",{class:"font-medium"},"MTOP (Vence):",-1)),s("span",M_,_(t(e.vehicle.due_date_mtop)),1)]),s("div",F_,[l[16]||(l[16]=s("span",{class:"font-medium"},"Revisin Tcnica:",-1)),s("span",V_,_(t(e.vehicle.date_technical_review)),1)]),s("div",U_,[l[17]||(l[17]=s("span",{class:"font-medium"},"Rev. Tcnica (Vence):",-1)),s("span",L_,_(t(e.vehicle.due_date_technical_review)),1)]),s("div",q_,[l[18]||(l[18]=s("span",{class:"font-medium"},"Satlite (Fecha):",-1)),s("span",B_,_(t(e.vehicle.date_satellite)),1)]),s("div",H_,[l[19]||(l[19]=s("span",{class:"font-medium"},"Satlite (Vence):",-1)),s("span",{class:se(["ml-2",o(e.vehicle.due_date_satellite)?"text-warning font-semibold":""])},_(t(e.vehicle.due_date_satellite)),3)])])]),s("div",G_,[l[25]||(l[25]=s("h6",{class:"font-semibold text-lg mb-3"},"Seguro",-1)),s("div",W_,[s("div",K_,[l[21]||(l[21]=s("span",{class:"font-medium"},"Aseguradora:",-1)),s("span",Y_,_(e.vehicle.insurance_company),1)]),s("div",z_,[l[22]||(l[22]=s("span",{class:"font-medium"},"Pliza Nro:",-1)),s("span",Q_,_(e.vehicle.nro_poliza||"N/A"),1)]),s("div",J_,[l[23]||(l[23]=s("span",{class:"font-medium"},"Fecha Expedicin:",-1)),s("span",X_,_(t(e.vehicle.insurance_issue_date)),1)]),s("div",Z_,[l[24]||(l[24]=s("span",{class:"font-medium"},"Vencimiento:",-1)),s("span",{class:se(["ml-2",o(e.vehicle.insurance_expiration_date)?"text-warning font-semibold":""])},_(t(e.vehicle.insurance_expiration_date)),3)])])]),e.vehicle.notes?(E(),k("div",eg,[l[26]||(l[26]=s("h6",{class:"font-semibold text-lg mb-3"},"Notas",-1)),s("p",tg,_(e.vehicle.notes),1)])):z("",!0)])):z("",!0)}},sg={class:"w-[95%] mx-auto p-6"},ng={class:"bg-white rounded-lg shadow-md p-2 mb-2 border border-gray-200"},og={class:"flex justify-between items-center"},rg={class:"text-gray-800 flex items-center gap-2 font-semibold"},lg={class:"flex gap-2"},ag={class:"grid grid-cols-1 gap-4"},ig={class:"bg-gradient-to-r from-blue-500 to-sky-600 text-white p-4 rounded-t-lg backdrop-blur-sm"},cg={class:"flex justify-between items-start"},dg={class:"flex-1"},ug={class:"flex items-center gap-3 mb-2"},fg={class:"text-xl font-bold"},pg={class:"badge text-blue-500 font-semibold bg-white px-3 py-1"},hg={class:"text-right"},bg={class:"text-2xl p1 rounded text-error bg-gray-100 w-100% font-mono border border-sky-600 border-2"},mg={class:"me-2"},_g={class:"p-2"},gg={class:"grid grid-cols-4 gap-4"},vg={class:"flex items-center gap-2"},yg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},xg={class:"flex items-center gap-2"},wg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Cg={class:"flex items-center gap-2"},$g={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Eg={class:"flex items-center gap-2"},Sg={class:"flex gap-1 flex-1"},kg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Rg=["onClick"],Ag={class:"p-2 border-b bg-gray-50 border-b-gray-200"},Dg={class:"grid grid-cols-4 gap-4"},Og={class:"flex items-center gap-2"},Ig={class:"flex gap-1 flex-1"},Pg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Tg={class:""},Ng=["onClick"],jg={class:"flex items-center gap-2"},Mg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Fg={class:"flex items-center gap-2"},Vg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},Ug={class:"flex items-center gap-2"},Lg={class:"text-sm text-gray-800 font-semibold border rounded p-1 border-gray-300 flex-1"},qg={class:"p-4 border-b border-b-gray-200"},Bg={class:"font-semibold text-gray-700 mb-3"},Hg={class:"overflow-x-auto"},Gg={class:"table table-sm w-full table-zebra"},Wg={class:"border border-gray-300 p-2"},Kg={class:"border border-gray-300 p-2"},Yg={class:"border border-gray-300 p-2 text-center"},zg={key:0},Qg={class:"pt-2 pb-2"},Jg={class:"flex gap-4"},Xg={class:"flex gap-4"},Zg={class:"p-3 border rounded border-gray-200"},ev={class:"text-xl text-primary ml-5"},tv={class:"p-3 border rounded border-gray-200"},sv={class:"text-xl text-primary ml-5"},nv={class:"p-3 border rounded border-gray-200"},ov={class:"text-xl text-primary ml-5"},rv={class:"flex-1 border rounded p-3 border-gray-200"},lv={class:"text-primary ml-5"},av={class:"bg-gray-50 p-4 rounded-b-lg flex justify-between gap-2"},iv={class:"flex gap-2"},cv=["onClick"],dv={key:0,class:"bg-white rounded-lg shadow-md p-8 text-center"},uv={__name:"CustodyChainView",setup(e){const t=Ve(),n=Xl(),o=Zl();bt(async()=>{await t.fetchProjectData(),await n.fetchTechnicalsAvailable(),await o.fetchVehicles()});const r=Fs(),l=ie(null),a=ie(null),i=ie(!1),c=ie(!1),p=Q(()=>{if(!t.projectData?.work_orders)return[];const $=[];return t.projectData.work_orders.forEach(y=>{y.custody_chains&&y.custody_chains.forEach(x=>{$.push({...x,work_order:y})})}),$}),u=$=>{a.value=$,i.value=!0},b=$=>{l.value=$,c.value=!0},f=$=>$?$.substring(0,5):"N/A",d=$=>$?new Date($).toLocaleDateString("es-ES"):"N/A";return($,y)=>(E(),k("div",sg,[s("div",ng,[s("div",og,[s("h1",rg,[y[6]||(y[6]=s("i",{class:"las la-file-invoice text-blue-500"},null,-1)),L(" Cadenas de Custodia - "+_(be(t).projectData?.project?.partner_name),1)]),s("div",lg,[s("button",{class:"btn btn-secondary btn-sm",onClick:y[0]||(y[0]=x=>be(r).push({name:"project-detail"}))},[...y[7]||(y[7]=[s("i",{class:"las la-arrow-left"},null,-1),L(" Volver ",-1)])]),s("button",{class:"btn btn-primary btn-sm",onClick:y[1]||(y[1]=x=>be(r).push({name:"custody-chain-form"}))},[...y[8]||(y[8]=[s("i",{class:"las la-plus"},null,-1),L(" Nueva Cadena de Custodia ",-1)])])])])]),s("div",ag,[(E(!0),k(re,null,_e(p.value,x=>(E(),k("div",{key:x.id,class:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow"},[s("div",ig,[s("div",cg,[s("div",dg,[s("div",ug,[s("h2",fg," #"+_(be(t).projectData?.project?.id)+" "+_(be(t).projectData?.project?.partner_name)+" - "+_(be(t).projectData?.project?.location),1),s("span",pg,_(be(t).projectData?.project?.cardinal_point||"N/A"),1)])]),s("div",hg,[s("div",bg,[y[9]||(y[9]=s("span",{class:"text-gray-700 ms-5"},"Nro.",-1)),s("span",mg,_(x.consecutive),1)])])])]),s("div",_g,[s("div",gg,[s("div",vg,[y[10]||(y[10]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Fecha:",-1)),s("span",yg,_(d(x.activity_date)),1)]),s("div",xg,[y[12]||(y[12]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Inicio - Fin:",-1)),s("span",wg,[L(_(f(x.start_time))+" - "+_(f(x.end_time))+" ",1),y[11]||(y[11]=s("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),L(" "+_(x.time_duration?.toFixed(2)||"0.00")+" HRS ",1)])]),s("div",Cg,[y[13]||(y[13]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Ubicacin:",-1)),s("span",$g,_(x.location),1)]),s("div",Eg,[y[16]||(y[16]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Placa Vehiculo:",-1)),s("div",Sg,[s("span",kg,[L(_(x.vehicle?.no_plate)+" ",1),y[14]||(y[14]=s("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),L(" "+_(x.vehicle?.brand)+" "+_(x.vehicle?.model),1)]),s("button",{type:"button",class:"btn btn-sm btn-outline",onClick:j=>b(x.vehicle),title:"Ver detalles del vehculo"},[...y[15]||(y[15]=[s("i",{class:"las la-eye"},null,-1)])],8,Rg)])])])]),s("div",Ag,[s("div",Dg,[s("div",Og,[y[19]||(y[19]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Tcnico:",-1)),s("div",Ig,[s("span",Pg,[L(_(x.technical?.first_name)+" "+_(x.technical?.last_name)+" ",1),y[17]||(y[17]=s("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),s("span",Tg,"CI: "+_(x.dni_driver),1)]),s("button",{type:"button",class:"btn btn-sm btn-outline",onClick:j=>u(x.technical),title:"Ver detalles del tcnico"},[...y[18]||(y[18]=[s("i",{class:"las la-eye"},null,-1)])],8,Ng)])]),s("div",jg,[y[20]||(y[20]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Cargo:",-1)),s("span",Mg,_(x.driver_position),1)]),s("div",Fg,[y[22]||(y[22]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Contacto:",-1)),s("span",Vg,[L(_(x.contact_name)+" ",1),y[21]||(y[21]=s("span",{class:"ml-2 me-2 text-gray-200"},"|",-1)),s("span",null,_(be(t).projectData?.project?.contact_phone),1)])]),s("div",Ug,[y[23]||(y[23]=s("span",{class:"text-sm text-gray-600 font-medium whitespace-nowrap w-28"},"Empresa:",-1)),s("span",Lg,_(be(t).projectData?.project?.partner_name),1)])])]),s("div",qg,[s("h3",Bg,"Detalle de Cadena de Custodia ("+_(x.details_count)+" equipos)",1),s("div",Hg,[s("table",Gg,[y[26]||(y[26]=s("thead",null,[s("tr",{class:"bg-gray-500 text-white text-center"},[s("th",{class:"border border-gray-300 w-10"},"#"),s("th",{class:"border border-gray-300"},"Equipo"),s("th",{class:"border border-gray-300 w-30"},"ID Recurso"),s("th",{class:"border border-gray-300 w-30"},"Acciones")])],-1)),s("tbody",null,[(E(!0),k(re,null,_e(x.details,(j,F)=>(E(),k("tr",{class:"hover:bg-yellow-100",key:j.id},[s("td",Wg,_(F+1),1),s("td",Kg,_(j.project_resource?.resource_item_name),1),s("td",Yg,_(j.project_resource_id),1),y[24]||(y[24]=s("td",{class:"border border-gray-300 p-2 text-center"},[s("span",{class:"border rounded p-1 cursor-pointer bg-red-400 text-white hover:bg-red-600 font-semibold"}," Eliminar ")],-1))]))),128)),!x.details||x.details.length===0?(E(),k("tr",zg,[...y[25]||(y[25]=[s("td",{colspan:"4",class:"text-center py-4 text-gray-500"}," No hay detalles en esta cadena de custodia ",-1)])])):z("",!0)])])]),s("div",Qg,[s("div",Jg,[s("div",Xg,[s("div",Zg,[y[27]||(y[27]=L(" Galones: ",-1)),s("span",ev,_(x.total_gallons),1)]),s("div",tv,[y[28]||(y[28]=L(" Metro Cubicos: ",-1)),s("span",sv,_(x.total_cubic_meters),1)]),s("div",nv,[y[29]||(y[29]=L(" Barriles: ",-1)),s("span",ov,_(x.total_barrels),1)])]),s("div",rv,[y[30]||(y[30]=s("span",{class:"font-semibold"},"Notas:",-1)),s("span",lv,_(x.metadata?.notes||"Sin notas"),1)])])])]),s("div",av,[s("button",{class:"btn btn-sm btn-primary",onClick:y[2]||(y[2]=j=>be(r).push({name:"project-detail"}))},[...y[31]||(y[31]=[s("i",{class:"las la-arrow-left"},null,-1),L(" Volver ",-1)])]),s("div",iv,[s("button",{class:"btn btn-sm btn-primary",onClick:j=>be(r).push({name:"custody-chain-form",params:{id:x.id}})},[...y[32]||(y[32]=[s("i",{class:"las la-edit"},null,-1),L(" Editar ",-1)])],8,cv),y[33]||(y[33]=s("button",{class:"btn btn-sm btn-primary"},[s("i",{class:"las la-print"}),L(" Imprimir ")],-1)),y[34]||(y[34]=s("button",{class:"btn btn-sm bg-red-600 text-white"},[s("i",{class:"las la-times-circle"}),L(" Anular ")],-1))])])]))),128)),p.value.length===0?(E(),k("div",dv,[y[36]||(y[36]=s("i",{class:"las la-inbox text-6xl text-gray-300"},null,-1)),y[37]||(y[37]=s("p",{class:"text-gray-500 mt-4"},"No hay cadenas de custodia registradas para este proyecto",-1)),s("button",{class:"btn btn-primary btn-sm mt-4",onClick:y[3]||(y[3]=x=>be(r).push({name:"custody-chain-form"}))},[...y[35]||(y[35]=[s("i",{class:"las la-plus"},null,-1),L(" Crear Primera Cadena ",-1)])])])):z("",!0)]),Ce(Is,{"is-open":i.value,title:`Detalles del Tcnico - ${a.value?.first_name} ${a.value?.last_name}`,size:"xl",onClose:y[4]||(y[4]=x=>i.value=!1)},{default:Lt(()=>[a.value?(E(),ht(ea,{key:0,technical:a.value},null,8,["technical"])):z("",!0)]),_:1},8,["is-open","title"]),Ce(Is,{"is-open":c.value,title:`Detalles del Vehculo - ${l.value?.no_plate}`,size:"xl",onClose:y[5]||(y[5]=x=>c.value=!1)},{default:Lt(()=>[l.value?(E(),ht(ta,{key:0,vehicle:l.value},null,8,["vehicle"])):z("",!0)]),_:1},8,["is-open","title"])]))}},fv=zt("custodyChainStore",{state:()=>({custodyChains:[],sheetProjectInfo:null,selectedCustodyChain:null,loading:!1,error:null,newCustodyChain:{id:null,id_sheet_project:null,issue_date:null,consecutive:"00000",activity_date:null,location:null,total_gallons:0,duration_hours:0,have_logistic:"NA"}}),actions:{async addCustodyChain(e){console.log("Adding new custody chain",e);try{const t=await fetch(ue.URLCreateCustodyChain,{method:"POST",headers:ue.headers,body:JSON.stringify(e)});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to create custody chain")}const n=await t.json();return this.custodyChains.push(n.data),this.resetNewCustodyChain(),n.data}catch(t){throw console.error("Error creating custody chain:",t),t}},resetNewCustodyChain(){this.newCustodyChain={id:null,id_sheet_project:null,issue_date:new Date().toISOString().split("T")[0],consecutive:"00000",activity_date:new Date().toISOString().split("T")[0],location:null,total_gallons:0,duration_hours:0,have_logistic:"NA"}},async fetchCustodyCapphainDetail(e){this.loading=!0,this.error=null,console.log("Fetching custody chain detail for ID:",e);try{const t=ue.URLCustodyChainDetail.replace("${id}",e),n=await fetch(t,{method:"GET",headers:ue.headers});if(!n.ok)throw new Error("Failed to fetch custody chain detail");const o=await n.json();return this.selectedCustodyChain=o.data,o.data}catch(t){throw console.error("Error fetching custody chain detail:",t),this.error=t.message,t}finally{this.loading=!1}},async updateCustodyChain(e,t){this.loading=!0,this.error=null,console.log("Updating custody chain",e,t);try{const n=ue.URLUpdateCustodyChain.replace("${id}",e),o=await fetch(n,{method:"PUT",headers:ue.headers,body:JSON.stringify(t)});if(!o.ok){const a=await o.json();throw new Error(a.message||"Failed to update custody chain")}const r=await o.json(),l=this.custodyChains.findIndex(a=>a.id===e);return l!==-1&&(this.custodyChains[l]={...this.custodyChains[l],...r.data}),r.data}catch(n){throw console.error("Error updating custody chain:",n),this.error=n.message,n}finally{this.loading=!1}}}}),Mt=e=>{if(!e)return!1;const t=new Date;return new Date(e)<t},wt=e=>{if(!e)return!1;const t=new Date,n=new Date(e),o=Math.floor((n-t)/(1e3*60*60*24));return o<=30&&o>0},pv=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let n=!1,o=!1;return Mt(e.license_expiry_date)?(t.push({type:"error",field:"Licencia de Conducir",message:"Licencia de conducir VENCIDA"}),n=!0):wt(e.license_expiry_date)&&(t.push({type:"warning",field:"Licencia de Conducir",message:"Licencia de conducir prxima a vencer"}),o=!0),Mt(e.defensive_driving_certificate_expiry_date)?(t.push({type:"error",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva VENCIDO"}),n=!0):wt(e.defensive_driving_certificate_expiry_date)&&(t.push({type:"warning",field:"Conduccin Defensiva",message:"Certificado de conduccin defensiva prximo a vencer"}),o=!0),Mt(e.medical_certificate_expiry_date)?(t.push({type:"error",field:"Certificado Mdico",message:"Certificado mdico VENCIDO"}),n=!0):wt(e.medical_certificate_expiry_date)&&(t.push({type:"warning",field:"Certificado Mdico",message:"Certificado mdico prximo a vencer"}),o=!0),e.passes&&e.passes.length>0&&e.passes.forEach(r=>{Mt(r.fecha_caducidad)?(t.push({type:"error",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso VENCIDO"}),n=!0):wt(r.fecha_caducidad)&&(t.push({type:"warning",field:`Pase ${r.bloque_display||r.bloque}`,message:"Pase de acceso prximo a vencer"}),o=!0)}),e.is_iess_affiliated||(t.push({type:"warning",field:"IESS",message:"No est afiliado al IESS"}),o=!0),{hasErrors:n,hasWarnings:o,issues:t}},hv=e=>{if(!e)return{hasErrors:!1,hasWarnings:!1,issues:[]};const t=[];let n=!1,o=!1;return Mt(e.due_date_matricula)?(t.push({type:"error",field:"Matrcula",message:"Matrcula VENCIDA"}),n=!0):wt(e.due_date_matricula)&&(t.push({type:"warning",field:"Matrcula",message:"Matrcula prxima a vencer"}),o=!0),e.status_cert_oper==="VENCIDO"?(t.push({type:"error",field:"Certificado Operacional",message:"Certificado operacional VENCIDO"}),n=!0):wt(e.due_date_cert_oper)&&(t.push({type:"warning",field:"Certificado Operacional",message:"Certificado operacional prximo a vencer"}),o=!0),Mt(e.due_date_technical_review)?(t.push({type:"error",field:"Revisin Tcnica",message:"Revisin tcnica VENCIDA"}),n=!0):wt(e.due_date_technical_review)&&(t.push({type:"warning",field:"Revisin Tcnica",message:"Revisin tcnica prxima a vencer"}),o=!0),Mt(e.insurance_expiration_date)?(t.push({type:"error",field:"Seguro",message:"Seguro VENCIDO"}),n=!0):wt(e.insurance_expiration_date)&&(t.push({type:"warning",field:"Seguro",message:"Seguro prximo a vencer"}),o=!0),Mt(e.due_date_satellite)?(t.push({type:"error",field:"Satlite",message:"Certificado de satlite VENCIDO"}),n=!0):wt(e.due_date_satellite)&&(t.push({type:"warning",field:"Satlite",message:"Certificado de satlite prximo a vencer"}),o=!0),{hasErrors:n,hasWarnings:o,issues:t}},sa=42,na=.158987,oa=.00378541,bv=e=>{const t=parseFloat(e)||0;return{barrels:parseFloat((t/sa).toFixed(2)),cubicMeters:parseFloat((t*oa).toFixed(2))}},mv=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t*sa).toFixed(2)),cubicMeters:parseFloat((t*na).toFixed(2))}},_v=e=>{const t=parseFloat(e)||0;return{gallons:parseFloat((t/oa).toFixed(2)),barrels:parseFloat((t/na).toFixed(2))}},gv={class:"max-w-7xl mx-auto p-4"},vv={class:"bg-white rounded-lg p-4 mb-4 border border-gray-200 shadow-sm"},yv={class:"flex justify-between items-center"},xv={class:"text-xl font-semibold text-gray-800"},wv={class:"text-sm text-gray-600 mt-1"},Cv={class:"flex items-center gap-3"},$v={class:"form-control"},Ev=["disabled"],Sv=["value"],kv={class:"flex flex-col items-center"},Rv={key:0,class:"mt-3 pt-3 border-t border-gray-200"},Av={key:0,class:"flex items-center gap-2 text-sm text-amber-600"},Dv={key:1,class:"flex items-center gap-2 text-sm text-red-600"},Ov={key:2,class:"flex items-center gap-2 text-sm text-green-600"},Iv={key:0,class:"mb-6 space-y-3"},Pv={key:0,class:"alert alert-error shadow-lg"},Tv={class:"flex items-start w-full"},Nv={class:"flex-1"},jv={class:"text-sm mt-2 space-y-1"},Mv={key:1,class:"alert alert-warning shadow-lg"},Fv={class:"flex items-start w-full"},Vv={class:"flex-1"},Uv={class:"text-sm mt-2 space-y-1"},Lv={key:2,class:"alert alert-error shadow-lg"},qv={class:"flex items-start w-full"},Bv={class:"flex-1"},Hv={class:"text-sm mt-2 space-y-1"},Gv={key:3,class:"alert alert-warning shadow-lg"},Wv={class:"flex items-start w-full"},Kv={class:"flex-1"},Yv={class:"text-sm mt-2 space-y-1"},zv={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},Qv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Jv={class:"form-control w-full"},Xv={class:"label",for:"technical"},Zv={class:"label-text font-medium"},e0={key:0,class:"badge badge-error badge-sm ml-1"},t0={key:1,class:"badge badge-warning badge-sm ml-1"},s0={class:"flex gap-2"},n0=["disabled"],o0=["value"],r0={class:"form-control w-full"},l0={class:"label",for:"vehicle"},a0={class:"label-text font-medium"},i0={key:0,class:"badge badge-error badge-sm ml-1"},c0={key:1,class:"badge badge-warning badge-sm ml-1"},d0={class:"flex gap-2"},u0=["disabled"],f0=["value"],p0={class:"form-control w-full"},h0=["disabled"],b0={class:"form-control w-full"},m0=["disabled"],_0={class:"form-control w-full"},g0=["disabled"],v0={class:"form-control w-full"},y0=["disabled"],x0={class:"form-control w-full"},w0=["disabled"],C0={class:"form-control w-full"},$0=["disabled"],E0={key:0,class:"label"},S0={class:"label-text-alt text-error"},k0={class:"form-control w-full"},R0={class:"form-control w-full"},A0=["disabled"],D0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},O0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I0={class:"form-control w-full"},P0=["disabled"],T0={class:"form-control w-full"},N0=["disabled"],j0={class:"form-control w-full"},M0=["disabled"],F0={class:"form-control w-full"},V0=["disabled"],U0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},L0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q0={class:"form-control w-full"},B0=["disabled"],H0={class:"form-control w-full"},G0=["disabled"],W0={class:"form-control w-full"},K0=["disabled"],Y0={class:"form-control w-full"},z0=["disabled"],Q0={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},J0={class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},X0={class:"badge badge-primary ml-2"},Z0={class:"overflow-x-auto"},ey={class:"table table-zebra w-full table-sm"},ty={class:"bg-gray-500 text-white"},sy={class:"border border-gray-300 w-16 text-center"},ny=["disabled"],oy=["onClick"],ry={class:"border border-gray-300 text-center"},ly=["checked","disabled","onClick"],ay={class:"border border-gray-300"},iy={class:"border border-gray-300"},cy={class:"border border-gray-300"},dy={class:"border border-gray-300 text-right font-mono"},uy={key:0},fy={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},py={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},hy={class:"form-control"},by={class:"label cursor-pointer justify-start gap-3"},my=["disabled"],_y={class:"form-control"},gy={class:"label cursor-pointer justify-start gap-3"},vy=["disabled"],yy={class:"form-control"},xy={class:"label cursor-pointer justify-start gap-3"},wy=["disabled"],Cy={class:"form-control"},$y={class:"label cursor-pointer justify-start gap-3"},Ey=["disabled"],Sy={class:"form-control"},ky={class:"label cursor-pointer justify-start gap-3"},Ry=["disabled"],Ay={class:"form-control"},Dy={class:"label cursor-pointer justify-start gap-3"},Oy=["disabled"],Iy={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},Py={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ty={class:"form-control w-full"},Ny=["disabled"],jy={class:"form-control w-full"},My=["disabled"],Fy={class:"form-control w-full"},Vy=["disabled"],Uy={class:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm"},Ly={class:"form-control w-full"},qy=["disabled"],By={class:"flex gap-3 justify-end mt-6"},Hy=["disabled"],Gy=["disabled"],Wy={key:0,class:"las la-save"},Ky={key:1,class:"las la-spinner animate-spin"},Yy={__name:"CustodyChainForm",setup(e){const t=Ve(),n=Xl(),o=Zl(),r=cs(),l=fv(),a=Fs(),i=Ql(),c=ie(!1),p=ie(!1),u=ie(!1),b=Q(()=>{const M=parseInt(i.params.id);return isNaN(M)?0:M}),f=Q(()=>b.value>0),d=ie({technical:null,vehicle:null,sheet_project:null,consecutive:"",activity_date:new Date().toISOString().split("T")[0],location:"",issue_date:new Date().toISOString().split("T")[0],status:"DRAFT",start_time:"",end_time:"",time_duration:0,contact_name:"",dni_contact:"",contact_position:"",date_contact:new Date().toISOString().split("T")[0],driver_name:"",dni_driver:"",driver_position:"",driver_date:new Date().toISOString().split("T")[0],total_gallons:0,total_barrels:0,total_cubic_meters:0,black_water:!1,grey_water:!1,clean_water:!1,activated_sludge:!1,treated_wastewater:!1,organic_grease:!1,notes:"",technical_name:"",technical_dni:"",technical_position:"",vehicle_plate:"",vehicle_brand:"",vehicle_model:"",have_logistic:"NA"}),$=ie([]),y=ie("DRAFT"),x=Q(()=>y.value==="CLOSE");Q(()=>!x.value);const j=async()=>{if(f.value)try{c.value=!0;const M=await l.fetchCustodyCapphainDetail(b.value);if(M){const h=M.custody_chain,R=M.technical,A=M.vehicle,q=M.details||[];y.value=h.status||"DRAFT",d.value={technical:R?.id||null,vehicle:A?.id||null,sheet_project:h.sheet_project_id,consecutive:h.consecutive,activity_date:h.activity_date,location:h.location,issue_date:h.issue_date||new Date().toISOString().split("T")[0],status:h.status||"DRAFT",start_time:h.start_time||"",end_time:h.end_time||"",time_duration:h.time_duration||0,contact_name:h.contact_name||"",dni_contact:h.dni_contact||"",contact_position:h.contact_position||"",date_contact:h.date_contact||new Date().toISOString().split("T")[0],driver_name:h.driver_name||"",dni_driver:h.dni_driver||"",driver_position:h.driver_position||"",driver_date:h.driver_date||new Date().toISOString().split("T")[0],total_gallons:parseFloat(h.total_gallons)||0,total_barrels:parseFloat(h.total_barrels)||0,total_cubic_meters:parseFloat(h.total_cubic_meters)||0,black_water:h.black_water||!1,grey_water:h.grey_water||!1,clean_water:h.clean_water||!1,activated_sludge:h.activated_sludge||!1,treated_wastewater:h.treated_wastewater||!1,organic_grease:h.organic_grease||!1,notes:h.meta?.notes||"",technical_name:R?`${R.first_name} ${R.last_name}`:"",technical_dni:R?.dni||"",technical_position:R?.work_area_display||R?.work_area||"",vehicle_plate:A?.no_plate||"",vehicle_brand:A?.brand||"",vehicle_model:A?.model||"",have_logistic:h.have_logistic||"NA"},q.length>0&&($.value=q.map(B=>B.project_resource.id))}else console.warn("Cadena de custodia no encontrada"),a.push({name:"projects-detail"})}catch(M){console.error("Error al cargar cadena de custodia:",M),alert("Error al cargar los datos de la cadena de custodia: "+M.message),a.push({name:"projects-detail"})}finally{c.value=!1}};bt(async()=>{await t.fetchProjectData(),await n.fetchTechnicalsAvailable(),await o.fetchVehicles(),await r.fetchResourcesProject(),f.value?await j():(d.value.location=t.project?.location||"",d.value.contact_name=t.project?.contact_name||"")});const F=Q(()=>r.resourcesProject.filter(M=>M.type==="SERVIC").map(M=>({...M,selected:$.value.includes(M.id)}))),W=Q(()=>F.value.filter(M=>M.selected)),K=Q(()=>n.technicals.map(M=>({id:M.id,display:`${M.first_name} ${M.last_name}`,fullData:M}))),G=Q(()=>o.vehicles.map(M=>({id:M.id,display:`${M.no_plate} - ${M.brand} ${M.model}`,fullData:M}))),v=M=>{const h=$.value.indexOf(M);h>-1?$.value.splice(h,1):$.value.push(M)},w=()=>{if(d.value.start_time&&d.value.end_time){const M=d.value.start_time.split(":"),h=d.value.end_time.split(":"),R=parseInt(M[0])*60+parseInt(M[1]),q=parseInt(h[0])*60+parseInt(h[1])-R;d.value.time_duration=q>0?q:0}},C=async()=>{try{if(c.value=!0,!d.value.technical||!d.value.vehicle||W.value.length===0){alert("Por favor complete los campos requeridos y seleccione al menos un recurso");return}const M={custody_chain:{technical_id:d.value.technical,vehicle_id:d.value.vehicle,activity_date:d.value.activity_date,issue_date:d.value.issue_date,consecutive:d.value.consecutive,status:d.value.status,location:d.value.location,start_time:d.value.start_time,end_time:d.value.end_time,time_duration:d.value.time_duration,contact_name:d.value.contact_name,dni_contact:d.value.dni_contact,contact_position:d.value.contact_position,date_contact:d.value.date_contact,driver_name:d.value.driver_name,dni_driver:d.value.dni_driver,driver_position:d.value.driver_position,driver_date:d.value.driver_date,total_gallons:parseFloat((parseFloat(d.value.total_gallons)||0).toFixed(2)),total_barrels:parseFloat((parseFloat(d.value.total_barrels)||0).toFixed(2)),total_cubic_meters:parseFloat((parseFloat(d.value.total_cubic_meters)||0).toFixed(2)),black_water:d.value.black_water,grey_water:d.value.grey_water,clean_water:d.value.clean_water,activated_sludge:d.value.activated_sludge,treated_wastewater:d.value.treated_wastewater,organic_grease:d.value.organic_grease,have_logistic:d.value.have_logistic,meta:{notes:d.value.notes,id_user_updated:ue.userId||1}},details:$.value.map(h=>({project_resource_id:h}))};if(f.value){if(await l.updateCustodyChain(b.value,M)){await t.fetchProjectData();const R=t.workOrders.find(A=>A.status==="IN_PROGRESS");R?a.push({name:"sheet-project-view",params:{id:R.id}}):a.push({name:"projects-detail"})}}else{const h={technical_id:d.value.technical,vehicle_id:d.value.vehicle,project_id:ue.idProject,activity_date:d.value.activity_date,issue_date:d.value.issue_date,consecutive:d.value.consecutive,location:d.value.location,start_time:d.value.start_time,end_time:d.value.end_time,duration_hours:d.value.time_duration,contact_name:d.value.contact_name,dni_contact:d.value.dni_contact,contact_position:d.value.contact_position,date_contact:d.value.date_contact,driver_name:d.value.driver_name,dni_driver:d.value.dni_driver,driver_position:d.value.driver_position,driver_date:d.value.driver_date,technical_name:d.value.technical_name,technical_dni:d.value.technical_dni,technical_position:d.value.technical_position,vehicle_plate:d.value.vehicle_plate,vehicle_brand:d.value.vehicle_brand,vehicle_model:d.value.vehicle_model,total_gallons:parseFloat(d.value.total_gallons)||0,total_barrels:parseFloat(d.value.total_barrels)||0,total_cubic_meters:parseFloat(d.value.total_cubic_meters)||0,black_water:d.value.black_water,grey_water:d.value.grey_water,clean_water:d.value.clean_water,activated_sludge:d.value.activated_sludge,treated_wastewater:d.value.treated_wastewater,organic_grease:d.value.organic_grease,have_logistic:d.value.have_logistic,notes:d.value.notes,resources:$.value};if(await l.addCustodyChain(h)){await t.fetchProjectData();const A=t.workOrders.find(q=>q.status==="IN_PROGRESS");A?a.push({name:"sheet-project-view",params:{id:A.id}}):a.push({name:"projects-detail"})}}}catch(M){console.error("Error al guardar:",M),alert("Error al "+(f.value?"actualizar":"guardar")+" la cadena de custodia: "+M.message)}finally{c.value=!1}},N=()=>{ce.value&&(p.value=!0)},P=()=>{me.value&&(u.value=!0)},Re=()=>{const M=t.workOrders.find(h=>h.status==="IN_PROGRESS");M?a.push({name:"sheet-project-view",params:{id:M.id}}):a.push({name:"projects-detail"})};je(()=>t.project?.location,M=>{M&&!d.value.location&&!f.value&&(d.value.location=M)}),je(()=>t.project?.contact_name,M=>{M&&!d.value.contact_name&&!f.value&&(d.value.contact_name=M)});const ce=Q(()=>d.value.technical?n.technicals.find(M=>M.id===d.value.technical):null),me=Q(()=>d.value.vehicle?o.vehicles.find(M=>M.id===d.value.vehicle):null),Ae=Q(()=>pv(ce.value)),ke=Q(()=>hv(me.value)),$e=Q(()=>Ae.value.hasErrors||Ae.value.hasWarnings||ke.value.hasErrors||ke.value.hasWarnings),ne=Q(()=>{if(!d.value.start_time||!d.value.end_time)return{isValid:!0,message:""};const M=d.value.start_time.split(":"),h=d.value.end_time.split(":"),R=parseInt(M[0])*60+parseInt(M[1]);return parseInt(h[0])*60+parseInt(h[1])<=R?{isValid:!1,message:"La hora de fin debe ser mayor que la hora de inicio"}:{isValid:!0,message:""}});je(()=>d.value.start_time,()=>{w()}),je(()=>d.value.end_time,()=>{w()}),je(()=>d.value.activity_date,M=>{M&&!f.value&&(d.value.issue_date=M,d.value.driver_date=M)}),je(()=>d.value.technical,M=>{if(M&&!f.value){const h=n.technicals.find(R=>R.id===M);h&&(d.value.technical_name=`${h.first_name} ${h.last_name}`,d.value.technical_dni=h.dni,d.value.technical_position=h.work_area_display||h.work_area,d.value.driver_name=`${h.first_name} ${h.last_name}`,d.value.dni_driver=h.dni,d.value.driver_position=h.work_area_display||h.work_area,d.value.driver_date=new Date().toISOString().split("T")[0])}}),je(()=>d.value.vehicle,M=>{if(M&&!f.value){const h=o.vehicles.find(R=>R.id===M);h&&(d.value.vehicle_plate=h.no_plate,d.value.vehicle_brand=h.brand,d.value.vehicle_model=h.model)}});const ae=ie(null);je(()=>d.value.total_gallons,(M,h)=>{if(ae.value==="gallons"&&M!==h){const R=bv(M);ae.value=null,d.value.total_barrels=parseFloat(R.barrels.toFixed(2)),d.value.total_cubic_meters=parseFloat(R.cubicMeters.toFixed(2))}}),je(()=>d.value.total_barrels,(M,h)=>{if(ae.value==="barrels"&&M!==h){const R=mv(M);ae.value=null,d.value.total_gallons=parseFloat(R.gallons.toFixed(2)),d.value.total_cubic_meters=parseFloat(R.cubicMeters.toFixed(2))}}),je(()=>d.value.total_cubic_meters,(M,h)=>{if(ae.value==="cubicMeters"&&M!==h){const R=_v(M);ae.value=null,d.value.total_gallons=parseFloat(R.gallons.toFixed(2)),d.value.total_barrels=parseFloat(R.barrels.toFixed(2))}});const tt=()=>{ae.value="gallons"},rt=()=>{ae.value="barrels"},Xe=()=>{ae.value="cubicMeters"},Ne=Q(()=>[{value:"DRAFT",label:"BORRADOR",class:"badge-warning"},{value:"CLOSE",label:"CERRADO",class:"badge-success"}]),mt=Q(()=>Ne.value.find(M=>M.value===d.value.status)||Ne.value[0]);return(M,h)=>(E(),k("div",gv,[s("div",vv,[s("div",yv,[s("div",null,[s("h2",xv,[h[31]||(h[31]=s("i",{class:"las la-link text-blue-600"},null,-1)),L(" "+_(f.value?`${x.value?"Ver":"Editar"} Cadena de Custodia #${b.value}`:"Nueva Cadena de Custodia"),1)]),s("p",wv,_(x.value?"Esta cadena de custodia est cerrada y no puede ser modificada":f.value?"Modifique los datos de la cadena de custodia":"Complete los datos para crear una nueva cadena de custodia"),1)]),s("div",Cv,[s("div",$v,[h[32]||(h[32]=s("label",{class:"label py-0 mb-1"},[s("span",{class:"label-text font-semibold text-xs"},"Estado")],-1)),Z(s("select",{"onUpdate:modelValue":h[0]||(h[0]=R=>d.value.status=R),disabled:x.value,class:se(["select select-bordered select-sm",{"select-warning":d.value.status==="DRAFT","select-success":d.value.status==="CLOSE"}])},[(E(!0),k(re,null,_e(Ne.value,R=>(E(),k("option",{key:R.value,value:R.value},_(R.label),9,Sv))),128))],10,Ev),[[Ct,d.value.status]])]),s("div",kv,[h[33]||(h[33]=s("span",{class:"text-xs text-gray-500 mb-1"},"Estado Actual",-1)),s("span",{class:se(["badge badge-lg",mt.value.class])},[s("i",{class:se(["las mr-1",{"la-edit":d.value.status==="DRAFT","la-lock":d.value.status==="CLOSE"}])},null,2),L(" "+_(mt.value.label),1)],2)])])]),f.value?(E(),k("div",Rv,[!x.value&&d.value.status==="DRAFT"?(E(),k("div",Av,[...h[34]||(h[34]=[s("i",{class:"las la-info-circle text-lg"},null,-1),s("span",null,[L("La cadena de custodia est en estado "),s("strong",null,"BORRADOR"),L(" y puede ser modificada libremente.")],-1)])])):x.value?(E(),k("div",Dv,[...h[35]||(h[35]=[s("i",{class:"las la-lock text-lg"},null,-1),s("span",null,[L("La cadena de custodia est "),s("strong",null,"CERRADA"),L(". No se pueden realizar modificaciones.")],-1)])])):(E(),k("div",Ov,[...h[36]||(h[36]=[s("i",{class:"las la-check-circle text-lg"},null,-1),s("span",null,[L("Al guardar con estado "),s("strong",null,"CERRADO"),L(", no se podrn realizar ms modificaciones.")],-1)])]))])):z("",!0)]),$e.value?(E(),k("div",Iv,[Ae.value.hasErrors?(E(),k("div",Pv,[s("div",Tv,[h[38]||(h[38]=s("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),s("div",Nv,[h[37]||(h[37]=s("h3",{class:"font-bold"},"Problemas crticos con el tcnico seleccionado",-1)),s("ul",jv,[(E(!0),k(re,null,_e(Ae.value.issues.filter(R=>R.type==="error"),(R,A)=>(E(),k("li",{key:A},[s("strong",null,_(R.field)+":",1),L(" "+_(R.message),1)]))),128))])])])])):z("",!0),Ae.value.hasWarnings&&!Ae.value.hasErrors?(E(),k("div",Mv,[s("div",Fv,[h[40]||(h[40]=s("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),s("div",Vv,[h[39]||(h[39]=s("h3",{class:"font-bold"},"Advertencias del tcnico seleccionado",-1)),s("ul",Uv,[(E(!0),k(re,null,_e(Ae.value.issues.filter(R=>R.type==="warning"),(R,A)=>(E(),k("li",{key:A},[s("strong",null,_(R.field)+":",1),L(" "+_(R.message),1)]))),128))])])])])):z("",!0),ke.value.hasErrors?(E(),k("div",Lv,[s("div",qv,[h[42]||(h[42]=s("i",{class:"las la-exclamation-circle text-2xl"},null,-1)),s("div",Bv,[h[41]||(h[41]=s("h3",{class:"font-bold"},"Problemas crticos con el vehculo seleccionado",-1)),s("ul",Hv,[(E(!0),k(re,null,_e(ke.value.issues.filter(R=>R.type==="error"),(R,A)=>(E(),k("li",{key:A},[s("strong",null,_(R.field)+":",1),L(" "+_(R.message),1)]))),128))])])])])):z("",!0),ke.value.hasWarnings&&!ke.value.hasErrors?(E(),k("div",Gv,[s("div",Wv,[h[44]||(h[44]=s("i",{class:"las la-exclamation-triangle text-2xl"},null,-1)),s("div",Kv,[h[43]||(h[43]=s("h3",{class:"font-bold"},"Advertencias del vehculo seleccionado",-1)),s("ul",Yv,[(E(!0),k(re,null,_e(ke.value.issues.filter(R=>R.type==="warning"),(R,A)=>(E(),k("li",{key:A},[s("strong",null,_(R.field)+":",1),L(" "+_(R.message),1)]))),128))])])])])):z("",!0)])):z("",!0),s("form",{onSubmit:Ds(C,["prevent"]),class:"space-y-6"},[s("div",zv,[h[65]||(h[65]=s("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin General",-1)),s("div",Qv,[s("div",Jv,[s("label",Xv,[s("span",Zv,[h[47]||(h[47]=L(" Tcnico * ",-1)),Ae.value.hasErrors?(E(),k("span",e0,[...h[45]||(h[45]=[s("i",{class:"las la-exclamation-circle"},null,-1)])])):Ae.value.hasWarnings?(E(),k("span",t0,[...h[46]||(h[46]=[s("i",{class:"las la-exclamation-triangle"},null,-1)])])):z("",!0)])]),s("div",s0,[Z(s("select",{id:"technical","onUpdate:modelValue":h[1]||(h[1]=R=>d.value.technical=R),disabled:x.value,required:"",class:se(["select select-bordered w-full flex-1",{"select-error":Ae.value.hasErrors,"select-warning":Ae.value.hasWarnings&&!Ae.value.hasErrors}])},[h[48]||(h[48]=s("option",{value:null,disabled:""},"Seleccione un tcnico",-1)),(E(!0),k(re,null,_e(K.value,R=>(E(),k("option",{key:R.id,value:R.id},_(R.display),9,o0))),128))],10,n0),[[Ct,d.value.technical,void 0,{number:!0}]]),ce.value?(E(),k("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:N,title:"Ver detalles del tcnico"},[...h[49]||(h[49]=[s("i",{class:"las la-eye text-lg"},null,-1)])])):z("",!0)])]),s("div",r0,[s("label",l0,[s("span",a0,[h[52]||(h[52]=L(" Vehculo * ",-1)),ke.value.hasErrors?(E(),k("span",i0,[...h[50]||(h[50]=[s("i",{class:"las la-exclamation-circle"},null,-1)])])):ke.value.hasWarnings?(E(),k("span",c0,[...h[51]||(h[51]=[s("i",{class:"las la-exclamation-triangle"},null,-1)])])):z("",!0)])]),s("div",d0,[Z(s("select",{id:"vehicle","onUpdate:modelValue":h[2]||(h[2]=R=>d.value.vehicle=R),disabled:x.value,required:"",class:se(["select select-bordered w-full flex-1",{"select-error":ke.value.hasErrors,"select-warning":ke.value.hasWarnings&&!ke.value.hasErrors}])},[h[53]||(h[53]=s("option",{value:null,disabled:""},"Seleccione un vehculo",-1)),(E(!0),k(re,null,_e(G.value,R=>(E(),k("option",{key:R.id,value:R.id},_(R.display),9,f0))),128))],10,u0),[[Ct,d.value.vehicle,void 0,{number:!0}]]),me.value?(E(),k("button",{key:0,type:"button",class:"btn btn-outline btn-square",onClick:P,title:"Ver detalles del vehculo"},[...h[54]||(h[54]=[s("i",{class:"las la-eye text-lg"},null,-1)])])):z("",!0)])]),s("div",p0,[h[55]||(h[55]=s("label",{class:"label",for:"consecutive"},[s("span",{class:"label-text font-medium"},"Consecutivo")],-1)),Z(s("input",{type:"text",id:"consecutive","onUpdate:modelValue":h[3]||(h[3]=R=>d.value.consecutive=R),disabled:x.value,placeholder:"Se generar automticamente",class:"input input-bordered w-full",maxlength:"7"},null,8,h0),[[de,d.value.consecutive]])]),s("div",b0,[h[56]||(h[56]=s("label",{class:"label",for:"activity_date"},[s("span",{class:"label-text font-medium"},"Fecha de Actividad *")],-1)),Z(s("input",{type:"date",id:"activity_date","onUpdate:modelValue":h[4]||(h[4]=R=>d.value.activity_date=R),disabled:x.value,required:"",class:"input input-bordered w-full"},null,8,m0),[[de,d.value.activity_date]])]),s("div",_0,[h[57]||(h[57]=s("label",{class:"label",for:"location"},[s("span",{class:"label-text font-medium"},"Ubicacin")],-1)),Z(s("input",{type:"text",id:"location","onUpdate:modelValue":h[5]||(h[5]=R=>d.value.location=R),disabled:x.value,placeholder:"Ej: Bloque 31",class:"input input-bordered w-full"},null,8,g0),[[de,d.value.location]])]),s("div",v0,[h[58]||(h[58]=s("label",{class:"label",for:"issue_date"},[s("span",{class:"label-text font-medium"},"Fecha de Emisin")],-1)),Z(s("input",{type:"date",id:"issue_date","onUpdate:modelValue":h[6]||(h[6]=R=>d.value.issue_date=R),disabled:x.value,class:"input input-bordered w-full"},null,8,y0),[[de,d.value.issue_date]])]),s("div",x0,[h[59]||(h[59]=s("label",{class:"label",for:"start_time"},[s("span",{class:"label-text font-medium"},"Hora de Inicio")],-1)),Z(s("input",{type:"time",id:"start_time","onUpdate:modelValue":h[7]||(h[7]=R=>d.value.start_time=R),disabled:x.value,class:se(["input input-bordered w-full",{"input-error":!ne.value.isValid}])},null,10,w0),[[de,d.value.start_time]])]),s("div",C0,[h[61]||(h[61]=s("label",{class:"label",for:"end_time"},[s("span",{class:"label-text font-medium"},"Hora de Fin")],-1)),Z(s("input",{type:"time",id:"end_time","onUpdate:modelValue":h[8]||(h[8]=R=>d.value.end_time=R),disabled:x.value,class:se(["input input-bordered w-full",{"input-error":!ne.value.isValid}])},null,10,$0),[[de,d.value.end_time]]),ne.value.isValid?z("",!0):(E(),k("label",E0,[s("span",S0,[h[60]||(h[60]=s("i",{class:"las la-exclamation-circle"},null,-1)),L(" "+_(ne.value.message),1)])]))]),s("div",k0,[h[62]||(h[62]=s("label",{class:"label",for:"time_duration"},[s("span",{class:"label-text font-medium"},"Duracin (Minutos)")],-1)),Z(s("input",{type:"number",id:"time_duration","onUpdate:modelValue":h[9]||(h[9]=R=>d.value.time_duration=R),step:"0.01",readonly:"",class:"input input-bordered w-full bg-gray-100"},null,512),[[de,d.value.time_duration]])]),s("div",R0,[h[64]||(h[64]=s("label",{class:"label",for:"have_logistic"},[s("span",{class:"label-text font-medium"},"Tiene Logstica? *")],-1)),Z(s("select",{id:"have_logistic","onUpdate:modelValue":h[10]||(h[10]=R=>d.value.have_logistic=R),disabled:x.value,required:"",class:"select select-bordered w-full"},[...h[63]||(h[63]=[s("option",{value:"SI"},"S",-1),s("option",{value:"NO"},"NO",-1),s("option",{value:"NA"},"NO APLICA",-1)])],8,A0),[[Ct,d.value.have_logistic]])])])]),s("div",D0,[h[70]||(h[70]=s("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin del Transportista",-1)),s("div",O0,[s("div",I0,[h[66]||(h[66]=s("label",{class:"label",for:"driver_name"},[s("span",{class:"label-text font-medium"},"Nombre de Transportista")],-1)),Z(s("input",{type:"text",id:"driver_name","onUpdate:modelValue":h[11]||(h[11]=R=>d.value.driver_name=R),disabled:x.value,placeholder:"Nombre completo",class:"input input-bordered w-full"},null,8,P0),[[de,d.value.driver_name]])]),s("div",T0,[h[67]||(h[67]=s("label",{class:"label",for:"dni_driver"},[s("span",{class:"label-text font-medium"},"Cdula de Transportista")],-1)),Z(s("input",{type:"text",id:"dni_driver","onUpdate:modelValue":h[12]||(h[12]=R=>d.value.dni_driver=R),disabled:x.value,placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,8,N0),[[de,d.value.dni_driver]])]),s("div",j0,[h[68]||(h[68]=s("label",{class:"label",for:"driver_position"},[s("span",{class:"label-text font-medium"},"Cargo de Transportista")],-1)),Z(s("input",{type:"text",id:"driver_position","onUpdate:modelValue":h[13]||(h[13]=R=>d.value.driver_position=R),disabled:x.value,placeholder:"Ej: Conductor",class:"input input-bordered w-full"},null,8,M0),[[de,d.value.driver_position]])]),s("div",F0,[h[69]||(h[69]=s("label",{class:"label",for:"driver_date"},[s("span",{class:"label-text font-medium"},"Fecha de Transportista")],-1)),Z(s("input",{type:"date",id:"driver_date","onUpdate:modelValue":h[14]||(h[14]=R=>d.value.driver_date=R),disabled:x.value,class:"input input-bordered w-full"},null,8,V0),[[de,d.value.driver_date]])])])]),s("div",U0,[h[75]||(h[75]=s("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Informacin de Contacto",-1)),s("div",L0,[s("div",q0,[h[71]||(h[71]=s("label",{class:"label",for:"contact_name"},[s("span",{class:"label-text font-medium"},"Nombre de Contacto")],-1)),Z(s("input",{type:"text",id:"contact_name","onUpdate:modelValue":h[15]||(h[15]=R=>d.value.contact_name=R),disabled:x.value,placeholder:"Nombre completo",class:"input input-bordered w-full"},null,8,B0),[[de,d.value.contact_name]])]),s("div",H0,[h[72]||(h[72]=s("label",{class:"label",for:"dni_contact"},[s("span",{class:"label-text font-medium"},"Cdula de Contacto")],-1)),Z(s("input",{type:"text",id:"dni_contact","onUpdate:modelValue":h[16]||(h[16]=R=>d.value.dni_contact=R),disabled:x.value,placeholder:"Nmero de identificacin",maxlength:"15",class:"input input-bordered w-full"},null,8,G0),[[de,d.value.dni_contact]])]),s("div",W0,[h[73]||(h[73]=s("label",{class:"label",for:"contact_position"},[s("span",{class:"label-text font-medium"},"Cargo de Contacto")],-1)),Z(s("input",{type:"text",id:"contact_position","onUpdate:modelValue":h[17]||(h[17]=R=>d.value.contact_position=R),disabled:x.value,placeholder:"Ej: Maquinista",class:"input input-bordered w-full"},null,8,K0),[[de,d.value.contact_position]])]),s("div",Y0,[h[74]||(h[74]=s("label",{class:"label",for:"date_contact"},[s("span",{class:"label-text font-medium"},"Fecha de Contacto")],-1)),Z(s("input",{type:"date",id:"date_contact","onUpdate:modelValue":h[18]||(h[18]=R=>d.value.date_contact=R),disabled:x.value,class:"input input-bordered w-full"},null,8,z0),[[de,d.value.date_contact]])])])]),s("div",Q0,[s("h6",J0,[h[76]||(h[76]=L(" Recursos del Proyecto ",-1)),s("span",X0,_(W.value.length)+" seleccionados",1)]),s("div",Z0,[s("table",ey,[s("thead",null,[s("tr",ty,[s("th",sy,[s("input",{type:"checkbox",class:"checkbox checkbox-sm",disabled:x.value},null,8,ny)]),h[77]||(h[77]=s("th",{class:"border border-gray-300"},"#",-1)),h[78]||(h[78]=s("th",{class:"border border-gray-300"},"Cdigo",-1)),h[79]||(h[79]=s("th",{class:"border border-gray-300"},"Descripcin",-1)),h[80]||(h[80]=s("th",{class:"border border-gray-300 text-right"},"Costo",-1))])]),s("tbody",null,[(E(!0),k(re,null,_e(F.value,(R,A)=>(E(),k("tr",{key:R.id,class:se({"bg-blue-100":R.selected,"cursor-pointer hover:bg-blue-50":!x.value,"opacity-60":x.value}),onClick:q=>!x.value&&v(R.id)},[s("td",ry,[s("input",{type:"checkbox",class:"checkbox checkbox-sm checkbox-primary",checked:R.selected,disabled:x.value,onClick:Ds(q=>!x.value&&v(R.id),["stop"])},null,8,ly)]),s("td",ay,_(A+1),1),s("td",iy,_(R.resource_item_code),1),s("td",cy,_(R.detailed_description),1),s("td",dy,"$"+_(R.cost),1)],10,oy))),128)),F.value.length===0?(E(),k("tr",uy,[...h[81]||(h[81]=[s("td",{colspan:"5",class:"text-center text-gray-500 py-8"},[s("i",{class:"las la-inbox text-4xl"}),s("p",null,"No hay recursos disponibles")],-1)])])):z("",!0)])])])]),s("div",fy,[h[88]||(h[88]=s("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Tipo de Residuos / Aguas",-1)),s("div",py,[s("div",hy,[s("label",by,[Z(s("input",{type:"checkbox","onUpdate:modelValue":h[19]||(h[19]=R=>d.value.black_water=R),disabled:x.value,class:"checkbox checkbox-primary"},null,8,my),[[Tt,d.value.black_water]]),h[82]||(h[82]=s("span",{class:"label-text font-medium"},"Aguas Negras",-1))])]),s("div",_y,[s("label",gy,[Z(s("input",{type:"checkbox","onUpdate:modelValue":h[20]||(h[20]=R=>d.value.grey_water=R),disabled:x.value,class:"checkbox checkbox-primary"},null,8,vy),[[Tt,d.value.grey_water]]),h[83]||(h[83]=s("span",{class:"label-text font-medium"},"Aguas Grises",-1))])]),s("div",yy,[s("label",xy,[Z(s("input",{type:"checkbox","onUpdate:modelValue":h[21]||(h[21]=R=>d.value.clean_water=R),disabled:x.value,class:"checkbox checkbox-primary"},null,8,wy),[[Tt,d.value.clean_water]]),h[84]||(h[84]=s("span",{class:"label-text font-medium"},"Aguas Limpias",-1))])]),s("div",Cy,[s("label",$y,[Z(s("input",{type:"checkbox","onUpdate:modelValue":h[22]||(h[22]=R=>d.value.activated_sludge=R),disabled:x.value,class:"checkbox checkbox-primary"},null,8,Ey),[[Tt,d.value.activated_sludge]]),h[85]||(h[85]=s("span",{class:"label-text font-medium"},"Lodos Activados",-1))])]),s("div",Sy,[s("label",ky,[Z(s("input",{type:"checkbox","onUpdate:modelValue":h[23]||(h[23]=R=>d.value.treated_wastewater=R),disabled:x.value,class:"checkbox checkbox-primary"},null,8,Ry),[[Tt,d.value.treated_wastewater]]),h[86]||(h[86]=s("span",{class:"label-text font-medium"},"Aguas Residuales Tratadas",-1))])]),s("div",Ay,[s("label",Dy,[Z(s("input",{type:"checkbox","onUpdate:modelValue":h[24]||(h[24]=R=>d.value.organic_grease=R),disabled:x.value,class:"checkbox checkbox-primary"},null,8,Oy),[[Tt,d.value.organic_grease]]),h[87]||(h[87]=s("span",{class:"label-text font-medium"},"Grasa Orgnica",-1))])])])]),s("div",Iy,[h[92]||(h[92]=s("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},[L(" Totales "),s("span",{class:"text-xs text-gray-500 ml-2"},"(Los valores se convierten automticamente)")],-1)),s("div",Py,[s("div",Ty,[h[89]||(h[89]=s("label",{class:"label",for:"total_gallons"},[s("span",{class:"label-text font-medium"},"Total Galones")],-1)),Z(s("input",{type:"number",id:"total_gallons","onUpdate:modelValue":h[25]||(h[25]=R=>d.value.total_gallons=R),onInput:tt,disabled:x.value,min:"0",step:"0.01",class:"input input-bordered w-full",placeholder:"0.00"},null,40,Ny),[[de,d.value.total_gallons,void 0,{number:!0}]])]),s("div",jy,[h[90]||(h[90]=s("label",{class:"label",for:"total_barrels"},[s("span",{class:"label-text font-medium"},"Total Barriles")],-1)),Z(s("input",{type:"number",id:"total_barrels","onUpdate:modelValue":h[26]||(h[26]=R=>d.value.total_barrels=R),onInput:rt,disabled:x.value,min:"0",step:"0.01",class:"input input-bordered w-full",placeholder:"0.00"},null,40,My),[[de,d.value.total_barrels,void 0,{number:!0}]])]),s("div",Fy,[h[91]||(h[91]=s("label",{class:"label",for:"total_cubic_meters"},[s("span",{class:"label-text font-medium"},"Total Metros Cbicos")],-1)),Z(s("input",{type:"number",id:"total_cubic_meters","onUpdate:modelValue":h[27]||(h[27]=R=>d.value.total_cubic_meters=R),onInput:Xe,disabled:x.value,min:"0",step:"0.01",class:"input input-bordered w-full",placeholder:"0.00"},null,40,Vy),[[de,d.value.total_cubic_meters,void 0,{number:!0}]])])])]),s("div",Uy,[h[93]||(h[93]=s("h6",{class:"font-semibold text-lg mb-4 text-gray-700 border-b pb-2"},"Notas",-1)),s("div",Ly,[Z(s("textarea",{id:"notes","onUpdate:modelValue":h[28]||(h[28]=R=>d.value.notes=R),disabled:x.value,rows:"4",placeholder:"Observaciones o notas adicionales...",class:"textarea textarea-bordered w-full"},null,8,qy),[[de,d.value.notes]])])]),s("div",By,[s("button",{type:"button",class:"btn btn-outline",onClick:Re,disabled:c.value},[h[94]||(h[94]=s("i",{class:"las la-times"},null,-1)),L(" "+_(x.value?"Cerrar":"Cancelar"),1)],8,Hy),x.value?z("",!0):(E(),k("button",{key:0,type:"submit",class:"btn btn-primary",disabled:c.value},[c.value?(E(),k("i",Ky)):(E(),k("i",Wy)),L(" "+_(c.value?"Guardando...":f.value?"Actualizar Cadena de Custodia":"Guardar Cadena de Custodia"),1)],8,Gy))])],32),Ce(Is,{"is-open":p.value,title:`Detalles del Tcnico - ${ce.value?.first_name} ${ce.value?.last_name}`,size:"xl",onClose:h[29]||(h[29]=R=>p.value=!1)},{default:Lt(()=>[ce.value?(E(),ht(ea,{key:0,technical:ce.value},null,8,["technical"])):z("",!0)]),_:1},8,["is-open","title"]),Ce(Is,{"is-open":u.value,title:`Detalles del Vehculo - ${me.value?.no_plate}`,size:"xl",onClose:h[30]||(h[30]=R=>u.value=!1)},{default:Lt(()=>[me.value?(E(),ht(ta,{key:0,vehicle:me.value},null,8,["vehicle"])):z("",!0)]),_:1},8,["is-open","title"])]))}},zy={class:"w-[95%] mx-auto p-4"},Qy={class:"bg-white rounded-2xl shadow-md border border-blue-300 border-t-[15px] border-t-blue-300 p-6 mb-6"},Jy={class:"flex justify-between items-center border-b-blue-500 border-b pb-3 mb-4"},Xy={class:"text-xl font-semibold text-blue-500"},Zy={class:"flex gap-3"},e1={key:1,class:"text-orange-700 badge bg-orange-100 px-4 py-3"},t1={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},s1={class:"bg-blue-50 rounded-lg p-4 border border-blue-200"},n1={class:"font-semibold text-blue-700 mb-3 flex items-center gap-2"},o1={class:"space-y-2 text-sm"},r1={class:"ml-2"},l1={class:"ml-2"},a1={class:"ml-2"},i1={class:"ml-2"},c1={class:"bg-sky-50 rounded-lg p-4 border border-sky-200"},d1={class:"space-y-2 text-sm"},u1={class:"ml-2 font-mono"},f1={class:"ml-2"},p1={class:"ml-2"},h1={class:"bg-white rounded-xl shadow-md border border-gray-200 p-6"},b1={class:"font-semibold text-lg mb-4 flex items-center gap-2 text-gray-800"},m1={class:"overflow-x-auto"},_1={class:"table table-zebra w-full"},g1={key:0},v1={class:"p-2 border border-gray-300 text-center"},y1={class:"p-2 border border-gray-300 font-mono"},x1={class:"p-2 border border-gray-300 text-center"},w1={class:"p-2 border border-gray-300 text-center"},C1={class:"p-2 border border-gray-300 text-center font-mono"},$1={class:"p-2 border border-gray-300 text-center font-mono"},E1={class:"p-2 border border-gray-300 text-center font-semibold"},S1={class:"p-2 border border-gray-300"},k1={class:"p-2 border border-gray-300"},R1={key:0,class:"text-xs"},A1={class:"font-semibold"},D1={key:1,class:"text-gray-400"},O1={class:"p-2 border border-gray-300"},I1={key:0,class:"text-xs"},P1={class:"font-semibold"},T1={class:"text-gray-500"},N1={key:1,class:"text-gray-400"},j1={class:"p-2 border border-gray-300 text-right font-mono"},M1={class:"p-2 border border-gray-300 text-right font-mono"},F1={class:"p-2 border border-gray-300 text-right font-mono"},V1={class:"p-2 border border-gray-300 text-center"},U1={class:"badge badge-info"},L1={class:"p-2 border border-gray-300 text-end"},q1={class:"flex gap-2 justify-end"},B1=["onClick"],H1=["onClick"],G1=["onClick","title","disabled"],W1={key:0},K1={class:"bg-gray-500 font-bold text-white"},Y1={class:"p-2 border border-gray-300 text-center"},z1={class:"p-2 border border-gray-300 text-right font-mono"},Q1={class:"p-2 border border-gray-300 text-right font-mono"},J1={class:"p-2 border border-gray-300 text-right font-mono"},X1={class:"stats shadow w-full mt-6"},Z1={class:"stat"},ex={class:"stat-value text-primary"},tx={class:"stat"},sx={class:"stat-value text-info"},nx={class:"stat"},ox={class:"stat-value text-info"},rx={class:"stat"},lx={class:"stat-value text-info"},ax={class:"stat"},ix={class:"stat-value text-info"},cx={__name:"SheetProjectView",setup(e){const t=Ql(),n=Fs(),o=Ve(),r=go(),l=Q(()=>parseInt(t.params.id)),a=Q(()=>o.project),i=Q(()=>r.getSheetProjectById(l.value)),c=Q(()=>r.getCustodyChainsForSheet(l.value)),p=G=>G?new Intl.DateTimeFormat("es-GT").format(new Date(G)):"N/A",u=G=>G||"N/A",b=G=>({IN_PROGRESS:{text:"EN EJECUCIN",class:"badge-success"},INVOICED:{text:"FACTURADO",class:"badge-info"},CANCELLED:{text:"CANCELADO",class:"badge-warning"}})[G]||{text:G,class:"badge-ghost"},f=G=>({DRAFT:{text:"BORRADOR",class:"badge-warning"},CLOSE:{text:"CERRADO",class:"badge-success"}})[G]||{text:G,class:"badge-ghost"},d=Q(()=>c.value.reduce((G,v)=>G+parseFloat(v.total_gallons||0),0)),$=Q(()=>c.value.reduce((G,v)=>G+parseFloat(v.total_barrels||0),0)),y=Q(()=>c.value.reduce((G,v)=>G+parseFloat(v.total_cubic_meters||0),0)),x=Q(()=>c.value.reduce((G,v)=>G+parseFloat(v.time_duration||0),0).toFixed(2)),j=()=>{n.push({name:"projects-detail"})},F=G=>{n.push({name:"custody-chain-form",params:{id:G}})},W=()=>{n.push({name:"custody-chain-form",query:{sheet_id:i.value?.id}})},K=G=>{const v=ue.PDFCustodyChainReport.replace("${id}",G);window.open(v,"_blank")};return bt(async()=>{a.value.id||await o.fetchProjectData()}),(G,v)=>(E(),k("div",zy,[s("div",Qy,[s("div",Jy,[s("h1",Xy,[v[0]||(v[0]=s("i",{class:"las la-link text-2xl"},null,-1)),L(" Cadenas de Custodia - Planilla "+_(i.value?.series_code||"N/A"),1)]),s("div",Zy,[i.value?.status==="IN_PROGRESS"?(E(),k("button",{key:0,onClick:W,class:"btn btn-primary btn-sm"},[...v[1]||(v[1]=[s("i",{class:"las la-plus"},null,-1),L(" Nueva Cadena de Custodia ",-1)])])):(E(),k("div",e1,[...v[2]||(v[2]=[s("i",{class:"las la-exclamation-triangle"},null,-1),L(" PLANILLA CERRADA - NO SE PUEDEN AGREGAR CADENAS ",-1)])])),s("button",{onClick:j,class:"btn btn-outline btn-sm"},[...v[3]||(v[3]=[s("i",{class:"las la-arrow-left"},null,-1),L(" Volver ",-1)])])])]),s("div",t1,[s("div",s1,[s("h3",n1,[v[4]||(v[4]=s("i",{class:"las la-building"},null,-1)),L(" Informacin del Proyecto #"+_(a.value?.id||"N/A"),1)]),s("div",o1,[s("div",null,[v[5]||(v[5]=s("span",{class:"font-medium"},"Cliente:",-1)),s("span",r1,_(a.value?.partner_name||"N/A"),1)]),s("div",null,[v[6]||(v[6]=s("span",{class:"font-medium"},"Ubicacin:",-1)),s("span",l1,_(a.value?.location||"N/A")+_(a.value?.cardinal_point?" - "+a.value.cardinal_point:""),1)]),s("div",null,[v[7]||(v[7]=s("span",{class:"font-medium"},"Contacto:",-1)),s("span",a1,_(a.value?.contact_name||"N/A")+" ("+_(a.value?.contact_phone||"N/A")+")",1)]),s("div",null,[v[8]||(v[8]=s("span",{class:"font-medium"},"Fecha Inicio:",-1)),s("span",i1,_(p(a.value?.start_date)),1)])])]),s("div",c1,[v[13]||(v[13]=s("h3",{class:"font-semibold text-sky-700 mb-3 flex items-center gap-2"},[s("i",{class:"las la-file-invoice"}),L(" Informacin de la Planilla ")],-1)),s("div",d1,[s("div",null,[v[9]||(v[9]=s("span",{class:"font-medium"},"Serie:",-1)),s("span",u1,_(i.value?.series_code||"N/A"),1)]),s("div",null,[v[10]||(v[10]=s("span",{class:"font-medium"},"Estado:",-1)),s("span",{class:se(["ml-2 badge",b(i.value?.status).class])},_(b(i.value?.status).text),3)]),s("div",null,[v[11]||(v[11]=s("span",{class:"font-medium"},"Tipo Servicio:",-1)),s("span",f1,_(i.value?.service_type||"N/A"),1)]),s("div",null,[v[12]||(v[12]=s("span",{class:"font-medium"},"Perodo:",-1)),s("span",p1,_(p(i.value?.period_start))+" - "+_(i.value?.period_end?p(i.value.period_end):"En curso"),1)])])])])]),s("div",h1,[s("h2",b1,[v[14]||(v[14]=s("i",{class:"las la-list text-blue-600"},null,-1)),L(" Listado de Cadenas de Custodia ("+_(c.value.length)+") ",1)]),s("div",m1,[s("table",_1,[v[22]||(v[22]=s("thead",null,[s("tr",{class:"bg-gray-500 text-white"},[s("th",{class:"p-2 border border-gray-100 text-center"},"#"),s("th",{class:"p-2 border border-gray-100 text-center"},"Consecutivo"),s("th",{class:"p-2 border border-gray-100 text-center"},"Estado"),s("th",{class:"p-2 border border-gray-100 text-center"},"Fecha Actividad"),s("th",{class:"p-2 border border-gray-100 text-center"},"Hora Inicio"),s("th",{class:"p-2 border border-gray-100 text-center"},"Hora Fin"),s("th",{class:"p-2 border border-gray-100 text-center"},"Minutos"),s("th",{class:"p-2 border border-gray-100 text-center"},"Ubicacin"),s("th",{class:"p-2 border border-gray-100 text-center"},"Tcnico"),s("th",{class:"p-2 border border-gray-100 text-center"},"Vehculo"),s("th",{class:"p-2 border border-gray-100 text-center"},"Galones"),s("th",{class:"p-2 border border-gray-100 text-center"},"Barriles"),s("th",{class:"p-2 border border-gray-100 text-center"},"M"),s("th",{class:"p-2 border border-gray-100 text-center"},"Recursos"),s("th",{class:"p-2 border border-gray-100 text-center"},"Acciones")])],-1)),s("tbody",null,[c.value.length===0?(E(),k("tr",g1,[...v[15]||(v[15]=[s("td",{colspan:"15",class:"text-center text-gray-500 py-8"},[s("i",{class:"las la-inbox text-4xl"}),s("p",null,"No hay cadenas de custodia registradas para esta planilla")],-1)])])):(E(!0),k(re,{key:1},_e(c.value,w=>(E(),k("tr",{key:w.id},[s("td",v1,_(w.id),1),s("td",y1,_(w.consecutive),1),s("td",x1,[s("span",{class:se(["badge",f(w.status).class])},_(f(w.status).text),3)]),s("td",w1,_(p(w.activity_date)),1),s("td",C1,_(u(w.start_time)),1),s("td",$1,_(u(w.end_time)),1),s("td",E1,_(w.time_duration||0),1),s("td",S1,_(w.location||"N/A"),1),s("td",k1,[w.technical?(E(),k("div",R1,[s("div",A1,_(w.technical.first_name)+" "+_(w.technical.last_name),1)])):(E(),k("span",D1,"N/A"))]),s("td",O1,[w.vehicle?(E(),k("div",I1,[s("div",P1,_(w.vehicle.no_plate),1),s("div",T1,_(w.vehicle.brand),1)])):(E(),k("span",N1,"N/A"))]),s("td",j1,_(w.total_gallons||0),1),s("td",M1,_(w.total_barrels||0),1),s("td",F1,_(w.total_cubic_meters||0),1),s("td",V1,[s("span",U1,_(w.details_count||0),1)]),s("td",L1,[s("div",q1,[s("button",{onClick:C=>F(w.id),class:"btn btn-xs border-blue-500 text-teal-500 bg-white",title:"Ver detalle"},[...v[16]||(v[16]=[s("i",{class:"las la-eye"},null,-1),L(" VER ",-1)])],8,B1),s("button",{onClick:C=>K(w.id),class:"btn btn-xs border-red-500 text-red-500 bg-white",title:"Generar PDF"},[...v[17]||(v[17]=[s("i",{class:"las la-file-pdf"},null,-1),L(" PDF ",-1)])],8,H1),s("button",{onClick:C=>w.status==="DRAFT"?be(n).push({name:"custody-chain-form",params:{id:w.id}}):null,class:se(["btn btn-xs border-orange-500 text-orange-500 bg-white",{"btn-disabled opacity-50 cursor-not-allowed":w.status!=="DRAFT"}]),title:w.status==="DRAFT"?"Editar cadena":"No se puede editar una cadena cerrada",disabled:w.status!=="DRAFT"},[...v[18]||(v[18]=[s("i",{class:"las la-edit"},null,-1),L(" EDITAR ",-1)])],10,G1)])])]))),128))]),c.value.length>0?(E(),k("tfoot",W1,[s("tr",K1,[v[19]||(v[19]=s("td",{colspan:"6",class:"p-2 border border-gray-300 text-right"},"TOTALES:",-1)),s("td",Y1,_(x.value)+" Mins",1),v[20]||(v[20]=s("td",{colspan:"3",class:"p-2 border border-gray-300"},null,-1)),s("td",z1,_(d.value.toFixed(2)),1),s("td",Q1,_($.value.toFixed(2)),1),s("td",J1,_(y.value.toFixed(2)),1),v[21]||(v[21]=s("td",{colspan:"2",class:"p-2 border border-gray-300"},null,-1))])])):z("",!0)])])]),s("div",X1,[s("div",Z1,[v[23]||(v[23]=s("div",{class:"stat-title"},"Total Cadenas",-1)),s("div",ex,_(c.value.length),1),v[24]||(v[24]=s("div",{class:"stat-desc"},"Registradas",-1))]),s("div",tx,[v[25]||(v[25]=s("div",{class:"stat-title"},"Horas Totales",-1)),s("div",sx,_(x.value),1),v[26]||(v[26]=s("div",{class:"stat-desc"},"Horas trabajadas",-1))]),s("div",nx,[v[27]||(v[27]=s("div",{class:"stat-title"},"Total Galones",-1)),s("div",ox,_(d.value.toFixed(2)),1),v[28]||(v[28]=s("div",{class:"stat-desc"},"Acumulados",-1))]),s("div",rx,[v[29]||(v[29]=s("div",{class:"stat-title"},"Total Barriles",-1)),s("div",lx,_($.value.toFixed(2)),1),v[30]||(v[30]=s("div",{class:"stat-desc"},"Acumulados",-1))]),s("div",ax,[v[31]||(v[31]=s("div",{class:"stat-title"},"Total M",-1)),s("div",ix,_(y.value.toFixed(2)),1),v[32]||(v[32]=s("div",{class:"stat-desc"},"Acumulados",-1))])])]))}},dx=Ud({history:yd("/"),routes:[{path:"/",redirect:"/project"},{path:"/project",name:"projects-detail",component:lb},{path:"/resource/form",name:"resource-form",component:Yb},{path:"/custody-chain",name:"custody-chain",component:uv},{path:"/custody-chain/form/:id?",name:"custody-chain-form",component:Yy},{path:"/work-sheet/:id/",name:"sheet-project-view",component:cx}]}),yo=Sc(Ld);yo.use(Ac());yo.use(dx);yo.mount("#vue-app");

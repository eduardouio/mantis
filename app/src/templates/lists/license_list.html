{% extends 'base/base.html' %}
{% block content %}
<div class="container-xl mx-auto mt-3 mb-3 border shadow rounded bg-opacity-50 m-2 p-2">
        <div class="d-flex justify-content-between">
        <span class="text-primary">
            {{ title_section }}
        </span>
        {% if action %}
        <span class="bg-peisol-secondary bg-gradient p-2 rounded">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circle-check" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#555555" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24V0H0z" fill="none"/>
                <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
                <path d="M9 12l2 2l4 -4" />
              </svg>
            {{ message }}
        </span>
        {% endif %}
        <a href="{% url 'license_create' %}" class="btn btn-sm btn-default">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-plus" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#555555" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24V0H0z" fill="none"/>
                <path d="M12 5l0 14" />
                <path d="M5 12l14 0" />
              </svg>
            Agregar Licencia
        </a>
    </div>
    </div>
    <div class="w-[90%] mx-auto">
        <table id="datatable" class="table table-bordered table-striped">
            <thead>
            <tr>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600">#</th>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600">Clave de Licencia</th>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600">Activada el</th>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600">Expira el</th>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600">Rol</th>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600">Empresa</th>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600">Estado</th>
                <th class="bg-blue-400 bg-opacity-75 text-gray-600 no-export">Usuario</th>
            </tr>
            </thead>
            <tbody>
                {% for item in object_list %}
                <tr>
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td class="text-center">{{ item.license_key }}</td>
                    <td class="text-center">{{ item.activated_on|date:"Y-m-d" }}</td>
                    <td class="text-center">{{ item.expires_on|date:"Y-m-d" }}</td>
                    <td class="text-center">{{ item.role }}</td>
                    <td class="text-center">{{ item.enterprise }}</td>
                    <td class="text-center">{% if item.is_active %}Activo{% else %}Inactivo{% endif %}</td>
                    <td class="text-center">{{ item.user_email|default:"N/A" }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
